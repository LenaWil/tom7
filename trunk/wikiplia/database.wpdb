WPDB
471
128.2.203.136 344 180/(let '__metadata '(("ip" "128.2.203.136") ("time" "Fri, 02 Mar 2007 15:09:00 EST") ("source" "128.2.203.136.page")) '(string "Hello, I am 128.2.203.136 and this is my user page."))

128.2.203.136.page 343 139/(let '__metadata '(("ip" "128.2.203.136") ("time" "Fri, 02 Mar 2007 15:09:00 EST")) '"Hello, I am 128.2.203.136 and this is my user page.")

TPL 469 2322/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sun, 18 Mar 2007 15:35:22 EST") ("source" "TPL.page") ("summary" "initial valid version of license")) '(string "            TIA PUBLIC LICENSE" "\n          Revision 468, March 2007" "<br/><br/>" "BEGIN INVINCIBLE SECTION 1" "<br/><br/>" "This software is Copyright (c) 2007-infinity The Regents of the " "\nWikiplia Foundation. Permission is not granted to reproduce this " "\nsoftware or license except by the terms explicitly enumerated below." "<br/><br/>" "I. Invincible Sections" "<br/><br/>" " This license contains certain invincible sections, denoted by the text" "\n \"BEGIN INVINCIBLE SECTION <n>\" and \"END INVINCIBLE SECTION <n>\"." "\n Such sections may not be modified under any circumstances. " "<br/><br/>" "END INVINCIBLE SECTION 1" "<br/><br/>" "BEGIN INVINCIBLE SECTION 2" "<br/><br/>" "II. Version Idenfitication and Invalid Licenses" "<br/><br/>" " This license must identify itself in the header as Revision <n> for" "\n some number <n>, which must be the same as the revision number in the" "\n Wikiplia repository for the key \"TPL\" in which the license text is" "\n stored. If this is not the case, then this version of the license is" "\n considered Invalid and Void." "<br/><br/>" " Permission is not granted to distribute the software or license using" "\n any Invalid version of the license." "<br/><br/>" "END INVINCIBLE SECTION 2" "<br/><br/>" "BEGIN INVINCIBLE SECTION 3" "<br/><br/>" "III. Option of License" "<br/><br/>" " The licensee has the option to choose any revision of the license" "\n prior to (numerically less than) this version as the licensing" "\n terms for the software and license." "<br/><br/>" "END INVINCIBLE SECTION 3" "<br/><br/>" "BEGIN INVINCIBLE SECTION 4" "<br/><br/>" " IV. Heredity of License" "<br/><br/>" " Any copy or derivative work of this software or license must be" "\n licensed under the TIA Public License." "<br/><br/>" "END INVINCIBLE SECTION 4" "<br/><br/>" "BEGIN INVINCIBLE SECTION 5" "<br/><br/>" "V. Completeness of Copy" "<br/><br/>" " This software and license may only be copied in their entirety," "\n including the entire revision history." "<br/><br/>" "END INVINCIBLE SECTION 5" "<br/><br/>" "VI. Freedom to edit" "<br/><br/>" " Permission is hereby granted to edit this license."))

TPL.page 468 1961/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sun, 18 Mar 2007 15:35:22 EST") ("summary" "initial valid version of license")) '"            TIA PUBLIC LICENSE\n          Revision 468, March 2007\n\nBEGIN INVINCIBLE SECTION 1\n\nThis software is Copyright (c) 2007-infinity The Regents of the \nWikiplia Foundation. Permission is not granted to reproduce this \nsoftware or license except by the terms explicitly enumerated below.\n\nI. Invincible Sections\n\n This license contains certain invincible sections, denoted by the text\n \"BEGIN INVINCIBLE SECTION <n>\" and \"END INVINCIBLE SECTION <n>\".\n Such sections may not be modified under any circumstances. \n\nEND INVINCIBLE SECTION 1\n\nBEGIN INVINCIBLE SECTION 2\n\nII. Version Idenfitication and Invalid Licenses\n\n This license must identify itself in the header as Revision <n> for\n some number <n>, which must be the same as the revision number in the\n Wikiplia repository for the key \"TPL\" in which the license text is\n stored. If this is not the case, then this version of the license is\n considered Invalid and Void.\n\n Permission is not granted to distribute the software or license using\n any Invalid version of the license.\n\nEND INVINCIBLE SECTION 2\n\nBEGIN INVINCIBLE SECTION 3\n\nIII. Option of License\n\n The licensee has the option to choose any revision of the license\n prior to (numerically less than) this version as the licensing\n terms for the software and license.\n\nEND INVINCIBLE SECTION 3\n\nBEGIN INVINCIBLE SECTION 4\n\n IV. Heredity of License\n\n Any copy or derivative work of this software or license must be\n licensed under the TIA Public License.\n\nEND INVINCIBLE SECTION 4\n\nBEGIN INVINCIBLE SECTION 5\n\nV. Completeness of Copy\n\n This software and license may only be copied in their entirety,\n including the entire revision history.\n\nEND INVINCIBLE SECTION 5\n\nVI. Freedom to edit\n\n Permission is hereby granted to edit this license.")

b%3Acompile 2 51/(##CLOSURE## () "s" (parse (xcase s 'no '(h _ h))))

b%3Acompile.b 1 115/";; b \"compiler\" is trivial -- it's just the built-in XESP parser\n(lambda 's '(parse (xcase s 'no '(h _ h))))\n"

home 471 1758/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sun, 18 Mar 2007 15:36:05 EST") ("source" "home.page") ("summary" "link up license")) '(string "Welcome to Wikiplia, the free programming language that anyone can edit!" "<br/><br/>" "If you just want to play around, you can start by editing in the " (let 'exists (handle '(let '_ (head "sandbox") '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/sandbox\">sandbox</a>")) "." "<br/><br/>" "If you want to improve the syntax and features for creating pages, edit " (let 'exists (handle '(let '_ (head "page:compile.w") '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/page:compile.w\">page:compile.w</a>")) "." "<br/><br/>" "If you want to improve the wiki software itself, edit " (let 'exists (handle '(let '_ (head "main-go.w") '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/main-go.w\">main-go.w</a>")) " or even " (let 'exists (handle '(let '_ (head "main.b") '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/main.b\">main.b</a>")) "." "<br/><br/>" "If you want to improve the programming language that the wiki is written in, edit " (let 'exists (handle '(let '_ (head "w:compile.w") '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/w:compile.w\">w:compile.w</a>")) ". Don't screw up!" "<br/><br/>" (let 'exists (handle '(let '_ (head "TPL") '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/TPL\">Copyright &copy; 2007</a>")) " The Regents of the " (let 'exists (handle '(let '_ (head "about") '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/about\">Wikiplia Foundation</a>")) "."))
!453=M434:4/2007d432,431:M428:12/"\nCopyrightd426,391:M32:11/compiler"))M30:4/pageM28:3/newi27,2:5/"test1/ M18:8/11:23:31M12:2/10M10:5/"Sat,X
!428=M18:8/17:11:29M12:2/09M10:5/"Fri,X
!386=M446:28/href=\"/run/About\">WikipliaM422:8/"About")M34:16/bootstrapping"))M32:3/nowM30:2/isM28:9/"compilerM18:8/09:29:24M12:2/08M10:5/"Thu,M6:12/"127.0.0.1")X
!384=M382:44/href=\"/run/w:compile.b\">w:compile.b</a>"))M358:14/"w:compile.b")M34:9/"fixed"))d32,27:M18:8/09:16:23X
!380=M440:27/href=\"/run/About\">ikipliaM28:12/pipelinks"))i27,2:5/"test1/ M18:8/09:15:17X
!350=M446:14/Foundation."))M444:8/Wikipliad442,403:M30:13/"home.page"))d28,23:M18:8/15:16:51M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!334=M372:39/href=\"w:compile.b\">w:compile.b</a>"))M298:29/href=\"main.b\">main.b</a>"))M252:35/href=\"main-go.w\">main-go.w</a>"))M188:45/href=\"page:compile.w\">page:compile.w</a>"))M118:31/href=\"sandbox\">sandbox</a>"))M18:8/14:49:56X
!330=M384:18/up!\n\n\nCopyrightd382,379:M304:8/".\n\nIfd302,299:M194:8/".\n\nIfd192,189:M124:8/".\n\nIfd122,119:M52:11/edit!\n\nIfd50,47:M18:8/14:47:28X
!324=M18:8/14:44:42X
!294=M356:37/href=\"w:compile.b\">w:compile.b</a>"M354:14/class=\"blue\"d352,343:d340,319:M286:27/href=\"main.b\">main.b</a>"M284:14/class=\"blue\"d282,273:d270,249:M240:33/href=\"main-go.w\">main-go.w</a>"M238:14/class=\"blue\"d236,227:d224,203:M180:43/href=\"page:compile.w\">page:compile.w</a>"M178:14/class=\"blue\"d176,167:d164,143:M114:29/href=\"sandbox\">sandbox</a>"M112:13/class=\"red\"d110,101:d98,77:M18:8/10:31:40X
!292=M158:27/href=\"main.w\">main.w</a>"M156:13/class=\"red\"M18:8/10:30:32X

home.page 470 659/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sun, 18 Mar 2007 15:36:05 EST") ("summary" "link up license")) '"Welcome to Wikiplia, the free programming language that anyone can edit!\n\nIf you just want to play around, you can start by editing in the [[sandbox]].\n\nIf you want to improve the syntax and features for creating pages, edit [[page:compile.w]].\n\nIf you want to improve the wiki software itself, edit [[main-go.w]] or even [[main.b]].\n\nIf you want to improve the programming language that the wiki is written in, edit [[w:compile.w]]. Don't screw up!\n\n[[TPL|Copyright &copy; 2007]] The Regents of the [[about|Wikiplia Foundation]].")
!452=M170:4/2007M166:18/up!\n\n\nCopyrightM28:11/compiler"))M26:4/pageM24:3/newi23,2:5/"test1/ M18:8/11:23:31M12:2/10M10:5/"Sat,X
!427=M18:8/17:11:29M12:2/09M10:5/"Fri,X
!385=M182:16/[[About|WikipliaM30:16/bootstrapping"))M28:3/nowM26:2/isM24:9/"compilerM18:8/09:29:24M12:2/08M10:5/"Thu,M6:12/"127.0.0.1")X
!383=M162:16/[[w:compile.b]].M30:9/"fixed"))d28,23:M18:8/09:16:23X
!379=M24:12/pipelinks"))i23,2:5/"test1/ M18:8/09:15:17X
!349=M180:13/Foundation.")M178:8/WikipliaM26:6/EST"))M24:8/15:16:51d22,17:M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!333=M18:8/14:49:56X
!329=M18:8/14:47:28X
!323=M18:8/14:44:42X
!293=M18:8/10:31:40X
!291=M122:17/[[main.w]].\n\nIfM18:8/10:30:32X

main 455 494/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sat, 10 Mar 2007 11:26:50 EST") ("source" "main.b") ("summary" "update comment")) '(let 'nil '() '(let 'car (lambda 'args '(xcase args 'noa '(arg u (xcase arg 'error_car_nil '(h u h))))) '(let 'cdr (lambda 'args '(xcase args 'nob '(arg u (xcase arg 'error_cdr_nil '(u t t))))) '(if (eq request.url "/emergency-revert") '(let '_ (insert "main-go" (read "main-go" (car (cdr (history "main-go"))))) '"OK, reverted") '(eval (head "main-go")))))))
!11=M134:15/"main-go"))))))d32,1:X
!7=M102:30/action!"))))))))))))))))))))))M100:8/"unknowni99,58:9/stdheader1/ 8/'(string1/ 12/it</a>?"))))1/ 10/"\">create1/ 10/fulltarget1/ 14/href=\"/edit/"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 8/"Perhaps1/ 1/"1/ 6/"</b>.1/ 10/fulltarget1/ 4/<b>"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 6/"There1/ 7/(string1/ 3/'(_1/ 7/msg))))1/ 1/"1/ 10/error</b>:1/ 11/"<b>Runtime1/ 7/(string1/ 5/'(msg1/ 5/prog)1/ M96:8/'(handleM94:11/fulltarget)M92:5/(headi91,254:5/'prog1/ 5/'(let1/ 7/(handle1/ 9/<hr/><p>"1/ 3/...1/ 1/"1/ 10/fulltarget1/ 1/"1/ 11/"<p>running1/ 11/fulltarget)1/ 5/(tabs1/ 7/stdpage1/ 9/stdheader1/ 8/'(string1/ 6/"run")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 10/rev)))))))1/ 4/(int1/ 6/target1/ 6/'(read1/ 7/target)1/ 6/'(head1/ 4/"_")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 9/stdheader1/ 8/'(string1/ 12/rev_target))1/ 4/(cdr1/ 4/(car1/ 7/'target1/ 5/'(let1/ 11/rev_target)1/ 4/(car1/ 4/'rev1/ 5/'(let1/ 2/0)1/ 10/fulltarget1/ 3/"/"1/ 5/token1/ 6/(token1/ 11/'rev_target1/ 5/'(let1/ 6/"raw")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 15/it</a>?")))))))1/ 10/"\">create1/ 6/target1/ 14/href=\"/edit/"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 8/"Perhaps1/ 1/"1/ 6/"</b>.1/ 6/target1/ 4/<b>"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 6/"There1/ 7/(string1/ 3/'(_1/ 11/"</pre>\n")1/ 7/rev))))1/ 4/(int1/ 6/target1/ 6/'(read1/ 7/target)1/ 6/'(head1/ 4/"_")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 11/(htmlescape1/ 9/"<pre>\n"1/ 8/'(string1/ 7/(handle1/ 9/<hr/><p>"1/ 3/...1/ 1/"1/ 5/rev))1/ 1/"1/ 1/@1/ 1/"1/ 8/'(string1/ 3/'""1/ 4/"_")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 6/target1/ 1/"1/ 11/"<p>viewing1/ 7/target)1/ 5/(tabs1/ 7/stdpage1/ 9/stdheader1/ 8/'(string1/ 12/rev_target))1/ 4/(cdr1/ 4/(car1/ 7/'target1/ 5/'(let1/ 11/rev_target)1/ 4/(car1/ 4/'rev1/ 5/'(let1/ 2/0)1/ 10/fulltarget1/ 3/"/"1/ 5/token1/ 6/(token1/ 11/'rev_target1/ 5/'(let1/ 7/"view")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 14/fulltarget))))1/ M88:3/"))i87,4:5/"</a>1/ 5/args)1/ M84:5/"\">"M82:10/fulltargetM80:3/"/"i79,70:5/args)1/ 4/(car1/ 14/href=\"/view/"1/ 3/"<a1/ 8/'(string1/ 5/'args1/ 7/(lambda1/ 3/map1/ 4/(map1/ 7/(string1/ 12/...<hr/><p>"1/ 1/"1/ 10/fulltarget1/ 1/"1/ 3/for1/ 11/"<p>history1/ 11/fulltarget)1/ 5/(tabs1/ 7/stdpage1/ 9/stdheader1/ 8/'(string1/ 10/"history")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 20/fulltarget))))))))))1/ 10/"/view/_/"1/ 7/(string1/ 10/'(redirect1/ 14/fulltarget))))1/ 10/"/view/_/"1/ 7/(string1/ 10/'(redirect1/ 4/exe)1/ 4/base1/ M72:7/msg))))i71,422:1/"1/ 7/because1/ 6/failed1/ 1/"1/ 10/fulltarget1/ 1/"1/ 2/of1/ 12/"compilation1/ 7/(string1/ 6/'abort1/ 5/(list1/ 5/'(msg1/ 4/dat)1/ 9/'(compile1/ 7/(handle1/ 4/'exe1/ 5/'(let1/ 7/compile1/ 4/'(if1/ 4/dat)1/ 10/fulltarget1/ 7/(insert1/ 2/'_1/ 5/'(let1/ 5/nil))1/ 3/'(_1/ 13/":compile")))1/ 3/ext1/ 7/(string1/ 5/(head1/ 6/'(eval1/ 7/(handle1/ 8/'compile1/ 5/'(let1/ 13/fulltarget)))1/ 10/"/view/_/"1/ 7/(string1/ 10/'(redirect1/ 4/dat)1/ 10/fulltarget1/ 7/(insert1/ 2/'_1/ 5/'(let1/ 3/"")1/ 4/base1/ 3/(eq1/ 4/'(if1/ 13/form.contents1/ 4/'dat1/ 5/'(let1/ 10/base_ext))1/ 4/(cdr1/ 4/(car1/ 4/'ext1/ 5/'(let1/ 9/base_ext)1/ 4/(car1/ 5/'base1/ 5/'(let1/ 3/1))1/ 11/fulltarget)1/ 5/(size1/ 2/(-1/ 10/fulltarget1/ 3/"."1/ 6/rtoken1/ 7/(rtoken1/ 9/'base_ext1/ 5/'(let1/ 7/"save")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 25/value=\"save\"></form>"))1/ 11/type=submit1/ 7/"<input1/ 15/"</textarea>\n"1/ 7/data)")1/ 11/'"(internal1/ 9/symbol)")1/ 5/"(was1/ 3/'(_1/ 4/")")1/ 11/oldcontents1/ 1/"1/ 3/int1/ 5/"(was1/ 8/'(string1/ 12/oldcontents)1/ 12/'(htmlescape1/ 7/data)")1/ 6/quoted1/ 5/"(was1/ 3/'(_1/ 7/data)")1/ 4/list1/ 5/"(was1/ 1/_1/ 3/'(_1/ 3/'""1/ 11/oldcontents1/ 6/(xcase1/ 19/name=\"contents\">"1/ 8/cols=1201/ 7/rows=351/ 13/"\"><textarea1/ 10/fulltarget1/ 16/action=\"/save/"1/ 15/method=\"post\"1/ 6/"<form1/ 13/deleted.</b>"1/ 2/be1/ 4/will1/ 2/It1/ 11/permission.1/ 7/without1/ 8/websites1/ 5/other1/ 4/from1/ 4/text1/ 4/copy1/ 3/not1/ 11/"<br/><b>Do1/ 3/"))1/ 3/...1/ 1/"1/ 10/fulltarget1/ 1/"1/ 4/page1/ 3/new1/ 9/"creating1/ 8/'(string1/ 2/")1/ 3/...1/ 1/"1/ 10/fulltarget1/ 1/"1/ 8/"editing1/ 8/'(string1/ 11/oldcontents1/ 3/(if1/ 5/"<p>"1/ 11/fulltarget)1/ 5/(tabs1/ 7/stdpage1/ 9/stdheader1/ 8/'(string1/ 5/nil))1/ 3/'(_1/ 11/fulltarget)1/ 6/'(head1/ 7/(handle1/ 12/'oldcontents1/ 5/'(let1/ 7/"edit")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 11/"</div>")))1/ 1/"1/ 18/"\">run</a></span>1/ 4/page1/ 13/href=\"/run/"1/ 16/class=\"tab\"><a1/ 6/"<span1/ 1/"1/ 22/"\">history</a></span>1/ 4/page1/ 17/href=\"/history/"1/ 16/class=\"tab\"><a1/ 6/"<span1/ 1/"1/ 19/"\">edit</a></span>1/ 4/page1/ 14/href=\"/edit/"1/ 16/class=\"tab\"><a1/ 6/"<span1/ 1/"1/ 19/"\">view</a></span>1/ 4/page1/ 16/href=\"/view/_/"1/ 16/class=\"tab\"><a1/ 6/"<span1/ 16/class=\"tabs\">"1/ 5/"<div1/ 8/'(string1/ 5/args)1/ 4/(car1/ 5/'page1/ 5/'(let1/ 5/'args1/ 7/(lambda1/ 5/'tabs1/ 5/'(let1/ 15/action_target))1/ 4/(cdr1/ 4/(car1/ 11/'fulltarget1/ 5/'(let1/ 14/action_target)1/ 4/(car1/ 7/'action1/ 5/'(let1/ 2/0)1/ 3/url1/ 3/"/"1/ 5/token1/ 6/(token1/ 14/'action_target1/ 5/'(let1/ 4/0)))1/ i69,44:3/"/"1/ 5/token1/ 6/(token1/ 4/(cdr1/ 4/(car1/ 4/'url1/ 5/'(let1/ 7/0))))))1/ 4/hrec1/ 5/(hrec1/ 6/string1/ 5/(cons1/ 6/'(eval1/ 9/1))))))))1/ 1/n1/ 2/(+1/ 4/self1/ 5/(self1/ 6/'ch)))1/ 8/'"&amp;"1/ 4/"&")1/ 2/ch1/ i65,458:7/'"&gt;"1/ 4/">")1/ 2/ch1/ 3/(eq1/ 4/'(if1/ 7/'"&lt;"1/ 4/"<")1/ 2/ch1/ 3/(eq1/ 3/(if1/ 6/'(cons1/ 2/n)1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let1/ 4/'nil1/ 3/s))1/ 5/(size1/ 1/n1/ 3/(eq1/ 4/'(if1/ 6/args))1/ 4/(cdr1/ 4/(car1/ 2/'n1/ 5/'(let1/ 5/args)1/ 4/(car1/ 5/'self1/ 5/'(let1/ 5/'args1/ 7/(lambda1/ 5/'hrec1/ 5/'(let1/ 6/hargs)1/ 4/(car1/ 2/'s1/ 5/'(let1/ 6/'hargs1/ 7/(lambda1/ 11/'htmlescape1/ 5/'(let1/ 11/1))))))))))1/ 1/n1/ 2/(-1/ 1/s1/ 3/sep1/ 4/self1/ 6/'(self1/ 5/1))))1/ 1/n1/ 2/(+1/ 2/s)1/ 5/(size1/ 2/(-1/ 2/1)1/ 1/n1/ 2/(+1/ 1/s1/ 7/(substr1/ 2/n)1/ 1/01/ 1/s1/ 7/(substr1/ 6/'(list1/ 4/sep)1/ 2/ch1/ 3/(eq1/ 4/'(if1/ 2/n)1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let1/ 2/s)1/ 2/""1/ 6/'(list1/ 3/1))1/ 1/01/ 2/(-1/ 1/n1/ 3/(eq1/ 4/'(if1/ 8/args))))1/ 4/(cdr1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'n1/ 5/'(let1/ 7/args)))1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'s1/ 5/'(let1/ 6/args))1/ 4/(cdr1/ 4/(car1/ 4/'sep1/ 5/'(let1/ 5/args)1/ 4/(car1/ 5/'self1/ 5/'(let1/ 5/'args1/ 7/(lambda1/ 7/'rtoken1/ 5/'(let1/ 11/1))))))))))1/ 1/n1/ 2/(+1/ 1/s1/ 3/sep1/ 4/self1/ 6/'(self1/ 5/1))))1/ 1/n1/ 2/(+1/ 2/s)1/ 5/(size1/ 2/(-1/ 2/1)1/ 1/n1/ 2/(+1/ 1/s1/ 7/(substr1/ 2/n)1/ 1/01/ 1/s1/ 7/(substr1/ 6/'(list1/ 4/sep)1/ 2/ch1/ 3/(eq1/ 4/'(if1/ 2/n)1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let1/ 3/"")1/ 1/s1/ 6/'(list1/ 3/s))1/ 5/(size1/ 1/n1/ 3/(eq1/ 4/'(if1/ 8/args))))1/ 4/(cdr1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'n1/ 5/'(let1/ 7/args)))1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'s1/ 5/'(let1/ 6/args))1/ 4/(cdr1/ 4/(car1/ 4/'sep1/ 5/'(let1/ 5/args)1/ 4/(car1/ 5/'self1/ 5/'(let1/ 5/'args1/ 7/(lambda1/ 6/'token1/ 5/'(let1/ 9/'nil)))))1/ 4/l)))1/ 4/(cdr1/ 1/f1/ 4/self1/ 5/(self1/ 3/l))1/ 4/(car1/ 2/(f1/ 6/'(cons1/ 1/l1/ 4/'(if1/ 7/args)))1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'l1/ 5/'(let1/ 6/args))1/ 4/(cdr1/ 4/(car1/ 2/'f1/ 5/'(let1/ 5/args)1/ 4/(car1/ 5/'self1/ 5/'(let1/ 5/'args1/ 7/(lambda1/ 4/'map1/ 5/'(let1/ 12/"\r\n\r\n"))1/ 7/target)1/ 4/(car1/ 1/"1/ 10/"Location:1/ 8/'(string1/ 7/'target1/ 7/(lambda1/ 9/'redirect1/ 5/'(let1/ 36/title=\"polybook\"/></head><body>\n"1/ 28/href=\"/raw/_/polybook.css\"1/ 17/type=\"text/css\"1/ 14/rel=stylesheet1/ 18/"<html><head><link1/ 8/'stdpage1/ 5/'(let1/ 22/charset=utf-8\r\n\r\n"1/ 10/text/html;1/ 14/"Content-Type:1/ 10/'stdheader1/ 5/'(let1/ X
!4=X

main-go 467 10842/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sun, 18 Mar 2007 14:30:47 EST") ("source" "main-go.w") ("summary" "add license link")) '(let 'car (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "car nil") '(h _ h))))) '(let 'cdr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "cdr nil") '(_ t t))))) '(let 'map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l ''() '(h t (cons (f h) (self self f t))))))))))) '(let 'map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (map map f l)))))) '(let 'foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(b fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l 'b '(h t (f h (self self f b t))))))))))))) '(let 'foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(b fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (foldr foldr f b l)))))))) '(let '@ (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(l1 fnarg_ (xcase fnarg_ 'noarg '(l2 fnarg_ (xcase l1 'l2 '(h t (cons h (self self t l2))))))))))) '(let '@ (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l1 fnarg_ (xcase fnarg_ 'noarg '(l2 fnarg_ (@ @ l1 l2)))))) '(let 'linkup (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (xcase fnarg_ 'noarg '(text fnarg_ (let 'exists (handle '(let '_ (head s) '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/" s "\">" text "</a>"))))))) '(let 'stdheader "Content-Type: text/html; charset=utf-8\r\n\r\n" '(let 'stdpage (string "<html><head><link rel=stylesheet type=\"text/css\" href=\"/raw/_/polybook.css\" title=\"polybook\"/></head><body><div id=\"container\"><div style=\"float:left;\"><object data=\"/typed/_/image/svg+xml/polybook_logo.svg\" type=\"image/svg+xml\" style=\"overflow-x:hidden;\" width=\"200\" height=\"100\">(Wikiplia logo in SVG)</object><br/><div class=\"sidebar\">" (linkup "home" "Home page") "<br/>" (linkup "featured" "Featured content") "<br/>" (linkup "TPL" "License") "<br/>" (linkup "about" "About Wikiplia") "<br/>" "</div></div><div style=\"margin-left:210;\" id=\"content\">\n") '(let 'endpage "</div></div></body></html>" '(let 'redirect (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(target fnarg_ (string "Location: " target "\r\n\r\n")))) '(let 'warn (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (string "<div class=\"message\"><span class=\"warnimage\" style=\"float:left;\">&nbsp;</span>" s "</div>")))) '(let 'token (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(sep fnarg_ (xcase fnarg_ 'noarg '(s fnarg_ (xcase fnarg_ 'noarg '(n fnarg_ (if (eq n (size s)) '(list s "") '(let 'ch (sub s n) '(if (eq ch sep) '(list (substr s 0 n) (substr s (+ n 1) (- (size s) (+ n 1)))) '(self self sep s (+ n 1)))))))))))))) '(let 'rtoken (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(sep fnarg_ (xcase fnarg_ 'noarg '(s fnarg_ (xcase fnarg_ 'noarg '(n fnarg_ (if (eq n (- 0 1)) '(list "" s) '(let 'ch (sub s n) '(if (eq ch sep) '(list (substr s 0 n) (substr s (+ n 1) (- (size s) (+ n 1)))) '(self self sep s (- n 1)))))))))))))) '(let 'tokens (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(sep fnarg_ (xcase fnarg_ 'noarg '(s fnarg_ (let 't (token token sep s 0) '(if (eq (car (cdr t)) "") '(cons (car t) '()) '(cons (car t) (self self sep (car (cdr t))))))))))))) '(let 'htmlescape (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (let 'hrec (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(st fnarg_ (xcase fnarg_ 'noarg '(en fnarg_ (if (eq en (size s)) '(list (substr s st (- en st))) '(let 'ch (sub s en) '(if (eq ch "<") '(cons (substr s st (- en st)) (cons "&lt;" (self self (+ en 1) (+ en 1)))) '(if (eq ch ">") '(cons (substr s st (- en st)) (cons "&gt;" (self self (+ en 1) (+ en 1)))) '(if (eq ch "&") '(cons (substr s st (- en st)) (cons "&amp;" (self self (+ en 1) (+ en 1)))) '(self self st (+ en 1)))))))))))))) '(eval (cons string (hrec hrec 0 0))))))) '(let 'url (car (cdr (token token "/" request.url 0))) '(let 'action_target (token token "/" url 0) '(let 'action (car action_target) '(let 'fulltarget (car (cdr action_target)) '(let 'insertpage (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(key fnarg_ (xcase fnarg_ 'noarg '(data fnarg_ (xcase fnarg_ 'noarg '(metadata fnarg_ (let 'metadata (cons (list "ip" request.ip) (cons (list "time" request.time) metadata)) '(let 'value (list (parse "let") (quote (parse "__metadata")) (quote metadata) (quote data)) '(insert key value)))))))))) '(let 'getpage (let 'issym (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(wl fnarg_ (xcase fnarg_ 'noarg '(sy fnarg_ (xcase wl ''() '(_ _ '()) '(_ '()) ''() ''() '(s (eq s sy)) ''())))))) '(let 'isqsym (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(qs fnarg_ (xcase qs ''() '(_ _ '()) '(q (issym q "__metadata")) ''() ''() '(_ '()) ''())))) '(lambda 'fnarg_ '(xcase fnarg_ 'noarg '(key fnarg_ (xcase fnarg_ 'noarg '(rev fnarg_ (let 'val (if rev '(read key rev) '(head key)) '(let 'v (list val '()) '(xcase val 'v '(wantlet v2 (xcase v2 'v '(wantqsym v3 (xcase v3 'v '(wantqmd v4 (xcase v4 'v '(wantqpage v5 (if (issym wantlet "let") '(if (isqsym wantqsym) '(xcase wantqmd 'v '(_ _ v) '(themd (xcase wantqpage 'v '(_ _ v) '(page (list page themd)) 'v 'v '(_ v) 'v)) 'v 'v '(_ v) 'v) 'v) 'v)) '(_ v) 'v 'v '(_ v) 'v)) '(_ v) 'v 'v '(_ v) 'v)) '(_ v) 'v 'v '(_ v) 'v)) '(_ v) 'v 'v '(_ v) 'v)))))))))) '(let 'mdkey (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(k fnarg_ (xcase fnarg_ 'noarg '(md fnarg_ (let 'mk (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(md fnarg_ (xcase md ''() '(h t (if (eq k (car h)) '(car (cdr h)) '(self self t))))))))) '(mk mk md))))))) '(let 'DEFAULT-EXT "page" '(let 'nopage-create (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(target fnarg_ (let 'ptarget (let 'base_ext (rtoken rtoken "." target (- (size target) 1)) '(let 'base (car base_ext) '(let 'ext (car (cdr base_ext)) '(if (eq base "") '(string ext "." DEFAULT-EXT) '(handle '(let '_ (int ext) '(string target "." DEFAULT-EXT)) '(_ target)))))) '(string "There is no page called <b>" target "</b>. " "Perhaps you'd like to <a href=\"/edit/" ptarget "\">create it</a>?"))))) '(let 'tabs (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(page fnarg_ (string "<div class=\"tabs\">" "<span class=\"userimage\" style=\"float:right\">" (linkup request.ip request.ip) "</span>" "<span class=\"tab\"><a href=\"/view/_/" page "\">view</a></span> " "<span class=\"tab\"><a href=\"/edit/" page "\">edit</a></span> " "<span class=\"tab\"><a href=\"/history/" page "\">history</a></span> " "<span class=\"tab\"><a href=\"/run/" page "\">run</a></span> " "</div>")))) '(if (eq action "edit") '(let 'oldcontents_md (handle '(getpage fulltarget '()) '(_ (list '() '()))) '(let 'oldcontents (car oldcontents_md) '(let 'md (car (cdr oldcontents_md)) '(string stdheader stdpage (tabs fulltarget) "<p>" (if oldcontents '(string "editing " fulltarget " ... ") '(string "creating new page " fulltarget " ... ")) (let 'source (mdkey "source" md) '(if source '(warn (string "This page was produced by compiling source code.<br/>" "You probably want to edit <a href=\"/view/_/" source "\">" source "</a> instead!")) '"")) "<br/><b>Do not copy text from other websites without permission. It will be deleted.</b>" "<form method=\"post\" action=\"/save/" fulltarget "\"><textarea class=\"contents\" rows=35 cols=120 name=\"contents\">" (xcase oldcontents '"" '(_ _ "(was list data)") '(_ "(was quoted data)") '(htmlescape oldcontents) '(string "(was int " oldcontents ")") '(_ "(was symbol)") '"(internal data)") "</textarea>\n<br/>" "<input type=text class=\"summary\" name=\"summary\"/>&nbsp;Edit&nbsp;summary&nbsp;" "<input type=submit class=\"save\" value=\"save\"/></form>")))) '(if (eq action "save") '(let 'base_ext (rtoken rtoken "." fulltarget (- (size fulltarget) 1)) '(let 'base (car base_ext) '(let 'ext (car (cdr base_ext)) '(let 'dat form.contents '(let 'md (list (list "summary" form.summary)) '(if (eq base "") '(let '_ (insertpage fulltarget dat md) '(redirect (string "/view/_/" fulltarget))) '(let 'compile (handle '(eval (head (string ext ":compile"))) '(_ '())) '(let '_ (insertpage fulltarget dat md) '(if compile '(let 'exe (compile dat) '(let '_ (insertpage base exe (cons (list "source" fulltarget) md)) '(redirect (string "/view/_/" fulltarget)))) '(redirect (string "/view/_/" fulltarget))))))))))) '(if (eq action "history") '(string stdheader stdpage (tabs fulltarget) "<p>history for " fulltarget " ...<hr/><p>" "<table><tbody>" (eval (cons (parse "string") (map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(r fnarg_ (let 'pmd (getpage fulltarget r) '(let 'md (car (cdr pmd)) '(let 'ip (mdkey "ip" md) '(string "<tr>" "<td><a href=\"/view/" r "/" fulltarget "\">" r "</a></td>" "<td>" (mdkey "time" md) "</td>" "<td><span class=\"userimage\">" (linkup ip ip) "</span></td>" "<td>" (mdkey "summary" md) "</td>" "</tr>"))))))) (history fulltarget)))) "</tbody></table>" endpage) '(if (eq action "view") '(let 'rev_target (token token "/" fulltarget 0) '(let 'rev (car rev_target) '(let 'target (car (cdr rev_target)) '(string stdheader stdpage (tabs target) "<p>viewing " target (if (eq rev "_") '"" '(string " @ " rev)) " ... <hr/><p>" (handle '(let 'page_md (getpage target (if (eq rev "_") ''() '(int rev))) '(let 'md (car (cdr page_md)) '(string "metadata: " md (let 'source (mdkey "source" md) '(if source '(string "<br/> <a href=\"/view/_/" (mdkey "source" md) "\">&rarr; " source "</a>") '"")) "<hr>" "page:\n<pre>" (htmlescape (string (car page_md))) "</pre>"))) '(msg (string "<span style=\"color : #BBBBBB;\">" msg "</span><br/>" (nopage-create target)))) endpage)))) '(if (eq action "raw") '(let 'rev_target (token token "/" fulltarget 0) '(let 'rev (car rev_target) '(let 'target (car (cdr rev_target)) '(let 'page_md (getpage target (if (eq rev "_") ''() '(int rev))) '(string stdheader (car page_md)))))) '(if (eq action "typed") '(let 'rev_target (tokens tokens "/" fulltarget) '(let 'rev (car rev_target) '(let 'typ (car (cdr rev_target)) '(let 'exttyp (car (cdr (cdr rev_target))) '(let 'target (car (cdr (cdr (cdr rev_target)))) '(let 'page_md (getpage target (if (eq rev "_") ''() '(int rev))) '(string "Content-Type: " typ "/" exttyp "; charset=utf-8\r\n\r\n" (car page_md)))))))) '(if (eq action "run") '(string stdheader stdpage (tabs fulltarget) "<p>running " fulltarget " ... <hr/><p>" (handle '(let 'prog (head fulltarget) '(handle '(eval prog) '(msg (string "<b>Runtime error</b>: " msg)))) '(_ (nopage-create fulltarget))) endpage) '(if (eq request.url "/") '(redirect "/run/home") '(string stdheader "404 not found! Maybe you want the <a href=\"/\">home page?</a>"))))))))))))))))))))))))))))))))))))))
!371=M3092:44/page?</a>"))))))))))))))))))))))))))))))))))d562,555:d414,199:M32:11/"sidebar"))d30,27:M18:8/16:49:27M12:2/07M10:5/"Wed,M6:12/"127.0.0.1")X
!360=M352:18/id=\"content\">\n"M348:23/SVG)</object></div><divd346,313:d284,283:M28:10/history"))i27,8:2/to1/ 9/summaries1/ 4/edit1/ 4/"add1/ M18:8/15:28:24M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!354=d2350,2341:M36:10/styling"))M34:3/forM32:4/formM28:2/oni27,2:8/"classes1/ M18:8/15:24:29X
!352=d2040,2039:d2032,2031:d1968,1967:M38:13/"main-go.w"))d36,23:M18:8/15:21:32X
!346=M2194:20/fulltarget))))))))))M2178:13/fulltarget)))d2176,2175:M2170:5/(listM2146:4/'())M2106:4/'())d2086,2075:M2022:27/value=\"save\"></form>"))))M2016:15/"</textarea>\n"d2014,2009:M18:8/15:10:14X
!342=M2304:13/"</tr>"))))))M2300:3/md)M2298:4/"ip"M2296:6/(mdkeyd2260,2251:M18:8/15:06:39X
!340=M1636:18/DEFAULT-EXT)))))))d1634,1631:M1626:7/(stringi1625,4:3/'(_1/ 8/'target)1/ M18:8/14:55:45X
!338=M1636:11/'target))))d1634,1615:M18:8/14:52:15X
!300=M2758:43/page?</a>")))))))))))))))))))))))))))))))))d1690,1689:M1686:14/color:red;\">"M1684:20/style=\"float:right;d264,191:M18:8/14:06:07X
!296=M2682:41/page?</a>")))))))))))))))))))))))))))))))M2644:11/it</a>?")))M2642:10/"\">createi2641,34:10/fulltarget1/ 14/href=\"/edit/"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 8/"Perhaps1/ 1/"1/ 6/"</b>.1/ 10/fulltarget1/ 4/<b>"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 6/"There1/ 7/(string1/ M2402:11/it</a>?")))M2400:10/"\">createi2399,32:6/target1/ 14/href=\"/edit/"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 8/"Perhaps1/ 1/"1/ 6/"</b>.1/ 6/target1/ 4/<b>"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 6/"There1/ d1580,1459:M18:8/10:33:55X
!257=M2626:38/action!"))))))))))))))))))))))))))))))M2624:8/"unknownd2622,2607:d2602,2591:M18:8/17:57:58M12:2/01M10:5/"Thu,X
!255=M2080:13/fulltarget)))M1996:7/(stringd1994,1989:M18:8/17:54:42X
!251=d2076,2075:M2070:5/"))))M2068:5/"</a>d2066,2045:M2032:3/"<aM2030:7/(stringd2028,2007:d1988,1987:d20,7:X
!247=M990:9/metadata)d988,981:X
!243=M2522:37/action!")))))))))))))))))))))))))))))M1674:16/instead!</div>")M1636:22/class=\"message\">ThisM1634:5/"<divM1632:8/'(stringd290,259:X
!240=M2382:12/rev)))))))))M2380:4/(inti2379,16:6/target1/ 6/'(read1/ 7/target)1/ 6/'(head1/ 4/"_")1/ 3/rev1/ 3/(eq1/ 3/(if1/ d2362,2341:M2276:10/rev)))))))M2274:4/(intM2272:6/targetM2270:6/'(readM2268:7/target)M2266:6/'(headd2264,2263:M2254:9/stdheaderM2252:8/'(stringd2250,2247:X
!238=M1744:26/value=\"save\"></form>")))M1594:9/"source")d1592,1591:d1536,1527:X
!236=d1632,1575:X
!233=M2082:10/"</pre>"))M2068:9/page_md))M2066:4/(cdrM2064:4/(card2060,2027:d2022,2013:X
!231=M2364:36/action!"))))))))))))))))))))))))))))d1404,1311:X
!229=M1580:25/value=\"save\"></form>"))M1432:5/'()))d1430,1419:M1416:11/fulltarget)M1414:6/'(headd1412,1411:M1408:12/'oldcontentsX
!227=M2256:35/action!")))))))))))))))))))))))))))d12,1:X
!224=M1696:4/exe)d1694,1687:M1684:7/(insertM1666:4/dat)d1664,1663:M1660:7/(insertX
!222=M1240:3/'c)d1228,1219:d1200,1187:M1158:7/'(themdM958:8/metadatad956,955:X
!220=M1196:3/'(qX
!218=M1894:12/#EEEEEE;\">"M1050:2/qlX
!216=M1890:13/class=\"colorX
!213=d1898,1887:M1884:3/'(_X
!210=M952:5/(evalM946:5/(evalX
!208=M1600:4/dat)d1598,1597:M1594:7/(insertX
!206=M1880:12/page_md)))))d1878,1877:M1870:1/"i1869,2:6/"page:1/ X
!204=M1880:11/page_md))))d1876,1875:X
!202=M1918:10/it</a>?"))M1882:8/'(stringd1880,1879:X
!171=M1916:11/it</a>?")))M1880:7/(stringM1878:3/'(_M1876:11/"</pre>\n")M1874:8/rev)))))M1872:4/(intM1870:6/targetM1868:6/'(readM1866:7/target)M1864:6/'(headd1862,1849:M1840:7/(stringM1838:11/(htmlescapeM1836:9/"<pre>\n"M1834:8/'(stringM1272:11/'v)))))))))M1132:1/vd1128,1119:M1104:2/'vX
!169=M2166:34/action!"))))))))))))))))))))))))))d1262,967:M956:9/metadata)M954:6/(quotei953,2:13/"__metadata")1/ d950,949:X
!167=M1870:33/action!")))))))))))))))))))))))))d966,887:X
!165=M1782:12/it</a>?"))))d1780,1779:M1362:14/fulltarget))))d1360,1359:X
!163=M218:22/"</div></body></html>"d210,209:d190,189:X
!161=M1512:15/it</a>?")))))))d1510,1509:X
!159=X
!156=M1780:32/action!"))))))))))))))))))))))))M214:22/SVG)</object></div>\n"d212,205:X
!154=M206:27/height=\"100\"></object>\n"d204,199:d196,195:M190:40/title=\"polybook\"/></head><body><objectd188,187:X
!152=M196:5//>\n"M194:21/style=\"float:left;\"M192:54/src=\"file:///c:/code/sf_svn/trunk/wikiplia/aaaa.svg\"M190:37/title=\"polybook\"/></head><body><imgd188,187:X
!151=M1760:47/'/typed/_/image/svg+xml/polybook_logo.svg))))))M1758:6/data="M1756:40/title=\"polybook\"/></head><body><objectd1754,187:X
!149=M192:32/action!"))))))))))))))))))))))))M190:8/"unknownM188:9/stdheaderi187,1568:8/'(string1/ 12/it</a>?"))))1/ 10/"\">create1/ 10/fulltarget1/ 14/href=\"/edit/"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 8/"Perhaps1/ 1/"1/ 6/"</b>.1/ 10/fulltarget1/ 4/<b>"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 6/"There1/ 7/(string1/ 3/'(_1/ 7/msg))))1/ 1/"1/ 10/error</b>:1/ 11/"<b>Runtime1/ 7/(string1/ 5/'(msg1/ 5/prog)1/ 6/'(eval1/ 8/'(handle1/ 11/fulltarget)1/ 5/(head1/ 5/'prog1/ 5/'(let1/ 7/(handle1/ 9/<hr/><p>"1/ 3/...1/ 1/"1/ 10/fulltarget1/ 1/"1/ 11/"<p>running1/ 11/fulltarget)1/ 5/(tabs1/ 7/stdpage1/ 9/stdheader1/ 8/'(string1/ 6/"run")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 12/rev)))))))))1/ 4/(int1/ 6/target1/ 6/'(read1/ 7/target)1/ 6/'(head1/ 4/"_")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 22/charset=utf-8\r\n\r\n"1/ 2/";1/ 6/exttyp1/ 3/"/"1/ 3/typ1/ 1/"1/ 14/"Content-Type:1/ 8/'(string1/ 14/rev_target))))1/ 4/(cdr1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 7/'target1/ 5/'(let1/ 13/rev_target)))1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 7/'exttyp1/ 5/'(let1/ 12/rev_target))1/ 4/(cdr1/ 4/(car1/ 4/'typ1/ 5/'(let1/ 11/rev_target)1/ 4/(car1/ 4/'rev1/ 5/'(let1/ 11/fulltarget)1/ 3/"/"1/ 6/tokens1/ 7/(tokens1/ 11/'rev_target1/ 5/'(let1/ 8/"typed")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 10/rev)))))))1/ 4/(int1/ 6/target1/ 6/'(read1/ 7/target)1/ 6/'(head1/ 4/"_")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 9/stdheader1/ 8/'(string1/ 12/rev_target))1/ 4/(cdr1/ 4/(car1/ 7/'target1/ 5/'(let1/ 11/rev_target)1/ 4/(car1/ 4/'rev1/ 5/'(let1/ 2/0)1/ 10/fulltarget1/ 3/"/"1/ 5/token1/ 6/(token1/ 11/'rev_target1/ 5/'(let1/ 6/"raw")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 15/it</a>?")))))))1/ 10/"\">create1/ 6/target1/ 14/href=\"/edit/"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 8/"Perhaps1/ 1/"1/ 6/"</b>.1/ 6/target1/ 4/<b>"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 6/"There1/ 7/(string1/ 3/'(_1/ 11/"</pre>\n")1/ 8/rev)))))1/ 4/(int1/ 6/target1/ 6/'(read1/ 7/target)1/ 6/'(head1/ 4/"_")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 7/(string1/ 11/(htmlescape1/ 9/"<pre>\n"1/ 8/'(string1/ 7/(handle1/ 9/<hr/><p>"1/ 3/...1/ 1/"1/ 5/rev))1/ 1/"1/ 1/@1/ 1/"1/ 8/'(string1/ 3/'""1/ 4/"_")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 6/target1/ 1/"1/ 11/"<p>viewing1/ 7/target)1/ 5/(tabs1/ 7/stdpage1/ 9/stdheader1/ 8/'(string1/ 12/rev_target))1/ 4/(cdr1/ 4/(car1/ 7/'target1/ 5/'(let1/ 11/rev_target)1/ 4/(car1/ 4/'rev1/ 5/'(let1/ 2/0)1/ 10/fulltarget1/ 3/"/"1/ 5/token1/ 6/(token1/ 11/'rev_target1/ 5/'(let1/ 7/"view")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 14/fulltarget))))1/ 8/(history1/ 5/"))))1/ 5/"</a>1/ 1/r1/ 5/"\">"1/ 10/fulltarget1/ 3/"/"1/ 1/r1/ 14/href=\"/view/"1/ 3/"<a1/ 7/(string1/ 6/fnarg_1/ 3/'(r1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/(map1/ 7/(string1/ 12/...<hr/><p>"1/ 1/"1/ 10/fulltarget1/ 1/"1/ 3/for1/ 11/"<p>history1/ 11/fulltarget)1/ 5/(tabs1/ 7/stdpage1/ 9/stdheader1/ 8/'(string1/ 10/"history")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 20/fulltarget))))))))))1/ 10/"/view/_/"1/ 7/(string1/ 10/'(redirect1/ 14/fulltarget))))1/ 10/"/view/_/"1/ 7/(string1/ 10/'(redirect1/ 4/exe)1/ 4/base1/ 7/(insert1/ 2/'_1/ 5/'(let1/ 4/dat)1/ 8/(compile1/ 4/'exe1/ 5/'(let1/ 7/compile1/ 4/'(if1/ 4/dat)1/ 10/fulltarget1/ 7/(insert1/ 2/'_1/ 5/'(let1/ 5/'()))1/ 3/'(_1/ 13/":compile")))1/ 3/ext1/ 7/(string1/ 5/(head1/ 6/'(eval1/ 7/(handle1/ 8/'compile1/ 5/'(let1/ 13/fulltarget)))1/ 10/"/view/_/"1/ 7/(string1/ 10/'(redirect1/ 4/dat)1/ 10/fulltarget1/ 7/(insert1/ 2/'_1/ 5/'(let1/ 3/"")1/ 4/base1/ 3/(eq1/ 4/'(if1/ 13/form.contents1/ 4/'dat1/ 5/'(let1/ 10/base_ext))1/ 4/(cdr1/ 4/(car1/ 4/'ext1/ 5/'(let1/ 9/base_ext)1/ 4/(car1/ 5/'base1/ 5/'(let1/ 3/1))1/ 11/fulltarget)1/ 5/(size1/ 2/(-1/ 10/fulltarget1/ 3/"."1/ 6/rtoken1/ 7/(rtoken1/ 9/'base_ext1/ 5/'(let1/ 7/"save")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 25/value=\"save\"></form>"))1/ 11/type=submit1/ 7/"<input1/ 15/"</textarea>\n"1/ 7/data)")1/ 11/'"(internal1/ 9/symbol)")1/ 5/"(was1/ 3/'(_1/ 4/")")1/ 11/oldcontents1/ 1/"1/ 3/int1/ 5/"(was1/ 8/'(string1/ 12/oldcontents)1/ 12/'(htmlescape1/ 7/data)")1/ 6/quoted1/ 5/"(was1/ 3/'(_1/ 7/data)")1/ 4/list1/ 5/"(was1/ 1/_1/ 3/'(_1/ 3/'""1/ 11/oldcontents1/ 6/(xcase1/ 19/name=\"contents\">"1/ 8/cols=1201/ 7/rows=351/ 13/"\"><textarea1/ 10/fulltarget1/ 16/action=\"/save/"1/ 15/method=\"post\"1/ 6/"<form1/ 13/deleted.</b>"1/ 2/be1/ 4/will1/ 2/It1/ 11/permission.1/ 7/without1/ 8/websites1/ 5/other1/ 4/from1/ 4/text1/ 4/copy1/ 3/not1/ 11/"<br/><b>Do1/ 3/"))1/ 3/...1/ 1/"1/ 10/fulltarget1/ 1/"1/ 4/page1/ 3/new1/ 9/"creating1/ 8/'(string1/ 2/")1/ 3/...1/ 1/"1/ 10/fulltarget1/ 1/"1/ 8/"editing1/ 8/'(string1/ 11/oldcontents1/ 3/(if1/ 5/"<p>"1/ 11/fulltarget)1/ 5/(tabs1/ 7/stdpage1/ 9/stdheader1/ 8/'(string1/ 5/'()))1/ 3/'(_1/ 11/fulltarget)1/ 6/'(head1/ 7/(handle1/ 12/'oldcontents1/ 5/'(let1/ 7/"edit")1/ 6/action1/ 3/(eq1/ 4/'(if1/ 12/"</div>"))))1/ 1/"1/ 18/"\">run</a></span>1/ 4/page1/ 13/href=\"/run/"1/ 16/class=\"tab\"><a1/ 6/"<span1/ 1/"1/ 22/"\">history</a></span>1/ 4/page1/ 17/href=\"/history/"1/ 16/class=\"tab\"><a1/ 6/"<span1/ 1/"1/ 19/"\">edit</a></span>1/ 4/page1/ 14/href=\"/edit/"1/ 16/class=\"tab\"><a1/ 6/"<span1/ 1/"1/ 19/"\">view</a></span>1/ 4/page1/ 16/href=\"/view/_/"1/ 16/class=\"tab\"><a1/ 6/"<span1/ 9/"</span>"1/ 10/request.ip1/ 14/color:red;\">"1/ 20/style=\"float:right;1/ 19/class=\"userimage\"1/ 6/"<span1/ 16/class=\"tabs\">"1/ 5/"<div1/ 7/(string1/ 6/fnarg_1/ 6/'(page1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 5/'tabs1/ 5/'(let1/ 15/action_target))1/ 4/(cdr1/ 4/(car1/ 11/'fulltarget1/ 5/'(let1/ 14/action_target)1/ 4/(car1/ 7/'action1/ 5/'(let1/ 2/0)1/ 3/url1/ 3/"/"1/ 5/token1/ 6/(token1/ 14/'action_target1/ 5/'(let1/ 4/0)))1/ 11/request.url1/ 3/"/"1/ 5/token1/ 6/(token1/ 4/(cdr1/ 4/(car1/ 4/'url1/ 5/'(let1/ 8/0)))))))1/ 1/01/ 4/hrec1/ 5/(hrec1/ 6/string1/ 5/(cons1/ 6/'(eval1/ 15/1))))))))))))))1/ 2/en1/ 2/(+1/ 2/st1/ 4/self1/ 6/'(self1/ 5/1))))1/ 2/en1/ 2/(+1/ 2/1)1/ 2/en1/ 2/(+1/ 4/self1/ 5/(self1/ 7/"&amp;"1/ 5/(cons1/ 4/st))1/ 2/en1/ 2/(-1/ 2/st1/ 1/s1/ 7/(substr1/ 6/'(cons1/ 4/"&")1/ 2/ch1/ 3/(eq1/ 4/'(if1/ 5/1))))1/ 2/en1/ 2/(+1/ 2/1)1/ 2/en1/ 2/(+1/ 4/self1/ 5/(self1/ 6/"&gt;"1/ 5/(cons1/ 4/st))1/ 2/en1/ 2/(-1/ 2/st1/ 1/s1/ 7/(substr1/ 6/'(cons1/ 4/">")1/ 2/ch1/ 3/(eq1/ 4/'(if1/ 5/1))))1/ 2/en1/ 2/(+1/ 2/1)1/ 2/en1/ 2/(+1/ 4/self1/ 5/(self1/ 6/"&lt;"1/ 5/(cons1/ 4/st))1/ 2/en1/ 2/(-1/ 2/st1/ 1/s1/ 7/(substr1/ 6/'(cons1/ 4/"<")1/ 2/ch1/ 3/(eq1/ 4/'(if1/ 3/en)1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let1/ 5/st)))1/ 2/en1/ 2/(-1/ 2/st1/ 1/s1/ 7/(substr1/ 6/'(list1/ 3/s))1/ 5/(size1/ 2/en1/ 3/(eq1/ 3/(if1/ 6/fnarg_1/ 4/'(en1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 4/'(st1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 6/'(self1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 5/'hrec1/ 4/(let1/ 6/fnarg_1/ 3/'(s1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 11/'htmlescape1/ 5/'(let1/ 14/t)))))))))))))1/ 4/(cdr1/ 4/(car1/ 3/sep1/ 4/self1/ 5/(self1/ 2/t)1/ 4/(car1/ 6/'(cons1/ 4/'())1/ 2/t)1/ 4/(car1/ 6/'(cons1/ 3/"")1/ 3/t))1/ 4/(cdr1/ 4/(car1/ 3/(eq1/ 4/'(if1/ 2/0)1/ 1/s1/ 3/sep1/ 5/token1/ 6/(token1/ 2/'t1/ 4/(let1/ 6/fnarg_1/ 3/'(s1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 5/'(sep1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 6/'(self1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 7/'tokens1/ 5/'(let1/ 15/1))))))))))))))1/ 1/n1/ 2/(-1/ 1/s1/ 3/sep1/ 4/self1/ 6/'(self1/ 5/1))))1/ 1/n1/ 2/(+1/ 2/s)1/ 5/(size1/ 2/(-1/ 2/1)1/ 1/n1/ 2/(+1/ 1/s1/ 7/(substr1/ 2/n)1/ 1/01/ 1/s1/ 7/(substr1/ 6/'(list1/ 4/sep)1/ 2/ch1/ 3/(eq1/ 4/'(if1/ 2/n)1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let1/ 2/s)1/ 2/""1/ 6/'(list1/ 3/1))1/ 1/01/ 2/(-1/ 1/n1/ 3/(eq1/ 3/(if1/ 6/fnarg_1/ 3/'(n1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(s1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 5/'(sep1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 6/'(self1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 7/'rtoken1/ 5/'(let1/ 15/1))))))))))))))1/ 1/n1/ 2/(+1/ 1/s1/ 3/sep1/ 4/self1/ 6/'(self1/ 5/1))))1/ 1/n1/ 2/(+1/ 2/s)1/ 5/(size1/ 2/(-1/ 2/1)1/ 1/n1/ 2/(+1/ 1/s1/ 7/(substr1/ 2/n)1/ 1/01/ 1/s1/ 7/(substr1/ 6/'(list1/ 4/sep)1/ 2/ch1/ 3/(eq1/ 4/'(if1/ 2/n)1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let1/ 3/"")1/ 1/s1/ 6/'(list1/ 3/s))1/ 5/(size1/ 1/n1/ 3/(eq1/ 3/(if1/ 6/fnarg_1/ 3/'(n1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(s1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 5/'(sep1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 6/'(self1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 6/'token1/ 5/'(let1/ 14/"\r\n\r\n"))))1/ 6/target1/ 1/"1/ 10/"Location:1/ 7/(string1/ 6/fnarg_1/ 8/'(target1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 9/'redirect1/ 5/'(let1/ 5//>\n"1/ 21/style=\"float:left;\"1/ 54/src=\"file:///c:/code/sf_svn/trunk/wikiplia/aaaa.svg\"1/ 37/title=\"polybook\"/></head><body><img1/ X
!147=M190:48/src=\"/typed/_/image/svg+xml/polybook_logo.svg\"X
!145=M194:36/title=\"polybook\"/></head><body>\n"d192,187:X
!143=M1754:31/action!")))))))))))))))))))))))M1568:2/0)i1567,2:10/fulltarget1/ M1564:5/tokenM1562:6/(tokend564,475:X
!137=M1666:30/action!"))))))))))))))))))))))d1560,1459:X
!134=M798:27/class=\"userimage\"></div>"i797,2:17/color:red;\"><div1/ d794,793:X
!131=M798:28/class=\"userimage\"></span>"M796:18/color:red;\"><spanX
!128=M798:27/class=\"userimage\"></div>"M796:17/color:red;\"><divX
!125=M798:14/color:red;\">"d796,795:X
!123=i849,10:9/"</span>"1/ 10/request.ip1/ 14/color:red;\">"1/ 20/style=\"float:right;1/ 6/"<span1/ d800,791:X
!120=d848,839:X
!118=M716:6/0)))))M710:6/'(hrecd708,703:X
!111=M710:7/0))))))d708,707:M704:5/(hrecM702:6/stringM700:5/(consM698:6/'(evalM696:9/1))))))))M694:1/nd692,687:d684,679:M674:6/'ch)))M672:8/'"&amp;"d670,657:M648:7/'"&gt;"d646,615:M606:7/'"&lt;"d604,573:M566:3/(ifM564:6/'(consi563,2:2/n)1/ M554:4/''()d552,541:M536:1/nM532:4/'(ifM530:6/args))M528:4/(cdrM526:4/(carM524:2/'nM522:5/'(letM520:5/args)M518:4/(carM516:5/'selfM514:5/'(letM512:5/'argsd510,499:M494:5/'(letM492:6/hargs)M490:4/(carM488:2/'sM486:5/'(letM484:6/'hargsd482,481:X
!109=M1218:7/rev))))d1198,1197:X
!107=M1428:26/action!"))))))))))))))))))d166,1:X
!21=M1262:27/action!")))))))))))))))))))M936:3/"))M932:5/args)i931,2:4/(car1/ M924:5/args)i923,2:4/(car1/ M918:8/'(stringM916:5/'argsd914,905:i903,2:3/map1/ M820:5/nil))M574:5/nil))M552:11/"</div>")))M498:8/'(stringM496:5/args)M494:4/(carM492:5/'pageM490:5/'(letM488:5/'argsd486,485:M362:4/'nilM308:11/1))))))))))M228:4/'(ifM226:8/args))))M224:4/(cdrM222:4/(cdrM220:4/(cdrM218:4/(carM216:2/'nM214:5/'(letM212:7/args)))M210:4/(cdrM208:4/(cdrM206:4/(carM204:2/'sM202:5/'(letM200:6/args))M198:4/(cdrM196:4/(carM194:4/'sepM192:5/'(letM190:5/args)M188:4/(carM186:5/'selfi185,4:5/'(let1/ 5/'args1/ M178:11/1))))))))))M100:4/'(ifM98:8/args))))M96:4/(cdrM94:4/(cdrM92:4/(cdrM90:4/(carM88:2/'nM86:5/'(letM84:7/args)))M82:4/(cdrM80:4/(cdrM78:4/(carM76:2/'sM74:5/'(letM72:6/args))M70:4/(cdrM68:4/(carM66:4/'sepM64:5/'(letM62:5/args)M60:4/(carM58:5/'selfi57,4:5/'(let1/ 5/'args1/ M50:9/'nil)))))M48:4/l)))M46:4/(cdrM44:1/fM42:4/selfM40:5/(selfM38:3/l))M36:4/(carM34:2/(fM32:6/'(consM30:1/li29,34:4/'(if1/ 7/args)))1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'l1/ 5/'(let1/ 6/args))1/ 4/(cdr1/ 4/(car1/ 2/'f1/ 5/'(let1/ 5/args)1/ 4/(car1/ 5/'self1/ 5/'(let1/ 5/'args1/ i27,20:4/'map1/ 5/'(let1/ 12/"\r\n\r\n"))1/ 7/target)1/ 4/(car1/ 1/"1/ 10/"Location:1/ 8/'(string1/ 7/'target1/ 7/(lambda1/ X
!18=X
!16=X
!14=i903,26:7/msg))))1/ 1/"1/ 7/because1/ 6/failed1/ 1/"1/ 10/fulltarget1/ 1/"1/ 2/of1/ 12/"compilation1/ 7/(string1/ 6/'abort1/ 5/(list1/ 5/'(msg1/ M900:9/'(compilei899,2:7/(handle1/ X
!13=M1346:26/analysis\n\n))))))))))))")M1344:4/casei1343,10:6/action1/ 1/;1/ 4/))))7/       16/action!\")))\n\n1/ 9/\"unknown1/ M1339:10/          M1338:4/\n\ni1338,2:12/            15/it</a>?\"))))\nM1336:13/\"\\\">createM1332:17/href=\\\"/edit/\"M1322:9/\"PerhapsM1321:32/                                M1320:4/\"\nM1318:7/\"</b>.M1314:5/<b>\"M1304:7/\"ThereM1301:24/                        M1300:5/'(_\nM1299:22/                      M1298:9/msg))))\nM1296:2/\"M1292:12/\"<b>RuntimeM1281:26/                          M1280:13/fulltarget)\nM1271:14/              M1270:12/<hr/><p>\"\nM1266:2/\"M1262:2/\"M1260:12/\"<p>runningM1259:14/              M1258:13/fulltarget)\nM1255:14/              M1254:9/stdpage\nM1251:14/              M1250:10/'(string\nM1249:12/            M1248:10/\"run\")\ni1242,2:9/         7/loop)\nM1240:8/infinitei1239,20:2/(=1/ 8/main...?1/ 3/run1/ 7/against1/ 7/protect1/ 3/XXX1/ 2/;;10/          7/)))\n\n13/             3/)\n1/ 6/rev)))1/ M1228:6/\"_\")M1219:14/              M1218:9/(string\ni1218,4:13/             2/\n5/     1/'M1208:4/(leti1208,2:12/            3/'\nM1200:4/(leti1200,2:12/            3/'\nM1194:5/\"/\"M1185:11/           M1184:10/\"raw\")\ni1178,2:7/       11/instance)\nM1176:3/forM1174:4/CSS,i1173,24:9/including1/ 3/for1/ 5/(good1/ 14/stuff/escaping1/ 6/excess1/ 2/no1/ 3/but1/ 5/view,1/ 4/like1/ 2/;;7/       20/it</a>?\")))))))\n\n1/ 13/\"\\\">create1/ M1170:17/href=\\\"/edit/\"M1160:9/\"PerhapsM1159:32/                                M1158:4/\"\nM1156:7/\"</b>.M1152:5/<b>\"M1142:7/\"ThereM1139:24/                        M1138:5/'(_\nM1137:22/                      M1136:16/\"</pre>\\n\")\nM1122:6/\"_\")M1112:12/\"<pre>\\n\"M1107:14/              M1106:12/<hr/><p>\"\nM1102:2/\"M1098:2/\"M1094:2/\"M1090:5/'\"\"M1088:6/\"_\")M1078:2/\"M1076:12/\"<p>viewingM1075:14/              M1074:9/target)\nM1071:14/              M1070:9/stdpage\nM1067:14/              M1066:9/(string\ni1066,4:13/             2/\n5/     1/'M1056:4/(leti1056,2:12/            3/'\nM1048:4/(leti1048,2:12/            3/'\nM1042:5/\"/\"M1033:11/           M1032:11/\"view\")\nM1025:7/       M1024:18/fulltarget))))\n\nM1020:4/\"))M1018:6/\"</a>i1014,2:54/                                                      2/\nM1012:9/\"\\\">\"M1008:5/\"/\"M1002:17/href=\\\"/view/\"M1000:4/\"<aM987:14/              M986:15/...<hr/><p>\"\nM984:2/\"M980:2/\"M976:12/\"<p>historyM975:14/              M974:13/fulltarget)\nM971:14/              M970:9/stdpage\nM967:14/              M966:10/'(string\nM965:12/            M964:14/\"history\")\ni958,2:7/       8/save\n\nM956:6/actionM954:1/;i953,6:7/)))))))8/        15/fulltarget)))\n1/ 12/\"/view/_/\"1/ i950,2:14/              8/exists\nM948:8/compilerM946:1/;i945,6:2/))20/                    14/fulltarget))\n1/ 12/\"/view/_/\"1/ M942:9/(redirecti942,2:20/                    10/inserted\ni941,20:2/we1/ 8/revision1/ 3/the1/ 2/to1/ 8/directly1/ 4/jump1/ 6/should1/ 3/XXX1/ 2/;;20/                    3/'\n1/ M932:4/(leti932,2:15/               12/executable\ni931,6:4/save1/ 1/;15/               3/'\n1/ M928:2/\"M922:2/\"M921:52/                                                    M920:12/fulltarget\nM918:2/\"M914:13/\"compilationi914,8:52/                                                    9/(string\n51/                                                   8/'abort\n51/                                                   7/(list\n50/                                                  8/aborts\nM912:4/thatM910:7/programM908:1/aM906:6/returni905,16:1/;50/                                                  4/we\n1/ 4/then1/ 6/fails,1/ 11/compilation1/ 2/if1/ 1/;50/                                                  7/'(msg\n1/ M895:15/               M894:9/compile\nM892:3/(ifi892,2:13/             3/'\nM882:4/(leti882,2:12/            8/source\ni881,6:4/save1/ 1/;12/            3/'\n1/ M876:15/\":compile\")))i862,2:9/         5/any\nM860:2/ifM858:9/compiler,i857,58:3/the1/ 8/closure)1/ 1/a1/ 7/produce1/ 2/to1/ 3/run1/ 4/(and1/ 3/get1/ 1/;9/         11/prog.b.w)\n1/ 3/eg.2/  13/recursively??1/ 4/this1/ 2/do1/ 6/(might1/ 2/;;9/         9/version\n1/ 8/compiled1/ 3/and1/ 6/source1/ 3/the1/ 6/saving1/ 8/compile,1/ 6/should1/ 2/we1/ 9/otherwise1/ 2/;;9/         17/fulltarget)))\n\n1/ 12/\"/view/_/\"1/ M854:9/(redirecti854,2:17/                 10/revision\ni853,8:4/goto1/ 3/XXX1/ 2/;;17/                 3/'\n1/ i844,2:11/           7/save.\nM842:4/justi841,34:2/;;11/           6/case\n1/ 4/this1/ 2/in1/ 5/name.1/ 6/entire1/ 3/the1/ 5/holds1/ 3/ext1/ 4/then1/ 1/.1/ 2/no1/ 3/was1/ 5/there1/ 2/if1/ 2/;;11/           7/\"\")\n1/ M836:3/(ifi836,2:7/       5/'\n\nM830:4/(leti830,2:7/       3/'\nM820:4/(leti820,2:7/       3/'\nM812:4/(leti812,2:7/       3/'\nM800:5/\".\"i792,2:6/      12/extension.\nM790:3/thei789,28:2/on1/ 5/based1/ 8/language1/ 3/the1/ 3/out1/ 6/figure1/ 1/;7/       2/\n1/ 10/compile...1/ 2/to1/ 4/need1/ 5/might1/ 1/;7/       11/\"save\")\n1/ M783:4/    M782:34/value=\\\"save\\\"></form>\"))\n\nM778:8/\"<inputM777:15/               M776:20/\"</textarea>\\n\"\nM775:15/               M774:10/data)\")\nM772:12/'\"(internalM771:19/                   M770:12/symbol)\")\nM768:6/\"(wasM765:19/                   M764:8/\")\")\nM760:2/\"M756:6/\"(wasM753:19/                   M752:14/oldcontents)\nM749:19/                   M748:10/data)\")\nM744:6/\"(wasM741:19/                   M740:10/data)\")\nM736:6/\"(wasM731:19/                   M730:7/'\"\"\nM729:19/                   M728:13/oldcontents\nM725:15/               M724:26/name=\\\"contents\\\">\"\nM718:16/\"\\\"><textareaM714:19/action=\\\"/save/\"M712:19/method=\\\"post\\\"M710:7/\"<formM709:15/               M708:16/deleted.</b>\"\nM684:12/\"<br/><b>DoM683:15/               M682:6/\"))\nM678:2/\"M674:2/\"M668:10/\"creatingM665:19/                   M664:5/\")\nM660:2/\"M656:2/\"M654:9/\"editingM651:19/                   M650:13/oldcontents\nM647:15/               M646:9/\"<p>\"\nM641:16/                M640:9/stdpage\nM636:7/(stringi636,2:8/        3/'\ni622,2:6/      10/textarea\nM620:3/thei619,32:2/in1/ 2/it1/ 3/put1/ 3/and1/ 2/;;6/      6/page\n1/ 4/this1/ 3/for1/ 4/code1/ 6/source1/ 3/the1/ 5/fetch1/ 2/to1/ 4/need1/ 2/;;6/      11/\"edit\")\n1/ M614:3/(ifM613:2/  M612:5/'\n\nM610:13/\"</div>\")))i610,2:27/                           4/\"\nM608:21/\"\\\">run</a></span>M604:16/href=\\\"/run/\"M602:20/class=\\\"tab\\\"><aM600:7/\"<spanM599:27/                           M598:4/\"\nM596:25/\"\\\">history</a></span>M592:20/href=\\\"/history/\"M590:20/class=\\\"tab\\\"><aM588:7/\"<spanM587:27/                           M586:4/\"\nM584:22/\"\\\">edit</a></span>M580:17/href=\\\"/edit/\"M578:20/class=\\\"tab\\\"><aM576:7/\"<spanM575:27/                           M574:4/\"\nM572:22/\"\\\">view</a></span>M568:19/href=\\\"/view/_/\"M566:20/class=\\\"tab\\\"><aM564:7/\"<spani564,2:27/                           23/class=\\\"tabs\\\">\"\nM562:6/\"<divM560:7/(stringi560,2:19/                   6/tabs\nM558:4/makei557,6:3/XXX1/ 1/;19/                   3/'\n1/ M549:13/             M548:7/'args\nM542:6/\n(leti542,2:2/  3/'\nM532:7/'\n(letM524:7/'\n(letM518:5/\"/\"M510:7/'\n(letM504:5/\"/\"M492:11/char)\n(leti491,34:1//1/ 8/starting1/ 3/the1/ 3/off1/ 5/(toss1/ 1/;2/  5/URL\n1/ 3/the1/ 2/on1/ 5/based1/ 5/doing1/ 5/we're1/ 4/what1/ 3/out1/ 6/figure1/ 1/;2/  5/'\n\n1/ M479:15/               M478:11/1))))))))\nM469:46/                                              M468:8/'ch)))\nM467:54/                                                      M466:12/'\"&amp;\"\nM465:56/                                                        M464:8/\"&\")\nM457:51/                                                   M456:11/'\"&gt;\"\nM455:53/                                                     M454:8/\">\")\nM447:48/                                                M446:11/'\"&lt;\"\nM445:50/                                                  M444:8/\"<\")\nM437:46/                                              M436:8/'(cons\nM435:44/                                            M434:4/n)\nM425:38/                                      M424:6/'nil\nM423:40/                                        M422:5/s))\nM413:35/                                   M412:8/args))\nM403:29/                             M402:7/args)\nM395:23/                       M394:7/'args\nM387:9/         M386:8/hargs)\nM379:4/    M378:8/'hargs\ni376,2:2/  6/PERF\nM374:1/;i374,2:2/  13/'htmlescape\nM372:9/'\n\n(letM370:7/)))))))i370,2:37/                                     6/1)))\nM357:42/                                          M356:7/1))))\nM325:42/                                          M324:6/sep)\nM317:37/                                     M316:4/n)\nM307:31/                               M306:4/s)\nM304:4/\"\"M289:28/                            M288:10/args))))\nM275:22/                      M274:9/args)))\nM263:16/                M262:8/args))\nM253:10/          M252:7/args)\nM245:4/    M244:7/'args\ni242,2:2/  9/'rtoken\nM240:6/\n(leti240,2:21/                     8/instanceM238:4/lastM236:3/buti235,8:5/same,1/ 6/'\n\n;1/ 7/)))))))37/                                     6/1)))\n1/ M223:42/                                          M222:7/1))))\nM191:42/                                          M190:6/sep)\nM183:37/                                     M182:4/n)\nM173:31/                               M172:7/\"\")\nM157:28/                            M156:10/args))))\nM143:22/                      M142:9/args)))\nM131:16/                M130:8/args))\nM121:10/          M120:7/args)\nM113:4/    M112:7/'args\ni110,2:2/  8/'token\nM108:11/given\n(letM106:4/chari105,18:3/the1/ 2/of1/ 8/instance1/ 5/first1/ 3/the1/ 2/to1/ 2/up1/ 4/chop1/ 6/'\n\n;1/ M103:25/                         M102:6/l)))\nM85:27/                           M84:3/l\nM81:22/                      M80:9/args)))\nM69:16/                M68:8/args))\nM59:10/          M58:7/args)\nM51:4/    M50:7/'args\ni48,2:2/  2/\nM44:11/'\n\n\n(letM42:18/\"\\r\\n\\r\\n\"))M36:2/\"M34:11/\"Location:M24:7/'\n(letM22:42/title=\\\"polybook\\\"/></head><body>\\n\"M20:32/href=\\\"/raw/_/polybook.css\\\"M18:21/type=\\\"text/css\\\"M14:19/\"<html><head><linkM10:7/'\n(letM8:27/charset=utf-8\\r\\n\\r\\n\"M4:15/\"Content-Type:M0:13/failure\n(leti0,46:1/ 11/compilation1/ 4/test1/ 2/;;1/ 13/revert.\n))))1/ 2/to1/ 4/need1/ 3/and1/ 2/up1/ 4/mess1/ 5/might1/ 2/we1/ 8/anything1/ 4/does1/ 4/page1/ 7/main-go1/ 2/;;1/ 6/parse:1/ 7/because1/ 6/failed1/ 9/main-go.b1/ 2/of1/ 12/"compilation1/ 6/(abortX
!9=M1818:27/action!")))))))))))))))))))M1816:8/"unknownd1814,1805:M1801:1/ M1800:12/it</a>?"))))d1799,1798:M1796:10/"\">createM1792:14/href=\"/edit/"M1782:8/"PerhapsM1781:1/ M1780:1/"M1778:6/"</b>.M1774:4/<b>"M1764:6/"ThereM1761:1/ M1760:3/'(_M1759:1/ M1758:7/msg))))M1756:1/"M1752:11/"<b>RuntimeM1741:1/ M1740:11/fulltarget)M1731:1/ M1730:9/<hr/><p>"M1726:1/"M1722:1/"M1720:11/"<p>runningM1719:1/ M1718:11/fulltarget)M1715:1/ M1714:7/stdpageM1711:1/ M1710:8/'(stringM1709:1/ M1708:6/"run")d1701,1700:M1698:10/rev)))))))d1696,1677:M1666:4/"_")M1657:1/ M1656:8/'(stringd1655,1652:M1642:5/'(letd1641,1640:M1632:5/'(letd1631,1630:M1624:3/"/"M1615:1/ M1614:6/"raw")d1607,1606:M1604:15/it</a>?")))))))M1602:10/"\">created1600,1577:M1574:14/href=\"/edit/"M1564:8/"PerhapsM1563:1/ M1562:1/"M1560:6/"</b>.M1556:4/<b>"M1546:6/"ThereM1543:1/ M1542:3/'(_M1541:1/ M1540:11/"</pre>\n")M1526:4/"_")M1516:9/"<pre>\n"M1511:1/ M1510:9/<hr/><p>"M1506:1/"M1502:1/"M1498:1/"M1494:3/'""M1492:4/"_")M1482:1/"M1480:11/"<p>viewingM1479:1/ M1478:7/target)M1475:1/ M1474:7/stdpageM1471:1/ M1470:8/'(stringd1469,1466:M1456:5/'(letd1455,1454:M1446:5/'(letd1445,1444:M1438:3/"/"M1429:1/ M1428:7/"view")M1421:1/ M1420:14/fulltarget))))M1416:3/"))M1414:5/"</a>d1409,1408:M1406:5/"\">"M1402:3/"/"M1396:14/href=\"/view/"M1394:3/"<aM1381:1/ M1380:12/...<hr/><p>"M1378:1/"M1374:1/"M1370:11/"<p>historyM1369:1/ M1368:11/fulltarget)M1365:1/ M1364:7/stdpageM1361:1/ M1360:8/'(stringM1359:1/ M1358:10/"history")d1351,1350:M1348:20/fulltarget))))))))))M1346:10/"/view/_/"d1344,1339:d1335,1334:M1332:14/fulltarget))))M1330:10/"/view/_/"d1328,1323:M1320:10/'(redirectd1319,1318:d1316,1297:M1288:5/'(letd1287,1286:d1284,1279:M1276:1/"M1270:1/"M1269:1/ M1268:10/fulltargetM1266:1/"M1262:12/"compilationd1261,1254:M1252:7/(stringM1250:6/'abortM1248:5/(listM1246:5/'(msgd1244,1229:M1219:1/ M1218:7/compileM1216:4/'(ifd1215,1214:M1204:5/'(letd1203,1202:d1200,1195:M1190:13/":compile")))d1175,1174:M1172:13/fulltarget)))M1170:10/"/view/_/"d1168,1111:M1108:10/'(redirectd1107,1106:d1104,1097:d1087,1086:M1084:3/"")d1082,1049:M1044:4/'(ifd1043,1042:M1036:5/'(letd1035,1034:M1024:5/'(letd1023,1022:M1014:5/'(letd1013,1012:M1000:3/"."d991,990:M988:7/"save")d986,959:M953:1/ M952:25/value=\"save\"></form>"))M948:7/"<inputM947:1/ M946:15/"</textarea>\n"M945:1/ M944:7/data)")M942:11/'"(internalM941:1/ M940:9/symbol)")M938:5/"(wasM935:1/ M934:4/")")M930:1/"M926:5/"(wasM923:1/ M922:12/oldcontents)M919:1/ M918:7/data)")M914:5/"(wasM911:1/ M910:7/data)")M906:5/"(wasM901:1/ M900:3/'""M899:1/ M898:11/oldcontentsM895:1/ M894:19/name=\"contents\">"M888:13/"\"><textareaM884:16/action=\"/save/"M882:15/method=\"post\"M880:6/"<formM879:1/ M878:13/deleted.</b>"M854:11/"<br/><b>DoM853:1/ M852:3/"))M848:1/"M844:1/"M838:9/"creatingM835:1/ M834:2/")M830:1/"M826:1/"M824:8/"editingM821:1/ M820:11/oldcontentsM817:1/ M816:5/"<p>"M811:1/ M810:7/stdpageM806:8/'(stringd805,804:d789,788:M786:7/"edit")d784,753:M748:4/'(ifM747:1/ M746:11/"</div>")))M744:1/"d743,742:M740:18/"\">run</a></span>M736:13/href=\"/run/"M734:16/class=\"tab\"><aM732:6/"<spanM731:1/ M730:1/"M728:22/"\">history</a></span>M724:17/href=\"/history/"M722:16/class=\"tab\"><aM720:6/"<spanM719:1/ M718:1/"M716:19/"\">edit</a></span>M712:14/href=\"/edit/"M710:16/class=\"tab\"><aM708:6/"<spanM707:1/ M706:1/"M704:19/"\">view</a></span>M700:16/href=\"/view/_/"M698:16/class=\"tab\"><aM696:6/"<spand695,694:M692:16/class=\"tabs\">"M690:5/"<divd689,688:M686:8/'(stringd684,679:M671:1/ M670:5/'argsM664:5/'(letd663,662:M652:5/'(letM644:5/'(letM638:3/"/"M630:5/'(letM624:3/"/"M612:5/'(letd610,577:M565:1/ M564:9/1))))))))M555:1/ M554:6/'ch)))M553:1/ M552:8/'"&amp;"M551:1/ M550:4/"&")M543:1/ M542:7/'"&gt;"M541:1/ M540:4/">")M533:1/ M532:7/'"&lt;"M531:1/ M530:4/"<")M523:1/ M522:6/'(consM521:1/ M520:2/n)M511:1/ M510:4/'nilM509:1/ M508:3/s))M499:1/ M498:6/args))M489:1/ M488:5/args)M481:1/ M480:5/'argsM473:1/ M472:6/hargs)M465:1/ M464:6/'hargsd461,460:M458:11/'htmlescaped457,456:M454:5/'(letM452:11/1))))))))))d451,450:M437:1/ M436:5/1))))M405:1/ M404:4/sep)M397:1/ M396:2/n)M387:1/ M386:2/s)M384:2/""M369:1/ M368:8/args))))M355:1/ M354:7/args)))M343:1/ M342:6/args))M333:1/ M332:5/args)M325:1/ M324:5/'argsd321,320:M318:7/'rtokend317,316:M314:5/'(letM312:11/1))))))))))d310,303:M291:1/ M290:5/1))))M259:1/ M258:4/sep)M251:1/ M250:2/n)M241:1/ M240:3/"")M225:1/ M224:8/args))))M211:1/ M210:7/args)))M199:1/ M198:6/args))M189:1/ M188:5/args)M181:1/ M180:5/'argsd177,176:M174:6/'tokenM172:5/'(letd170,153:M151:1/ M150:4/l)))M133:1/ M132:1/lM129:1/ M128:7/args)))M117:1/ M116:6/args))M107:1/ M106:5/args)M99:1/ M98:5/'argsd95,94:M90:5/'(letM88:12/"\r\n\r\n"))M82:1/"M80:10/"Location:M70:5/'(letM68:36/title=\"polybook\"/></head><body>\n"M66:28/href=\"/raw/_/polybook.css\"M64:17/type=\"text/css\"M60:18/"<html><head><linkM56:5/'(letM54:22/charset=utf-8\r\n\r\n"M50:14/"Content-Type:M46:4/(letd45,0:X

main-go.b 121 44/"; this code has been replaced by main-go.w"
!20=M14:25/analysis\n\n))))))))))))"M12:4/caseM10:6/actionM8:1/;M6:4/))))i6,2:7/       16/action!\")))\n\nM4:9/\"unknowni3,658:9/stdheader1/ 8/'(string10/          4/\n\n12/            15/it</a>?\"))))\n1/ 13/\"\\\">create1/ 10/fulltarget1/ 17/href=\\\"/edit/\"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 9/\"Perhaps32/                                4/\"\n1/ 7/\"</b>.1/ 10/fulltarget1/ 5/<b>\"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 7/\"There1/ 7/(string24/                        5/'(_\n22/                      9/msg))))\n1/ 2/\"1/ 10/error</b>:1/ 12/\"<b>Runtime1/ 7/(string1/ 5/'(msg1/ 5/prog)1/ 6/'(eval1/ 8/'(handle26/                          13/fulltarget)\n1/ 5/(head1/ 5/'prog1/ 5/'(let1/ 7/(handle14/              12/<hr/><p>\"\n1/ 3/...1/ 2/\"1/ 10/fulltarget1/ 2/\"1/ 12/\"<p>running14/              13/fulltarget)\n1/ 5/(tabs14/              9/stdpage\n1/ 9/stdheader14/              10/'(string\n12/            10/\"run\")\n1/ 6/action1/ 3/(eq1/ 4/'(if9/         10/main-go)\n1/ 3/run1/ 3/(or1/ 2/;;10/          7/loop)\n1/ 8/infinite1/ 2/(=1/ 8/main...?1/ 3/run1/ 7/against1/ 7/protect1/ 3/XXX1/ 2/;;10/          7/)))\n\n13/             3/)\n1/ 6/rev)))1/ 4/(int1/ 6/target1/ 6/'(read1/ 7/target)1/ 6/'(head1/ 6/\"_\")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 9/stdheader14/              9/(string\n13/             2/\n5/     1/'1/ 12/rev_target))1/ 4/(cdr1/ 4/(car1/ 7/'target1/ 4/(let12/            3/'\n1/ 11/rev_target)1/ 4/(car1/ 4/'rev1/ 4/(let12/            3/'\n1/ 2/0)1/ 10/fulltarget1/ 5/\"/\"1/ 5/token1/ 6/(token1/ 11/'rev_target1/ 5/'(let11/           10/\"raw\")\n1/ 6/action1/ 3/(eq1/ 4/'(if7/       11/instance)\n1/ 3/for1/ 4/CSS,1/ 9/including1/ 3/for1/ 5/(good1/ 14/stuff/escaping1/ 6/excess1/ 2/no1/ 3/but1/ 5/view,1/ 4/like1/ 2/;;7/       20/it</a>?\")))))))\n\n1/ 13/\"\\\">create1/ 6/target1/ 17/href=\\\"/edit/\"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 9/\"Perhaps32/                                4/\"\n1/ 7/\"</b>.1/ 6/target1/ 5/<b>\"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 7/\"There1/ 7/(string24/                        5/'(_\n22/                      16/\"</pre>\\n\")\n1/ 7/rev))))1/ 4/(int1/ 6/target1/ 6/'(read1/ 7/target)1/ 6/'(head1/ 6/\"_\")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 11/(htmlescape1/ 12/\"<pre>\\n\"1/ 8/'(string1/ 7/(handle14/              12/<hr/><p>\"\n1/ 3/...1/ 2/\"1/ 5/rev))1/ 2/\"1/ 1/@1/ 2/\"1/ 8/'(string1/ 5/'\"\"1/ 6/\"_\")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 6/target1/ 2/\"1/ 12/\"<p>viewing14/              9/target)\n1/ 5/(tabs14/              9/stdpage\n1/ 9/stdheader14/              9/(string\n13/             2/\n5/     1/'1/ 12/rev_target))1/ 4/(cdr1/ 4/(car1/ 7/'target1/ 4/(let12/            3/'\n1/ 11/rev_target)1/ 4/(car1/ 4/'rev1/ 4/(let12/            3/'\n1/ 2/0)1/ 10/fulltarget1/ 5/\"/\"1/ 5/token1/ 6/(token1/ 11/'rev_target1/ 5/'(let11/           11/\"view\")\n1/ 6/action1/ 3/(eq1/ 4/'(if7/       18/fulltarget))))\n\n1/ 8/(history1/ 4/\"))1/ 6/\"</a>1/ 5/args)1/ 4/(car54/                                                      2/\n1/ 9/\"\\\">\"1/ 10/fulltarget1/ 5/\"/\"1/ 5/args)1/ 4/(car1/ 17/href=\\\"/view/\"1/ 4/\"<a1/ 8/'(string1/ 5/'args1/ 7/(lambda1/ 3/map1/ 4/(map1/ 7/(string14/              15/...<hr/><p>\"\n1/ 2/\"1/ 10/fulltarget1/ 2/\"1/ 3/for1/ 12/\"<p>history14/              13/fulltarget)\n1/ 5/(tabs14/              9/stdpage\n1/ 9/stdheader14/              10/'(string\n12/            14/\"history\")\n1/ 6/action1/ 3/(eq1/ 4/'(if7/       8/save\n\n1/ 6/action1/ 1/;1/ 7/)))))))8/        15/fulltarget)))\n1/ 12/\"/view/_/\"1/ 7/(string1/ 10/'(redirect14/              8/exists\n1/ 8/compiler1/ 1/;1/ 2/))20/                    14/fulltarget))\n1/ 12/\"/view/_/\"1/ 7/(string1/ 9/(redirect20/                    10/inserted\n1/ 2/we1/ 8/revision1/ 3/the1/ 2/to1/ 8/directly1/ 4/jump1/ 6/should1/ 3/XXX1/ 2/;;20/                    3/'\n1/ 4/exe)1/ 4/base1/ 7/(insert1/ 2/'_1/ 4/(let16/                12/executable\n1/ 4/save1/ 1/;15/               3/'\n1/ 4/dat)1/ 8/(compile1/ 4/'exe1/ 5/'(let15/               9/source.\n1/ 3/the1/ 4/save1/ 7/already1/ 3/did1/ 2/we1/ 3/but1/ 2/;;15/               6/page\n1/ 8/compiled1/ 3/the1/ 9/overwrite1/ 5/don't1/ 3/and1/ 9/propagate1/ 3/exn1/ 3/let1/ 6/fails,1/ 11/compilation1/ 2/if1/ 2/;;15/               9/compile\n1/ 3/(if13/             3/'\n1/ 4/dat)1/ 10/fulltarget1/ 7/(insert1/ 2/'_1/ 4/(let12/            8/source\n1/ 4/save1/ 1/;12/            3/'\n1/ 5/nil))1/ 3/'(_1/ 15/\":compile\")))1/ 3/ext1/ 7/(string1/ 5/(head1/ 6/'(eval1/ 7/(handle1/ 8/'compile1/ 5/'(let9/         5/any\n1/ 2/if1/ 9/compiler,1/ 3/the1/ 8/closure)1/ 1/a1/ 7/produce1/ 2/to1/ 3/run1/ 4/(and1/ 3/get1/ 1/;9/         11/prog.b.w)\n1/ 3/eg.2/  13/recursively??1/ M0:2/doi0,1120:1/ 6/(might1/ 2/;;9/         9/version\n1/ 8/compiled1/ 3/and1/ 6/source1/ 3/the1/ 6/saving1/ 8/compile,1/ 6/should1/ 2/we1/ 9/otherwise1/ 2/;;9/         17/fulltarget)))\n\n1/ 12/\"/view/_/\"1/ 7/(string1/ 9/(redirect17/                 10/revision\n1/ 4/goto1/ 3/XXX1/ 2/;;17/                 3/'\n1/ 4/dat)1/ 10/fulltarget1/ 7/(insert1/ 2/'_1/ 5/'(let11/           7/save.\n1/ 4/just1/ 2/;;11/           6/case\n1/ 4/this1/ 2/in1/ 5/name.1/ 6/entire1/ 3/the1/ 5/holds1/ 3/ext1/ 4/then1/ 1/.1/ 2/no1/ 3/was1/ 5/there1/ 2/if1/ 2/;;11/           7/\"\")\n1/ 4/base1/ 3/(eq1/ 3/(if7/       5/'\n\n1/ 13/form.contents1/ 4/'dat1/ 4/(let7/       3/'\n1/ 10/base_ext))1/ 4/(cdr1/ 4/(car1/ 4/'ext1/ 4/(let7/       3/'\n1/ 9/base_ext)1/ 4/(car1/ 5/'base1/ 4/(let7/       3/'\n1/ 3/1))1/ 11/fulltarget)1/ 5/(size1/ 2/(-1/ 10/fulltarget1/ 5/\".\"1/ 6/rtoken1/ 7/(rtoken1/ 9/'base_ext1/ 5/'(let6/      12/extension.\n1/ 3/the1/ 2/on1/ 5/based1/ 8/language1/ 3/the1/ 3/out1/ 6/figure1/ 1/;7/       2/\n1/ 10/compile...1/ 2/to1/ 4/need1/ 5/might1/ 1/;7/       11/\"save\")\n1/ 6/action1/ 3/(eq1/ 4/'(if4/    34/value=\\\"save\\\"></form>\"))\n\n1/ 11/type=submit1/ 8/\"<input15/               20/\"</textarea>\\n\"\n15/               10/data)\")\n1/ 12/'\"(internal19/                   12/symbol)\")\n1/ 6/\"(was1/ 3/'(_19/                   8/\")\")\n1/ 11/oldcontents1/ 2/\"1/ 3/int1/ 6/\"(was1/ 8/'(string19/                   14/oldcontents)\n1/ 12/'(htmlescape19/                   10/data)\")\n1/ 6/quoted1/ 6/\"(was1/ 3/'(_19/                   10/data)\")\n1/ 4/list1/ 6/\"(was1/ 1/_1/ 3/'(_19/                   7/'\"\"\n19/                   13/oldcontents\n1/ 6/(xcase15/               26/name=\\\"contents\\\">\"\n1/ 8/cols=1201/ 7/rows=351/ 16/\"\\\"><textarea1/ 10/fulltarget1/ 19/action=\\\"/save/\"1/ 19/method=\\\"post\\\"1/ 7/\"<form15/               16/deleted.</b>\"\n1/ 2/be1/ 4/will1/ 2/It1/ 11/permission.1/ 7/without1/ 8/websites1/ 5/other1/ 4/from1/ 4/text1/ 4/copy1/ 3/not1/ 12/\"<br/><b>Do15/               6/\"))\n1/ 3/...1/ 2/\"1/ 10/fulltarget1/ 2/\"1/ 4/page1/ 3/new1/ 10/\"creating1/ 8/'(string19/                   5/\")\n1/ 3/...1/ 2/\"1/ 10/fulltarget1/ 2/\"1/ 9/\"editing1/ 8/'(string19/                   13/oldcontents\n1/ 3/(if15/               9/\"<p>\"\n1/ 11/fulltarget)1/ 5/(tabs16/                9/stdpage\n1/ 9/stdheader1/ 7/(string8/        3/'\n1/ 5/nil))1/ 3/'(_1/ 11/fulltarget)1/ 6/'(head1/ 7/(handle1/ 12/'oldcontents1/ 5/'(let6/      10/textarea\n1/ 3/the1/ 2/in1/ 2/it1/ 3/put1/ 3/and1/ 2/;;6/      6/page\n1/ 4/this1/ 3/for1/ 4/code1/ 6/source1/ 3/the1/ 5/fetch1/ 2/to1/ 4/need1/ 2/;;6/      11/\"edit\")\n1/ 6/action1/ 3/(eq1/ 3/(if2/  5/'\n\n1/ 13/\"</div>\")))27/                           4/\"\n1/ 21/\"\\\">run</a></span>1/ 4/page1/ 16/href=\\\"/run/\"1/ 20/class=\\\"tab\\\"><a1/ 7/\"<span27/                           4/\"\n1/ 25/\"\\\">history</a></span>1/ 4/page1/ 20/href=\\\"/history/\"1/ 20/class=\\\"tab\\\"><a1/ 7/\"<span27/                           4/\"\n1/ 22/\"\\\">edit</a></span>1/ 4/page1/ 17/href=\\\"/edit/\"1/ 20/class=\\\"tab\\\"><a1/ 7/\"<span27/                           4/\"\n1/ 22/\"\\\">view</a></span>1/ 4/page1/ 19/href=\\\"/view/_/\"1/ 20/class=\\\"tab\\\"><a1/ 7/\"<span27/                           23/class=\\\"tabs\\\">\"\n1/ 6/\"<div1/ 7/(string19/                   6/tabs\n1/ 4/make1/ 3/XXX1/ 1/;19/                   3/'\n1/ 5/args)1/ 4/(car1/ 5/'page1/ 5/'(let13/             7/'args\n1/ 7/(lambda1/ 5/'tabs1/ 6/\n(let2/  3/'\n1/ 15/action_target))1/ 4/(cdr1/ 4/(car1/ 11/'fulltarget1/ 7/'\n(let1/ 14/action_target)1/ 4/(car1/ 7/'action1/ 7/'\n(let1/ 2/0)1/ 3/url1/ 5/\"/\"1/ 5/token1/ 6/(token1/ 14/'action_target1/ 7/'\n(let1/ 4/0)))1/ 11/request.url1/ 5/\"/\"1/ 5/token1/ 6/(token1/ 4/(cdr1/ 4/(car1/ 4/'url1/ 11/char)\n(let1/ 1//1/ 8/starting1/ 3/the1/ 3/off1/ 5/(toss1/ 1/;2/  5/URL\n1/ 3/the1/ 2/on1/ 5/based1/ 5/doing1/ 5/we're1/ 4/what1/ 3/out1/ 6/figure1/ 1/;2/  5/'\n\n1/ 7/0))))))1/ 4/hrec1/ 5/(hrec1/ 6/string1/ 5/(cons1/ 6/'(eval15/               11/1))))))))\n1/ 1/n1/ 2/(+1/ 4/self1/ 5/(self46/                                              8/'ch)))\n54/                                                      12/'\"&amp;\"\n56/                                                        8/\"&\")\n1/ 2/ch1/ 3/(eq1/ 4/'(if51/                                                   11/'\"&gt;\"\n53/                                                     8/\">\")\n1/ 2/ch1/ 3/(eq1/ 4/'(if48/                                                11/'\"&lt;\"\n50/                                                  8/\"<\")\n1/ 2/ch1/ 3/(eq1/ 3/(if46/                                              8/'(cons\n44/                                            4/n)\n1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let38/                                      6/'nil\n40/                                        5/s))\n1/ 5/(size1/ 1/n1/ 3/(eq1/ 4/'(if35/                                   8/args))\n1/ 4/(cdr1/ 4/(car1/ 2/'n1/ 5/'(let29/                             7/args)\n1/ 4/(car1/ 5/'self1/ 5/'(let23/                       7/'args\n1/ 7/(lambda1/ 5/'hrec1/ 5/'(let9/         8/hargs)\n1/ 4/(car1/ 2/'s1/ 5/'(let4/    8/'hargs\n1/ 7/(lambda2/  6/PERF\n1/ 1/;2/  13/'htmlescape\n1/ 9/'\n\n(let1/ 7/)))))))37/                                     6/1)))\n1/ 1/n1/ 2/(-1/ 1/s1/ 3/sep1/ 4/self1/ 6/'(self42/                                          7/1))))\n1/ 1/n1/ 2/(+1/ 2/s)1/ 5/(size1/ 2/(-1/ 2/1)1/ 1/n1/ 2/(+1/ 1/s1/ 7/(substr1/ 2/n)1/ 1/01/ 1/s1/ 7/(substr1/ 6/'(list42/                                          6/sep)\n1/ 2/ch1/ 3/(eq1/ 4/'(if37/                                     4/n)\n1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let31/                               4/s)\n1/ 4/\"\"1/ 6/'(list1/ 3/1))1/ 1/01/ 2/(-1/ 1/n1/ 3/(eq1/ 4/'(if28/                            10/args))))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'n1/ 5/'(let22/                      9/args)))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'s1/ 5/'(let16/                8/args))\n1/ 4/(cdr1/ 4/(car1/ 4/'sep1/ 5/'(let10/          7/args)\n1/ 4/(car1/ 5/'self1/ 5/'(let4/    7/'args\n1/ 7/(lambda2/  9/'rtoken\n1/ 6/\n(let21/                     8/instance1/ 4/last1/ 3/but1/ 5/same,1/ 6/'\n\n;1/ 7/)))))))37/                                     6/1)))\n1/ 1/n1/ 2/(+1/ 1/s1/ 3/sep1/ 4/self1/ 6/'(self42/                                          7/1))))\n1/ 1/n1/ 2/(+1/ 2/s)1/ 5/(size1/ 2/(-1/ 2/1)1/ 1/n1/ 2/(+1/ 1/s1/ 7/(substr1/ 2/n)1/ 1/01/ 1/s1/ 7/(substr1/ 6/'(list42/                                          6/sep)\n1/ 2/ch1/ 3/(eq1/ 4/'(if37/                                     4/n)\n1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let31/                               7/\"\")\n1/ 1/s1/ 6/'(list1/ 3/s))1/ 5/(size1/ 1/n1/ 3/(eq1/ 4/'(if28/                            10/args))))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'n1/ 5/'(let22/                      9/args)))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'s1/ 5/'(let16/                8/args))\n1/ 4/(cdr1/ 4/(car1/ 4/'sep1/ 5/'(let10/          7/args)\n1/ 4/(car1/ 5/'self1/ 5/'(let4/    7/'args\n1/ 7/(lambda2/  8/'token\n1/ 11/given\n(let1/ 4/char1/ 3/the1/ 2/of1/ 8/instance1/ 5/first1/ 3/the1/ 2/to1/ 2/up1/ 4/chop1/ 6/'\n\n;1/ 9/'nil)))))25/                         6/l)))\n1/ 4/(cdr1/ 1/f1/ 4/self1/ 5/(self1/ 3/l))1/ 4/(car1/ 2/(f1/ 6/'(cons27/                           3/l\n1/ 4/'(if22/                      9/args)))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'l1/ 5/'(let16/                8/args))\n1/ 4/(cdr1/ 4/(car1/ 2/'f1/ 5/'(let10/          7/args)\n1/ 4/(car1/ 5/'self1/ 5/'(let4/    7/'args\n1/ 7/(lambda2/  2/\n1/ 4/'map1/ 11/'\n\n\n(let1/ 18/\"\\r\\n\\r\\n\"))1/ 7/target)1/ 4/(car1/ 2/\"1/ 11/\"Location:1/ 8/'(string1/ 7/'target1/ 7/(lambda1/ 9/'redirect1/ 7/'\n(let1/ 42/title=\\\"polybook\\\"/></head><body>\\n\"1/ 32/href=\\\"/raw/_/polybook.css\\\"1/ 21/type=\\\"text/css\\\"1/ 14/rel=stylesheet1/ 19/\"<html><head><link1/ 8/'stdpage1/ 7/'\n(let1/ 27/charset=utf-8\\r\\n\\r\\n\"1/ 10/text/html;1/ 15/\"Content-Type:1/ 10/'stdheader1/ 15/revert.\n\n(let1/ 2/to1/ 4/need1/ 3/and1/ 2/up1/ 4/mess1/ 5/might1/ 2/we1/ 8/anything1/ 4/does1/ 4/page1/ 7/main-go1/ 3/";;X
!19=M1238:12/preserved)\ni1237,8:4/data1/ 4/with1/ 4/page1/ 4/edit1/ M1234:2/toM1232:4/themM1230:4/sendi1229,4:5/maybe1/ 5/could1/ M1226:6/thoughM1225:2/  M1222:10/manually\nM1220:6/buttonM1218:4/backM1216:3/usei1215,10:3/can1/ 5/(user1/ 2/;;15/               10/anything\n1/ 4/save1/ M24:11/again\n(leti23,8:5/error1/ 4/test1/ 2/;;1/ 11/revert.\n))1/ X
!17=M32:15/revert.\n\n(letd30,23:X
!15=d1698,1691:X
!12=M1277:15/               M1268:7/msg))))M1266:2/\"M1264:7/becauseM1262:6/failedd1261,1260:M1258:2/\"M1257:52/                                                    M1256:12/fulltarget\nM1254:2/\"M1252:2/ofM1250:13/\"compilationM1249:52/                                                    M1248:9/(string\nM1247:51/                                                   M1246:8/'abort\nM1245:51/                                                   M1244:7/(list\nM1243:50/                                                  M1242:8/aborts\nM1240:4/thatM1238:7/programM1236:1/ad1235,1232:M1230:6/returnM1228:1/;M1227:50/                                                  M1226:4/we\nM1224:4/thenM1222:6/fails,M1220:11/compilationd1219,1218:M1216:2/ifM1214:1/;M1213:50/                                                  M1212:7/'(msg\nM1210:4/dat)M1208:9/'(compileM1206:7/(handleM1204:4/'exeM1202:5/'(letd1201,1198:M24:13/failure\n(leti23,8:11/compilation1/ 4/test1/ 2/;;1/ 13/revert.\n))))1/ X
!8=M32:15/revert.\n\n(letd30,23:M0:5/"\n;;X

main-go.w 466 16782/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sun, 18 Mar 2007 14:30:47 EST") ("summary" "add license link")) '";; main-go page does anything we might mess up and need to revert.\n\n(include \"stdlib\"\n(let stdheader \"Content-Type: text/html; charset=utf-8\\r\\n\\r\\n\" \n(let stdpage (string \"<html><head><link rel=stylesheet type=\\\"text/css\\\" href=\\\"/raw/_/polybook.css\\\" title=\\\"polybook\\\"/></head><body><div id=\\\"container\\\"><div style=\\\"float:left;\\\"><object data=\\\"/typed/_/image/svg+xml/polybook_logo.svg\\\" type=\\\"image/svg+xml\\\" style=\\\"overflow-x:hidden;\\\" width=\\\"200\\\" height=\\\"100\\\">(Wikiplia logo in SVG)</object><br/><div class=\\\"sidebar\\\">\"\n      (linkup \"home\" \"Home page\") \"<br/>\"\n      (linkup \"featured\" \"Featured content\") \"<br/>\"\n      (linkup \"TPL\" \"License\") \"<br/>\"\n      (linkup \"about\" \"About Wikiplia\") \"<br/>\"\n      \"</div></div><div style=\\\"margin-left:210;\\\" id=\\\"content\\\">\\n\")\n(let endpage \"</div></div></body></html>\"\n(let redirect (fn (target) (string \"Location: \" target \"\\r\\n\\r\\n\"))\n(let warn (fn (s) (string \"<div class=\\\"message\\\"><span class=\\\"warnimage\\\" style=\\\"float:left;\\\">&nbsp;</span>\"\n                          s \"</div>\"))\n\n; chop up to the first instance of the char given\n(let token\n  (fn (self sep s n)\n    (if (eq n (size s)) \n        (list s \"\")\n      (let ch (sub s n)\n         (if (eq ch sep)\n             (list (substr s 0 n) (substr s (+ n 1) (- (size s) (+ n 1))))\n           (self self sep s (+ n 1))))))\n\n; same, but last instance                     \n(let rtoken\n  (fn (self sep s n)\n      (if (eq n (- 0 1)) \n          (list \"\" s)\n        (let ch (sub s n)\n             (if (eq ch sep)\n                 (list (substr s 0 n) (substr s (+ n 1) (- (size s) (+ n 1))))\n               (self self sep s (- n 1))))))\n\n(let tokens\n   (fn (self sep s)\n      (let t (token token sep s 0)\n        (if (eq (car (cdr t)) \"\") (cons (car t) nil)\n           (cons (car t) (self self sep (car (cdr t))))\n        )))\n\n(let htmlescape \n   (fn (s)\n     (let hrec \n       (fn (self st en)\n          (if (eq en (size s)) \n              (list (substr s st (- en st)))\n              (let ch (sub s en)\n               (if (eq ch \"<\")\n                   (cons (substr s st (- en st)) (cons \"&lt;\" (self self (+ en 1) (+ en 1))))\n                   (if (eq ch \">\")\n                       (cons (substr s st (- en st)) (cons \"&gt;\" (self self (+ en 1) (+ en 1))))\n                       (if (eq ch \"&\")\n                           (cons (substr s st (- en st)) (cons \"&amp;\" (self self (+ en 1) (+ en 1))))\n                           (self self st (+ en 1))\n                        )\n                    )\n                ))))\n       (eval (cons string (hrec hrec 0 0)))\n    ))\n\n  ; figure out what we're doing based on the URL\n  ; (toss off the starting / char)\n(let url (car (cdr (token token \"/\" request.url 0)))\n(let action_target (token token \"/\" url 0)\n(let action (car action_target)\n(let fulltarget (car (cdr action_target))\n  \n\n(let insertpage\n  ;; give key (string), data (any), and metadata (string * any) list\n  (fn (key data metadata)\n      ;; some metadata is automatic\n      (let metadata (cons (list \"ip\" request.ip)\n                    (cons (list \"time\" request.time)\n                          ;;; XXX user... edit summary?\n                          metadata))\n           ;; we insert the xesp (let '__metadata '(...the metadata..)\n           ;;                      'actual data)\n           ;; (we quote the metadata because we don't want it to be\n           ;;  executed as code when the XESP is run)\n           (let value \n             (list (parse \"let\") (quote (parse \"__metadata\")) (quote metadata)\n                   (quote data)) \n             (insert key value))\n           ))\n\n(let getpage\n  ;; given key and revision (nil = head), get the data and metadata (if any)\n  ;; aborts if key can't be found\n  (let issym\n    (fn (wl sy) \n        (xcase wl\n               nil\n               (_ _ nil)\n               (_ nil)\n               nil\n               nil\n               (s (eq s sy))\n               nil))\n  (let isqsym\n    (fn (qs)\n        (xcase qs\n               nil\n               (_ _ nil)\n               (q (issym q \"__metadata\"))\n               nil\n               nil\n               (_ nil)\n               nil))\n\n  (fn (key rev)\n      (let val (if rev (read key rev) (head key))\n      (let v (list val nil) ;; no metadata\n           ;; it must be of form (let '__metadata metadata 'page)\n           ;; or else we just return the raw value, assuming\n           ;; an old format\n           (xcase val\n                  v\n                  (wantlet v2 \n                   (xcase v2\n                          v\n                          (wantqsym v3\n                           (xcase v3\n                                  v\n                                  (wantqmd v4\n                                   (xcase v4\n                                          v\n                                          (wantqpage v5\n                                           ;; assume v5 = nil\n                                           ;; if the following\n                                           ;; tests pass\n                                           (if (issym wantlet \"let\")\n                                               (if (isqsym wantqsym)\n                                                 (xcase wantqmd \n                                                     v (_ _ v)\n                                                  (themd \n                                                   (xcase wantqpage\n                                                          v\n                                                          (_ _ v)\n                                                          ;; success! return page/metadata\n                                                          (page (list page themd))\n                                                          v\n                                                          v\n                                                          (_ v)\n                                                          v))\n                                                   v v (_ v) v)\n                                                 v)\n                                             v)\n                                           )\n                                           (_ v)\n                                           v\n                                           v\n                                           (_ v)\n                                           v))\n                                  (_ v)\n                                  v\n                                  v\n                                  (_ v)\n                                  v))\n                          (_ v)\n                          v\n                          v\n                          (_ v)\n                          v))\n                  (_ v)\n                  v\n                  v\n                  (_ v)\n                  v))\n      ))))\n\n(let mdkey\n  (fn (k md)\n     (let mk\n       (fn (self md)\n         (xcase md\n            nil ;; no data for this key\n            (h t  (if (eq k (car h)) (car (cdr h)) (self self t)))\n           ;; otherwise metadata has wrong form; abort\n          )\n        )\n      (mk mk md))\n  )\n\n(let DEFAULT-EXT \"page\"\n\n;; if trying to do something on a page, but that page\n;; doesn't exist, prompt to create it.\n(let nopage-create\n  (fn (target)\n   (let ptarget\n    (let base_ext (rtoken rtoken \".\" target (- (size target) 1)) \n    (let base (car base_ext) \n    (let ext (car (cdr base_ext))\n      (if (eq base \"\")\n         ;; no extension -- default to DEFAULT-EXT\n         (string ext \".\" DEFAULT-EXT)\n         ;; also a special case for IP addresses, where extension is an int\n         (handle (let _ (int ext) (string target \".\" DEFAULT-EXT))\n                 (_ target)))\n     )))\n   (string \"There is no page called <b>\" target \"</b>. \"\n           \"Perhaps you'd like to <a href=\\\"/edit/\" ptarget \"\\\">create it</a>?\")\n   ))\n         \n\n(let tabs (fn (page)\n              (string \"<div class=\\\"tabs\\\">\"\n                      \"<span class=\\\"userimage\\\" style=\\\"float:right\\\">\" (linkup request.ip request.ip) \"</span>\"\n                      \"<span class=\\\"tab\\\"><a href=\\\"/view/_/\" page \"\\\">view</a></span> \"\n                      \"<span class=\\\"tab\\\"><a href=\\\"/edit/\" page \"\\\">edit</a></span> \"\n                      \"<span class=\\\"tab\\\"><a href=\\\"/history/\" page \"\\\">history</a></span> \"\n                      \"<span class=\\\"tab\\\"><a href=\\\"/run/\" page \"\\\">run</a></span> \"\n                      \"</div>\"))\n\n  (if (eq action \"edit\")\n      ;; need to fetch the source code for this page\n      ;; and put it in the textarea\n      (let oldcontents_md (handle (getpage fulltarget nil) (_ (list nil nil)))\n      (let oldcontents (car oldcontents_md)\n      (let md (car (cdr oldcontents_md))\n        (string stdheader stdpage\n                (tabs fulltarget) \"<p>\"\n               (if oldcontents\n                   (string \"editing \" fulltarget \" ... \")\n                   (string \"creating new page \" fulltarget \" ... \"))\n               (let source (mdkey \"source\" md)\n                 (if source\n                   (warn (string \n                           \"This page was produced by compiling source code.<br/>\"\n                           \"You probably want to edit <a href=\\\"/view/_/\" source \"\\\">\" source \"</a> instead!\"))\n                  \"\"))\n               \"<br/><b>Do not copy text from other websites without permission. It will be deleted.</b>\"\n               \"<form method=\\\"post\\\" action=\\\"/save/\" fulltarget \"\\\"><textarea class=\\\"contents\\\" rows=35 cols=120 name=\\\"contents\\\">\"\n               (xcase oldcontents\n                   \"\"\n                   (_ _ \"(was list data)\")\n                   (_ \"(was quoted data)\")\n                   (htmlescape oldcontents)\n                   (string \"(was int \" oldcontents \")\")\n                   (_ \"(was symbol)\")\n                   \"(internal data)\")\n               \"</textarea>\\n<br/>\"\n               \"<input type=text class=\\\"summary\\\" name=\\\"summary\\\"/>&nbsp;Edit&nbsp;summary&nbsp;\"\n               \"<input type=submit class=\\\"save\\\" value=\\\"save\\\"/></form>\")\n         endpage)))\n\n    (if (eq action \"save\")\n       ; might need to compile... \n       ; figure out the language based on the extension.\n       (let base_ext (rtoken rtoken \".\" fulltarget (- (size fulltarget) 1)) \n       (let base (car base_ext) \n       (let ext (car (cdr base_ext)) \n       (let dat form.contents\n       (let md (list (list \"summary\" form.summary))\n\n       (if (eq base \"\")\n           ;; if there was no . then ext holds the entire name. in this case\n           ;; just save.\n           (let _ (insertpage fulltarget dat md) \n                 ;; XXX goto revision\n                 (redirect (string \"/view/_/\" fulltarget)))\n\n         ;; otherwise we should compile, saving the source and compiled version\n         ;; (might do this recursively??  eg. prog.b.w)\n         ; get (and run to produce a closure) the compiler, if any\n         (let compile (handle (eval (head (string ext \":compile\"))) (_ nil))\n            ; save source\n            (let _ (insertpage fulltarget dat md) \n             (if compile\n               ;; if compilation fails, let exn propagate and don't overwrite the compiled page\n               ;; but we did already save the source.\n               (let exe (compile dat) \n               ; save executable\n               (let _ (insertpage base exe (cons (list \"source\" fulltarget) md) )\n                    ;; XXX should jump directly to the revision we inserted\n                    (redirect (string \"/view/_/\" fulltarget))\n                    )) ; compiler exists\n              (redirect (string \"/view/_/\" fulltarget)))\n        )))))))) ; action save\n\n       (if (eq action \"history\")\n            (string\n              stdheader stdpage\n              (tabs fulltarget)\n              \"<p>history for \" fulltarget \" ...<hr/><p>\"\n\n              ;; PERF should limit this to a few at a time...\n              \"<table><tbody>\"\n              (eval \n              (cons\n               (parse \"string\")\n                  (map \n                       (fn (r) \n                        (let pmd (getpage fulltarget r)\n                        (let md (car (cdr pmd))\n                        (let ip (mdkey \"ip\" md)\n                          (string\n                           \"<tr>\"\n                           \"<td><a href=\\\"/view/\" r \"/\" fulltarget \"\\\">\" r \"</a></td>\"\n                           \"<td>\" (mdkey \"time\" md) \"</td>\"\n                           \"<td><span class=\\\"userimage\\\">\" (linkup ip ip) \"</span></td>\"\n                           \"<td>\" (mdkey \"summary\" md) \"</td>\"\n                           \"</tr>\")\n                         )))\n                        ) (history fulltarget)))\n                  )\n              \"</tbody></table>\"\n\n             endpage)\n\n       (if (eq action \"view\")\n            (let rev_target (token token \"/\" fulltarget 0)\n            (let rev (car rev_target)\n            (let target (car (cdr rev_target))\n             (string\n              stdheader stdpage\n              (tabs target)\n              \"<p>viewing \" target (if (eq rev \"_\") \"\" (string \" @ \" rev)) \" ... <hr/><p>\"\n              (handle \n                (let page_md (getpage target (if (eq rev \"_\") nil (int rev)))\n                (let md (car (cdr page_md))\n                     \n                     (string \"metadata: \" md\n                             (let source (mdkey \"source\" md)\n                              (if source\n                               (string \"<br/> <a href=\\\"/view/_/\" (mdkey \"source\" md) \"\\\">&rarr; \" source \"</a>\")\n                               \"\"))\n                             \"<hr>\"\n                             \"page:\\n<pre>\"\n                             (htmlescape (string (car page_md)))\n                             \"</pre>\")\n                     ))\n                (msg (string \n                        \"<span style=\\\"color : #BBBBBB;\\\">\" msg \"</span><br/>\"\n                        (nopage-create target)))\n              )\n              endpage\n              ))))\n\n       ;; like view, but no excess stuff/escaping (good for including CSS, for instance)\n       (if (eq action \"raw\")\n            (let rev_target (token token \"/\" fulltarget 0)\n            (let rev (car rev_target)\n            (let target (car (cdr rev_target))\n            (let page_md (getpage target (if (eq rev \"_\") nil (int rev)))\n            \n             (string\n              stdheader (car page_md))\n\n             ))))\n\n       ;; like raw, but also specify the content type\n       (if (eq action \"typed\")\n            (let rev_target (tokens tokens \"/\" fulltarget)\n            (let rev (car rev_target)\n            (let typ (car (cdr rev_target))\n            (let exttyp (car (cdr (cdr rev_target)))\n            (let target (car (cdr (cdr (cdr rev_target))))\n            (let page_md (getpage target (if (eq rev \"_\") nil (int rev)))\n\n             (string\n              \"Content-Type: \" typ \"/\" exttyp \"; charset=utf-8\\r\\n\\r\\n\" \n              (car page_md))\n\n             ))))))\n\n          ;; XXX protect against run main...? (= infinite loop)\n          ;; (or run main-go)\n       (if (eq action \"run\")\n            (string\n             stdheader stdpage\n             (tabs fulltarget)\n             \"<p>running \" fulltarget \" ... <hr/><p>\"\n             (handle (let prog (head fulltarget)\n                          (handle (eval prog) (msg (string \"<b>Runtime error</b>: \" msg))))\n                     (_ (nopage-create fulltarget)))\n             endpage)\n         \n         (if (eq request.url \"/\")\n            (redirect \"/run/home\")\n            ;; otherwise this is a bogus URL\n            (string stdheader \"404 not found! Maybe you want the <a href=\\\"/\\\">home page?</a>\"))\n          ))\n\n       ))))) ; action case analysis\n\n))))))))))))))))))))")
!370=d128,121:M28:11/"sidebar"))d26,23:M18:8/16:49:27M12:2/07M10:5/"Wed,M6:12/"127.0.0.1")X
!359=M134:30/id=\\\"content\\\">\\n\"\n(letM130:23/SVG)</object></div><divd129,128:d126,95:d66,65:M24:10/history"))i23,8:2/to1/ 9/summaries1/ 4/edit1/ 4/"add1/ M18:8/15:28:24M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!353=d2574,2565:M32:10/styling"))M30:3/forM28:4/formM24:2/oni23,2:8/"classes1/ M18:8/15:24:29X
!351=d2006,2005:d1998,1997:d1934,1933:M34:6/EST"))M32:8/15:21:32d30,17:X
!345=M2394:7/)))))))M2346:12/fulltarget))d2344,2343:M2338:5/(listM2262:4/nil)M2146:4/nil)M2090:4/\n\nM2088:13/form.contentsd2086,2077:M1988:31/value=\\\"save\\\"></form>\")\nM1982:20/\"</textarea>\\n\"\nd1981,1978:d1976,1975:M18:8/15:10:14X
!341=M2532:4/))\nM2526:3/md)M2524:6/\"ip\"M2522:6/(mdkeyd2486,2477:M18:8/15:06:39X
!339=M1572:17/DEFAULT-EXT))))\nd1570,1567:i1561,4:2/(_17/                 9/target)\n1/ M1550:11/addresses\nd1548,1539:M18:8/14:55:45X
!337=d1562,1553:d1551,1542:d1540,1525:M18:8/14:52:15X
!299=d1594,1593:M1590:17/color:red;\\\">\"M1588:22/style=\\\"float:right;M18:8/14:06:07X
!298=M3045:4/    M3044:7/URL\n\tM3031:4/    i3031,2:2/\t1/ M3017:1/ M3016:12/endpage)\n\tM3014:14/fulltarget))\nM3009:5/     M3008:13/msg))))\n\t\tM2981:5/     M2980:14/<hr/><p>\"\n\tM2969:5/     M2968:15/fulltarget)\n\tM2965:5/     M2964:11/stdpage\n\tM2961:5/     M2960:11/(string\n\tM2823:4/    M2822:14/\"typed\")\n\tM2731:4/    M2730:12/\"raw\")\n\tM2247:7/       M2246:11/source.\n\tM1643:6/      M1642:8/\"\n\t\tM1631:6/      M1630:8/\"\n\t\tM1619:6/      M1618:8/\"\n\t\tM1607:6/      M1606:8/\"\n\t\tM1595:6/      M1594:17/\"</span>\"\n\t\tM1577:6/      M1576:10/(page)\n\tM1568:3/)\nM341:7/       M340:9/1))))\n\tM309:1/ M308:10/sep)\n\t\tM301:5/     M300:6/n)\n\tM292:10/s)\n\t(letd291,290:M285:2/  M284:4/\n\tM235:3/   M234:9/1))))\n\tM203:5/     M202:8/sep)\n\tM195:1/ M194:6/n)\n\tM180:9/\n\t(listd179,178:M18:8/14:03:12X
!297=M3078:33/analysis\n\n)))))))))))))))))))")M18:8/13:56:40X
!295=M3078:32/analysis\n\n))))))))))))))))))")M3010:14/it</a>?\")))\nM3008:13/\"\\\">createM3006:10/fulltargeti3006,34:1/ 17/href=\\\"/edit/\"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 9/\"Perhaps6/      10/\"\n\t\t\t1/ 7/\"</b>.1/ 10/fulltarget1/ 5/<b>\"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 7/\"There1/ 7/(string6/      8/(_\n\t\tM2686:13/it</a>?\"))\nM2684:13/\"\\\">createi2684,14:1/ 6/target1/ 17/href=\\\"/edit/\"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 9/\"Perhapsi2683,18:4/\"\n1/ 7/\"</b>.1/ 6/target1/ 5/<b>\"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 7/\"There24/                        d1566,1401:M18:8/10:33:55X
!256=M2968:16/action!\")))\n\nd2967,2966:M2964:9/\"unknownd2962,2947:d2943,2942:M2940:9/page?\n\tM2938:4/mainM2936:2/toM2934:2/goM2932:6/shouldM2930:8/probablyd2929,2928:M2926:3/XXXM2924:2/;;d2923,2922:M2920:4/\n\td2918,2913:M18:8/17:57:58M12:2/01M10:5/"Thu,X
!254=d2312,2311:d2229,2228:M2226:7/(stringd2225,2224:d2222,2219:M18:8/17:54:42X
!250=d2304,2303:M2298:4/\"))d2297,2292:M2290:6/\"</a>M2288:1/rM2287:54/                                                      M2286:2/\nd2284,2267:M2256:4/\"<ad2255,2250:M2248:7/(stringd2246,2229:d2225,2224:M2218:15/...<hr/><p>\"\nd2217,2216:d2214,2193:M20:17/"128.2.203.136"))d18,5:X
!246=M772:11/metadata)\nM770:6/user\nM768:5/date,d766,765:d760,753:X
!242=M2838:31/analysis\n\n)))))))))))))))))")M1638:19/instead!</div>\")\nM1600:26/class=\\\"message\\\">ThisM1599:1/ M1598:6/\"<divd1595,1594:M120:23/\"\\r\\n\\r\\n\"))\n\n;d118,99:X
!239=M2654:9/)))))\n\nM2652:3/)\nM2650:6/rev)))i2650,18:1/ 4/(int1/ 6/target1/ 5/(read1/ 7/target)1/ 5/(head1/ 6/\"_\")1/ 3/rev1/ 3/(eq1/ 3/(ifd2630,2609:M2526:7/)))\n\nM2524:3/)\nM2522:6/rev)))M2520:4/(intM2519:1/ M2518:6/targetM2517:1/ M2516:5/(readd2515,2514:M2512:7/target)M2510:5/(headM2500:9/stdheaderM2499:14/              M2498:9/(string\nM2497:13/             d2496,2493:X
!237=M1720:13/endpage))\n\nM1568:13/\"source\")\nd1566,1565:d1510,1501:X
!235=d1606,1549:X
!234=M2278:9/\"</a>)\nX
!232=M2296:3/)\nM2280:11/page_md))\nd2279,2278:M2276:4/(cdrM2274:4/(card2272,2241:M2234:10/rev)))\n\nd2233,2232:d2230,2221:X
!230=M2690:30/analysis\n\n))))))))))))))))")M1356:14/))))\n\n\n(letd1355,1350:d1348,1267:X
!228=M1562:12/endpage)\n\nM1412:7/nil))\nd1410,1399:M1396:11/fulltarget)M1394:5/(headd1392,1391:M1388:11/oldcontentsX
!226=M2588:29/analysis\n\n))))))))))))))))"M8:3/";;d7,0:X
!223=M1886:6/exe)\nd1884,1875:M1872:7/(insertM1802:4/dat)d1800,1799:M1796:7/(insertX
!221=M1198:4/c)\nd1195,1186:d1148,1131:M1080:6/(themdM828:8/data))\nd826,825:M822:10/metadata\nd820,819:d800,759:M748:10/__metadataX
!219=M1106:2/(qX
!217=M2068:15/#EEEEEE;\\\">\"M890:4/ql\nX
!215=M2064:15/class=\\\"colorX
!212=d2073,2072:d2070,2059:M2056:2/(_X
!209=M774:5/(evalM768:5/(evalX
!207=M1612:4/dat)d1610,1609:M1606:7/(insertX
!205=M2050:13/page_md))))\nd2049,2048:M2040:4/\"\ni2040,2:1/ 7/\"page:X
!203=M2050:12/page_md)))\nd2046,2045:X
!201=M2090:12/it</a>?\")\nd2053,2052:X
!195=X
!170=M2093:15/               M2090:14/it</a>?\")))\nd2089,2088:M2071:7/       M2070:10/\"\n\t\t\tM2051:7/       M2050:8/(_\n\t\tM2049:22/                      M2048:16/\"</pre>\\n\")\nM2046:8/rev)))))M2044:4/(intd2043,2042:M2040:6/targetd2039,2036:M2034:5/(readM2032:7/target)M2030:5/(headd2028,2019:M2010:7/(stringM2008:11/(htmlescapeM2006:12/\"<pre>\\n\"M2004:7/(stringd2003,2002:M1186:13/)))\n\n\n(letM1008:3/v\nd956,941:M926:1/vX
!168=M2438:28/analysis\n\n)))))))))))))))"d1170,791:M789:3/   M788:11/value))\n\tM783:5/     M782:10/data))\n\tM779:3/   M778:15/metadata)\n\t\tM776:6/(quotei775,2:15/\"__metadata\")1/ d772,771:M765:5/     M764:4/\n\tM759:3/   M758:9/data)\n\tM753:3/   M752:15/metadata..)\n\tM735:3/   M734:13/metadata)\n\tM733:2/  M732:12/user\n\t\t\tM725:2/  M724:19/request.ip)\n\t\t\tX
!166=M2058:27/analysis\n\n))))))))))))))"M790:6/\n(letd789,734:d732,667:X
!164=M1900:17/it</a>?\"))))\n\td1899,1898:M1398:18/fulltarget))))\n\nd1397,1396:M948:34/value=\\\"save\\\"></form>\"))\n\nd947,946:X
!162=M76:30/\"</div></body></html>\"\n(letd70,69:d50,49:X
!160=M1548:9/)))))\n\nM1544:13/it</a>?\"))\nX
!158=M1548:20/it</a>?\")))))))\n\nd1547,1544:X
!155=M1922:26/analysis\n\n)))))))))))))"M72:30/SVG)</object></div>\\n\"\n(letd70,65:X
!153=M66:39/height=\\\"100\\\"></object>\\n\"\n(letd64,59:d56,55:M50:44/title=\\\"polybook\\\"/></head><body><objectd48,47:X
!150=M56:35/height=\"100\"></object>\\n\"\n(letM54:13/width=\"200\"M52:22/type=\"image/svg+xml\"M50:49/data=\"/typed/_/image/svg+xml/polybook_logo.svg\"X
!148=M56:6/\n(letM54:7//>\\n\"M52:25/style=\\\"float:left;\\\"M50:58/src=\\\"file:///c:/code/sf_svn/trunk/wikiplia/aaaa.svg\\\"M48:41/title=\\\"polybook\\\"/></head><body><imgX
!146=M50:52/src=\\\"/typed/_/image/svg+xml/polybook_logo.svg\\\"X
!144=M54:42/title=\\\"polybook\\\"/></head><body>\\n\"d52,47:X
!142=M1900:25/analysis\n\n))))))))))))"M1654:4/0)\ni1653,2:10/fulltarget1/ M1650:5/tokenM1648:6/(tokend346,283:X
!136=M1830:4/))))d1678,1553:X
!133=M598:32/class=\\\"userimage\\\"></div>\"i597,2:19/color:red;\\\"><div1/ d594,593:X
!130=M598:33/class=\\\"userimage\\\"></span>\"M596:20/color:red;\\\"><spanX
!127=M598:32/class=\\\"userimage\\\"></div>\"M596:19/color:red;\\\"><divX
!124=M598:17/color:red;\\\">\"d596,595:X
!122=M648:17/\"</span>\"\n\t\ti647,10:10/request.ip1/ 17/color:red;\\\">\"1/ 22/style=\\\"float:right;1/ 7/\"<span22/                      4/\"\n1/ M600:27/class=\\\"tabs\\\">\"\n\t\td598,589:X
!119=M648:8/\"\n\t\td646,637:X
!117=M498:4/0)\nd491,486:X
!110=M494:11/0))))))\n\nd493,492:d490,489:d485,478:M476:6/stringM474:5/(consM472:5/(evalM471:15/               M470:11/1))))))))\nM468:1/nd467,466:d464,463:d460,455:M451:46/                                              M450:7/ch)))\nM449:54/                                                      M448:11/\"&amp;\"\nM447:56/                                                        d446,433:M425:51/                                                   M424:10/\"&gt;\"\nM423:53/                                                     d422,391:M383:48/                                                M382:10/\"&lt;\"\nM381:50/                                                  d380,349:M341:46/                                              M340:7/(cons\ni340,2:44/                                            4/n)\nM331:38/                                      M330:5/nil\nM329:40/                                        M328:5/s))\nM326:5/(sizeM324:1/nM322:3/(eqM320:3/(ifi320,2:35/                                   8/args))\nM318:4/(cdrM317:1/ M316:4/(carM314:1/nM312:4/(leti312,2:29/                             7/args)\nM310:4/(carM308:4/selfM306:4/(letM305:23/                       M304:6/args\nM302:7/(lambdaM300:4/hrecM298:4/(letM297:9/         M296:8/hargs)\nM294:4/(cari293,2:1/s1/ M291:4/    M290:7/hargs\nM288:7/(lambdaM287:2/  M286:11/modernize\nM284:3/XXXi283,8:1/;2/  6/PERF\n1/ 1/;2/  12/htmlescape\n1/ X
!108=M1314:7/rev))))d1294,1293:X
!106=M1608:24/analysis\n\n)))))))))))"M26:15/revert.\n\n(letd24,23:X

main.b 454 1127/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sat, 10 Mar 2007 11:26:50 EST") ("summary" "update comment")) '"; This is the main entry point for the wiki software,\n; invoked for every page load. It is written directly\n; in bytecode. It just invokes the high-level compiled\n; main-go program, but provides an emergency wrapper\n; that allows the wiki software to be reverted in\n; the case that the interface is unusably broken.\n\n(let 'nil '() '\n(let 'car (lambda 'args\n            '(xcase args 'noa '(arg u\n                                   (xcase arg 'error_car_nil '(h u h))))) '\n(let 'cdr (lambda 'args\n            '(xcase args 'nob '(arg u \n                                   (xcase arg 'error_cdr_nil '(u t t))))) '\n;; emergency revert code as soon as possible...\n;; this reverts only the compiled main-go page, not any source code.\n(if (eq request.url \"/emergency-revert\")\n   '(let '_ (insert \"main-go\" (read \"main-go\" (car (cdr (history \"main-go\"))))) '\n       \"OK, reverted\")\n\n   ;; otherwise run the main-go page (nil, car, cdr already defined)\n   '(eval (head \"main-go\"))\n))))")
!10=M294:20/\"main-go\"))\n))))"M130:16/program.\n\n(letM128:4/thisM126:9/overwriteM124:5/to\n;M122:3/useM120:4/thenM118:3/canM116:2/wed114,99:M96:10/languages,M94:6/betterM92:6/for\n;M90:9/compilersM88:7/developM86:2/toM84:2/usM82:5/allowM80:4/willM78:4/thatM76:12/interface\n;M74:4/wikiM72:7/minimalM70:1/aM68:7/provideM66:2/tod64,63:M60:4/roleM58:3/itsM56:11/program.\n;M54:15/(bootstrapping)M52:7/initiald50,45:d42,33:M28:6/-*-\n;M26:4/lispM24:3/-*-M23:33/                                 M22:3/";;d21,0:X
!6=M238:30/analysis\n\n)))))))))))))))\n"M236:4/casei235,70:6/action1/ 1/;1/ 4/))))7/       16/action!\")))\n\n1/ 9/\"unknown1/ 9/stdheader1/ 8/'(string10/          4/\n\n12/            15/it</a>?\"))))\n1/ 13/\"\\\">create1/ 10/fulltarget1/ 17/href=\\\"/edit/\"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 9/\"Perhaps32/                                4/\"\n1/ 7/\"</b>.1/ 10/fulltarget1/ 5/<b>\"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 7/\"There1/ 7/(string24/                        5/'(_\n22/                      9/msg))))\n1/ 2/\"1/ 10/error</b>:1/ 12/\"<b>Runtime1/ 7/(string1/ 5/'(msg1/ 5/prog)1/ M233:1/ M232:8/'(handlei232,2:26/                          13/fulltarget)\nM230:5/(headM228:5/'progM226:5/'(letM224:7/(handlei224,2:14/              12/<hr/><p>\"\nM222:3/...M220:2/\"M218:10/fulltargeti217,30:2/\"1/ 12/\"<p>running14/              13/fulltarget)\n1/ 5/(tabs14/              9/stdpage\n1/ 9/stdheader14/              10/'(string\n12/            10/\"run\")\n1/ 6/action1/ 3/(eq1/ 4/'(if9/         7/loop)\n1/ 8/infinite1/ 2/(=1/ 8/main...?1/ M214:7/againsti213,4:7/protect1/ 3/XXX1/ M211:10/          M210:7/)))\n\ni210,2:13/             3/)\nM208:6/rev)))i208,70:1/ 4/(int1/ 6/target1/ 6/'(read1/ 7/target)1/ 6/'(head1/ 6/\"_\")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 9/stdheader14/              9/(string\n13/             2/\n5/     1/'1/ 12/rev_target))1/ 4/(cdr1/ 4/(car1/ 7/'target1/ 4/(let12/            3/'\n1/ 11/rev_target)1/ 4/(car1/ 4/'rev1/ 4/(let12/            3/'\n1/ 2/0)1/ 10/fulltarget1/ 5/\"/\"1/ 5/token1/ 6/(token1/ 11/'rev_target1/ 5/'(let11/           10/\"raw\")\n1/ 6/action1/ 3/(eq1/ 4/'(ifi207,152:11/instance)\n1/ 3/for1/ 4/CSS,1/ 9/including1/ 3/for1/ 5/(good1/ 14/stuff/escaping1/ 6/excess1/ 2/no1/ 3/but1/ 5/view,1/ 4/like1/ 2/;;7/       20/it</a>?\")))))))\n\n1/ 13/\"\\\">create1/ 6/target1/ 17/href=\\\"/edit/\"1/ 2/<a1/ 2/to1/ 4/like1/ 5/you'd1/ 9/\"Perhaps32/                                4/\"\n1/ 7/\"</b>.1/ 6/target1/ 5/<b>\"1/ 6/called1/ 6/symbol1/ 2/no1/ 2/is1/ 7/\"There1/ 7/(string24/                        5/'(_\n22/                      16/\"</pre>\\n\")\n1/ 7/rev))))1/ 4/(int1/ 6/target1/ 6/'(read1/ 7/target)1/ 6/'(head1/ 6/\"_\")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 11/(htmlescape1/ 12/\"<pre>\\n\"1/ 8/'(string1/ 7/(handle14/              12/<hr/><p>\"\n1/ 3/...1/ 2/\"1/ 5/rev))1/ 2/\"1/ 1/@1/ 2/\"1/ 8/'(string1/ 5/'\"\"1/ 6/\"_\")1/ 3/rev1/ 3/(eq1/ 3/(if1/ 6/target1/ 2/\"1/ 12/\"<p>viewing14/              9/target)\n1/ 5/(tabs14/              9/stdpage\n1/ 9/stdheader14/              9/(string\n13/             2/\n5/     1/'1/ 12/rev_target))1/ 4/(cdr1/ 4/(car1/ 7/'target1/ 4/(let12/            M204:11/rev_target)i203,32:4/(car1/ 4/'rev1/ 4/(let12/            3/'\n1/ 2/0)1/ 10/fulltarget1/ 5/\"/\"1/ 5/token1/ 6/(token1/ 11/'rev_target1/ 5/'(let11/           11/\"view\")\n1/ 6/action1/ 3/(eq1/ 4/'(if7/       18/fulltarget))))\n\n1/ M200:4/\"))i199,4:6/\"</a>1/ 5/args)1/ i198,2:54/                                                      2/\nM196:9/\"\\\">\"M194:10/fulltargetM192:5/\"/\"i191,108:5/args)1/ 4/(car1/ 17/href=\\\"/view/\"1/ 4/\"<a1/ 8/'(string1/ 5/'args1/ 7/(lambda1/ 3/map1/ 4/(map1/ 7/(string14/              15/...<hr/><p>\"\n1/ 2/\"1/ 10/fulltarget1/ 2/\"1/ 3/for1/ 12/\"<p>history14/              13/fulltarget)\n1/ 5/(tabs14/              9/stdpage\n1/ 9/stdheader14/              10/'(string\n12/            14/\"history\")\n1/ 6/action1/ 3/(eq1/ 4/'(if7/       8/save\n\n1/ 6/action1/ 1/;1/ 7/)))))))8/        15/fulltarget)))\n1/ 12/\"/view/_/\"1/ 7/(string1/ 10/'(redirect14/              8/exists\n1/ 8/compiler1/ 1/;1/ 2/))20/                    14/fulltarget))\n1/ 12/\"/view/_/\"1/ 7/(string1/ 9/(redirect20/                    10/inserted\n1/ 2/we1/ 8/revision1/ 3/the1/ 2/to1/ 8/directly1/ 4/jump1/ 6/should1/ 3/XXX1/ 2/;;20/                    3/'\n1/ 4/exe)1/ 4/base1/ i187,68:4/(let15/               12/executable\n1/ 4/save1/ 1/;15/               3/'\n1/ 7/msg))))1/ 2/\"1/ 7/because1/ 6/failed1/ 2/\"52/                                                    12/fulltarget\n1/ 2/\"1/ 2/of1/ 13/\"compilation52/                                                    9/(string\n51/                                                   8/'abort\n51/                                                   7/(list\n50/                                                  8/aborts\n1/ 4/that1/ 7/program1/ 1/a1/ 6/return1/ 1/;50/                                                  4/we\n1/ 4/then1/ 6/fails,1/ 11/compilation1/ 2/if1/ 1/;50/                                                  7/'(msg\n1/ 4/dat)1/ 9/'(compile1/ 7/(handle1/ 4/'exe1/ M185:15/               M184:9/compile\nM182:3/(ifi182,2:13/             3/'\nM180:4/dat)M178:10/fulltargetM176:7/(insertM174:2/'_M172:4/(leti172,2:12/            8/source\nM170:4/saveM168:1/;i168,2:12/            3/'\ni167,60:5/nil))1/ 3/'(_1/ 15/\":compile\")))1/ 3/ext1/ 7/(string1/ 5/(head1/ 6/'(eval1/ 7/(handle1/ 8/'compile1/ 5/'(let9/         5/any\n1/ 2/if1/ 9/compiler,1/ 3/the1/ 8/closure)1/ 1/a1/ 7/produce1/ 2/to1/ 3/run1/ 4/(and1/ 3/get1/ 1/;9/         11/prog.b.w)\n1/ 3/eg.2/  13/recursively??1/ 4/this1/ 2/do1/ 6/(might1/ 2/;;9/         9/version\n1/ i165,4:3/and1/ 6/source1/ M162:6/savingM160:8/compile,i159,44:6/should1/ 2/we1/ 9/otherwise1/ 2/;;9/         17/fulltarget)))\n\n1/ 12/\"/view/_/\"1/ 7/(string1/ 9/(redirect17/                 10/revision\n1/ 4/goto1/ 3/XXX1/ 2/;;17/                 3/'\n1/ 4/dat)1/ 10/fulltarget1/ 7/(insert1/ 2/'_1/ 5/'(let11/           7/save.\n1/ 4/just1/ 2/;;11/           6/case\n1/ M156:2/inM154:5/name.M152:6/entireM150:3/thei149,300:5/holds1/ 3/ext1/ 4/then1/ 1/.1/ 2/no1/ 3/was1/ 5/there1/ 2/if1/ 2/;;11/           7/\"\")\n1/ 4/base1/ 3/(eq1/ 3/(if7/       5/'\n\n1/ 13/form.contents1/ 4/'dat1/ 4/(let7/       3/'\n1/ 10/base_ext))1/ 4/(cdr1/ 4/(car1/ 4/'ext1/ 4/(let7/       3/'\n1/ 9/base_ext)1/ 4/(car1/ 5/'base1/ 4/(let7/       3/'\n1/ 3/1))1/ 11/fulltarget)1/ 5/(size1/ 2/(-1/ 10/fulltarget1/ 5/\".\"1/ 6/rtoken1/ 7/(rtoken1/ 9/'base_ext1/ 5/'(let6/      12/extension.\n1/ 3/the1/ 2/on1/ 5/based1/ 8/language1/ 3/the1/ 3/out1/ 6/figure1/ 1/;7/       2/\n1/ 10/compile...1/ 2/to1/ 4/need1/ 5/might1/ 1/;7/       11/\"save\")\n1/ 6/action1/ 3/(eq1/ 4/'(if4/    34/value=\\\"save\\\"></form>\"))\n\n1/ 11/type=submit1/ 8/\"<input15/               20/\"</textarea>\\n\"\n15/               10/data)\")\n1/ 12/'\"(internal19/                   12/symbol)\")\n1/ 6/\"(was1/ 3/'(_19/                   8/\")\")\n1/ 11/oldcontents1/ 2/\"1/ 3/int1/ 6/\"(was1/ 8/'(string19/                   14/oldcontents)\n1/ 12/'(htmlescape19/                   10/data)\")\n1/ 6/quoted1/ 6/\"(was1/ 3/'(_19/                   10/data)\")\n1/ 4/list1/ 6/\"(was1/ 1/_1/ 3/'(_19/                   7/'\"\"\n19/                   13/oldcontents\n1/ 6/(xcase15/               26/name=\\\"contents\\\">\"\n1/ 8/cols=1201/ 7/rows=351/ 16/\"\\\"><textarea1/ 10/fulltarget1/ 19/action=\\\"/save/\"1/ 19/method=\\\"post\\\"1/ 7/\"<form15/               16/deleted.</b>\"\n1/ 2/be1/ 4/will1/ 2/It1/ 11/permission.1/ 7/without1/ 8/websites1/ 5/other1/ 4/from1/ 4/text1/ 4/copy1/ 3/not1/ 12/\"<br/><b>Do15/               6/\"))\n1/ 3/...1/ 2/\"1/ 10/fulltarget1/ 2/\"1/ 4/page1/ 3/new1/ 10/\"creating1/ 8/'(string19/                   5/\")\n1/ 3/...1/ 2/\"1/ 10/fulltarget1/ 2/\"1/ 9/\"editing1/ 8/'(string19/                   13/oldcontents\n1/ 3/(if15/               9/\"<p>\"\n1/ 11/fulltarget)1/ 5/(tabs16/                9/stdpage\n1/ 9/stdheader1/ 7/(string8/        3/'\n1/ 5/nil))1/ 3/'(_1/ 11/fulltarget)1/ 6/'(head1/ 7/(handle1/ 12/'oldcontents1/ 5/'(let6/      10/textarea\n1/ 3/the1/ 2/in1/ 2/it1/ 3/put1/ 3/and1/ 2/;;6/      6/page\n1/ 4/this1/ 3/for1/ M146:6/sourceM144:3/theM142:5/fetchi141,716:2/to1/ 4/need1/ 2/;;6/      11/\"edit\")\n1/ 6/action1/ 3/(eq1/ 3/(if2/  5/'\n\n1/ 13/\"</div>\")))27/                           4/\"\n1/ 21/\"\\\">run</a></span>1/ 4/page1/ 16/href=\\\"/run/\"1/ 20/class=\\\"tab\\\"><a1/ 7/\"<span27/                           4/\"\n1/ 25/\"\\\">history</a></span>1/ 4/page1/ 20/href=\\\"/history/\"1/ 20/class=\\\"tab\\\"><a1/ 7/\"<span27/                           4/\"\n1/ 22/\"\\\">edit</a></span>1/ 4/page1/ 17/href=\\\"/edit/\"1/ 20/class=\\\"tab\\\"><a1/ 7/\"<span27/                           4/\"\n1/ 22/\"\\\">view</a></span>1/ 4/page1/ 19/href=\\\"/view/_/\"1/ 20/class=\\\"tab\\\"><a1/ 7/\"<span27/                           23/class=\\\"tabs\\\">\"\n1/ 6/\"<div1/ 7/(string19/                   6/tabs\n1/ 4/make1/ 3/XXX1/ 1/;19/                   3/'\n1/ 5/args)1/ 4/(car1/ 5/'page1/ 5/'(let13/             7/'args\n1/ 7/(lambda1/ 5/'tabs1/ 6/\n(let2/  3/'\n1/ 15/action_target))1/ 4/(cdr1/ 4/(car1/ 11/'fulltarget1/ 7/'\n(let1/ 14/action_target)1/ 4/(car1/ 7/'action1/ 7/'\n(let1/ 2/0)1/ 3/url1/ 5/\"/\"1/ 5/token1/ 6/(token1/ 14/'action_target1/ 7/'\n(let1/ 4/0)))1/ 11/request.url1/ 5/\"/\"1/ 5/token1/ 6/(token1/ 4/(cdr1/ 4/(car1/ 4/'url1/ 11/char)\n(let1/ 1//1/ 8/starting1/ 3/the1/ 3/off1/ 5/(toss1/ 1/;2/  5/URL\n1/ 3/the1/ 2/on1/ 5/based1/ 5/doing1/ 5/we're1/ 4/what1/ 3/out1/ 6/figure1/ 1/;2/  5/'\n\n1/ 7/0))))))1/ 4/hrec1/ 5/(hrec1/ 6/string1/ 5/(cons1/ 6/'(eval15/               11/1))))))))\n1/ 1/n1/ 2/(+1/ 4/self1/ 5/(self46/                                              8/'ch)))\n54/                                                      12/'\"&amp;\"\n56/                                                        8/\"&\")\n1/ 2/ch1/ 3/(eq1/ 4/'(if51/                                                   11/'\"&gt;\"\n53/                                                     8/\">\")\n1/ 2/ch1/ 3/(eq1/ 4/'(if48/                                                11/'\"&lt;\"\n50/                                                  8/\"<\")\n1/ 2/ch1/ 3/(eq1/ 3/(if46/                                              8/'(cons\n44/                                            4/n)\n1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let38/                                      6/'nil\n40/                                        5/s))\n1/ 5/(size1/ 1/n1/ 3/(eq1/ 4/'(if35/                                   8/args))\n1/ 4/(cdr1/ 4/(car1/ 2/'n1/ 5/'(let29/                             7/args)\n1/ 4/(car1/ 5/'self1/ 5/'(let23/                       7/'args\n1/ 7/(lambda1/ 5/'hrec1/ 5/'(let9/         8/hargs)\n1/ 4/(car1/ 2/'s1/ 5/'(let4/    8/'hargs\n1/ 7/(lambda2/  6/PERF\n1/ 1/;2/  13/'htmlescape\n1/ 9/'\n\n(let1/ 7/)))))))37/                                     6/1)))\n1/ 1/n1/ 2/(-1/ 1/s1/ 3/sep1/ 4/self1/ 6/'(self42/                                          7/1))))\n1/ 1/n1/ 2/(+1/ 2/s)1/ 5/(size1/ 2/(-1/ 2/1)1/ 1/n1/ 2/(+1/ 1/s1/ 7/(substr1/ 2/n)1/ 1/01/ 1/s1/ 7/(substr1/ 6/'(list42/                                          6/sep)\n1/ 2/ch1/ 3/(eq1/ 4/'(if37/                                     4/n)\n1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let31/                               4/s)\n1/ 4/\"\"1/ 6/'(list1/ 3/1))1/ 1/01/ 2/(-1/ 1/n1/ 3/(eq1/ 4/'(if28/                            10/args))))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'n1/ 5/'(let22/                      9/args)))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'s1/ 5/'(let16/                8/args))\n1/ 4/(cdr1/ 4/(car1/ 4/'sep1/ 5/'(let10/          7/args)\n1/ 4/(car1/ 5/'self1/ 5/'(let4/    7/'args\n1/ 7/(lambda2/  9/'rtoken\n1/ 6/\n(let21/                     8/instance1/ 4/last1/ 3/but1/ 5/same,1/ 6/'\n\n;1/ 7/)))))))37/                                     6/1)))\n1/ 1/n1/ 2/(+1/ 1/s1/ 3/sep1/ 4/self1/ 6/'(self42/                                          7/1))))\n1/ 1/n1/ 2/(+1/ 2/s)1/ 5/(size1/ 2/(-1/ 2/1)1/ 1/n1/ 2/(+1/ 1/s1/ 7/(substr1/ 2/n)1/ 1/01/ 1/s1/ 7/(substr1/ 6/'(list42/                                          6/sep)\n1/ 2/ch1/ 3/(eq1/ 4/'(if37/                                     4/n)\n1/ 1/s1/ 4/(sub1/ 3/'ch1/ 5/'(let31/                               7/\"\")\n1/ 1/s1/ 6/'(list1/ 3/s))1/ 5/(size1/ 1/n1/ 3/(eq1/ 4/'(if28/                            10/args))))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'n1/ 5/'(let22/                      9/args)))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'s1/ 5/'(let16/                8/args))\n1/ 4/(cdr1/ 4/(car1/ 4/'sep1/ 5/'(let10/          7/args)\n1/ 4/(car1/ 5/'self1/ 5/'(let4/    7/'args\n1/ 7/(lambda2/  8/'token\n1/ 11/given\n(let1/ 4/char1/ 3/the1/ 2/of1/ 8/instance1/ 5/first1/ 3/the1/ 2/to1/ 2/up1/ 4/chop1/ 6/'\n\n;1/ 9/'nil)))))25/                         6/l)))\n1/ 4/(cdr1/ 1/f1/ 4/self1/ 5/(self1/ 3/l))1/ 4/(car1/ 2/(f1/ 6/'(cons27/                           3/l\n1/ 4/'(if22/                      9/args)))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'l1/ 5/'(let16/                8/args))\n1/ 4/(cdr1/ 4/(car1/ 2/'f1/ 5/'(let10/          7/args)\n1/ 4/(car1/ 5/'self1/ 5/'(let4/    7/'args\n1/ 7/(lambda2/  2/\n1/ 4/'map1/ 11/'\n\n\n(let1/ 18/\"\\r\\n\\r\\n\"))1/ 7/target)1/ 4/(car1/ 2/\"1/ 11/\"Location:1/ 8/'(string1/ 7/'target1/ 7/(lambda1/ 9/'redirect1/ 7/'\n(let1/ 42/title=\\\"polybook\\\"/></head><body>\\n\"1/ 32/href=\\\"/raw/_/polybook.css\\\"1/ 21/type=\\\"text/css\\\"1/ 14/rel=stylesheet1/ 19/\"<html><head><link1/ 8/'stdpage1/ 7/'\n(let1/ 27/charset=utf-8\\r\\n\\r\\n\"1/ 10/text/html;1/ 15/\"Content-Type:1/ 10/'stdheader1/ 7/'\n(let1/ X
!3=M708:10/char\n(letX

page%3Acompile 451 5217/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sat, 10 Mar 2007 11:23:00 EST") ("source" "page:compile.w") ("summary" "use lets")) '(let 'car (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "car nil") '(h _ h))))) '(let 'cdr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "cdr nil") '(_ t t))))) '(let 'map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l ''() '(h t (cons (f h) (self self f t))))))))))) '(let 'map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (map map f l)))))) '(let 'foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(b fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l 'b '(h t (f h (self self f b t))))))))))))) '(let 'foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(b fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (foldr foldr f b l)))))))) '(let '@ (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(l1 fnarg_ (xcase fnarg_ 'noarg '(l2 fnarg_ (xcase l1 'l2 '(h t (cons h (self self t l2))))))))))) '(let '@ (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l1 fnarg_ (xcase fnarg_ 'noarg '(l2 fnarg_ (@ @ l1 l2)))))) '(let 'linkup (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (xcase fnarg_ 'noarg '(text fnarg_ (let 'exists (handle '(let '_ (head s) '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/" s "\">" text "</a>"))))))) '(lambda 'fnarg_ '(xcase fnarg_ 'noarg '(source fnarg_ (let 'gettoken (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (if (eq (size s) 0) '(list "" "") '(if (eq (size s) 1) '(list s "") '(if (eq (substr s 0 2) "[[") '(list "[[" (substr s 2 (- (size s) 2))) '(if (eq (substr s 0 2) "]]") '(list "]]" (substr s 2 (- (size s) 2))) '(if (eq (substr s 0 1) "|") '(list "|" (substr s 1 (- (size s) 1))) '(if (eq (substr s 0 2) "\n\n") '(list "\n\n" (substr s 2 (- (size s) 2))) '(let 'eatrec (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(eatrec fnarg_ (xcase fnarg_ 'noarg '(n fnarg_ (let 'eat (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(n fnarg_ (eatrec eatrec n)))) '(if (eq n (- (size s) 1)) '(list s "") '(let 'ch (sub s n) '(if (eq ch "[") '(list (substr s 0 n) (substr s n (- (size s) n))) '(if (eq ch "]") '(list (substr s 0 n) (substr s n (- (size s) n))) '(if (eq ch "\n") '(list (substr s 0 n) (substr s n (- (size s) n))) '(if (eq ch "|") '(list (substr s 0 n) (substr s n (- (size s) n))) '(eat (+ n 1)))))))))))))) '(let 'eat (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(n fnarg_ (eatrec eatrec n)))) '(eat 1)))))))))))) '(let 'quoted-linkup (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (xcase fnarg_ 'noarg '(text fnarg_ (list (parse "let") (quote (parse "exists")) (list (parse "handle") (quote (list (parse "let") (quote (parse "_")) (list (parse "head") s) (quote 1))) (quote (list (parse "_") (quote '())))) (quote (list (parse "string") "<a class=\"" (list (parse "if") (parse "exists") (quote "blue") (quote "red")) (string "\" href=\"/run/" s "\">" text "</a>"))))))))) '(let 'regularrec (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(regularrec fnarg_ (xcase fnarg_ 'noarg '(linkrec fnarg_ (xcase fnarg_ 'noarg '(s fnarg_ (let 'regular (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (regularrec regularrec linkrec s)))) '(let 'link (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (linkrec regularrec linkrec s)))) '(let 'letsval (gettoken s) '(xcase letsval 'lets-nil '(t letsval (xcase letsval 'lets-nil '(r letsval (let '_ letsval '(if (eq t "") ''() '(if (eq t "[[") '(link r) '(if (eq t "\n\n") '(cons "<br/><br/>" (regular r)) '(if (eq t "]]") '(abort "bad syntax: saw ]]") '(cons t (regular r))))))))))))))))))))) '(let 'linkrec (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(regularrec fnarg_ (xcase fnarg_ 'noarg '(linkrec fnarg_ (xcase fnarg_ 'noarg '(s fnarg_ (let 'regular (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (regularrec regularrec linkrec s)))) '(let 'link (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (linkrec regularrec linkrec s)))) '(let 'letsval (gettoken s) '(xcase letsval 'lets-nil '(t letsval (xcase letsval 'lets-nil '(r0 letsval (let '_ letsval '(let 'letsval (gettoken r0) '(xcase letsval 'lets-nil '(t2 letsval (xcase letsval 'lets-nil '(r letsval (let '_ letsval '(if (eq t2 "") '(abort "unterminated link") '(if (eq t "]]") '(abort "empty link?") '(if (eq t2 "]]") '(cons (quoted-linkup t t) (regular r)) '(if (eq t2 "|") '(let 'letsval (gettoken r) '(xcase letsval 'lets-nil '(t3 letsval (xcase letsval 'lets-nil '(r3 letsval (let '_ letsval '(let 'letsval (gettoken r3) '(xcase letsval 'lets-nil '(t4 letsval (xcase letsval 'lets-nil '(r4 letsval (let '_ letsval '(if (eq t4 "") '(abort "unterminated pipe link") '(if (eq t4 "]]") '(cons (quoted-linkup t t3) (regular r4)) '(abort "expected | token ]]"))))))))))))))) '(abort "expected token then ]] or |")))))))))))))))))))))))))) '(let 'regular (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (regularrec regularrec linkrec s)))) '(let 'link (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (linkrec regularrec linkrec s)))) '(cons (parse "string") (regular source)))))))))))))))))))))
!449=M1582:21/|")))))))))))))))))))M1568:12/]]")))))))))M1522:5/tr4))M1520:4/(cdrM1518:4/(carM1516:3/'r4M1514:5/'(letM1512:4/tr4)M1510:4/(carM1508:3/'t4M1506:5/'(letd1504,1497:M1492:4/'tr4M1488:5/tr3))M1486:4/(cdrM1484:4/(carM1482:3/'r3M1480:5/'(letM1478:4/tr3)M1476:4/(carM1474:3/'t3M1472:5/'(letd1470,1463:M1458:4/'tr3M1398:5/tr2))M1396:4/(cdrM1394:4/(carM1392:2/'rM1390:5/'(letM1388:4/tr2)M1386:4/(carM1384:3/'t2M1382:5/'(letM1380:5/tr)))M1378:4/(cdrM1376:4/(card1374,1371:M1368:4/'tr2M1364:3/tr)M1362:4/(carM1360:2/'tM1358:5/'(letd1356,1339:M1334:3/'trM18:8/11:18:00X
!426=M1240:19/r))))))))))))))))))M1176:4/tr))M1174:4/(cdrM1172:4/(carM1170:2/'rM1168:5/'(letM1166:3/tr)M1164:4/(carM1162:2/'tM1160:5/'(letd1158,1151:M1146:3/'trM30:6/now"))i29,10:9/recursion1/ 6/mutual1/ 9/implement1/ 2/to1/ 3/fun1/ M18:8/17:10:47M12:2/09M10:5/"Fri,X
!382=M1608:20/source))))))))))))))M1606:8/(processM1598:9/str))))))M1596:4/linkM1594:7/regularM1592:9/'(regularM1590:19/|")))))))))))))))))d1588,1545:i1521,4:4/link1/ 7/regular1/ i1425,4:4/link1/ 7/regular1/ d1334,1283:M1268:6/'(linkM1258:9/'(regularM1246:5/'linkM1242:17/r))))))))))))))))i1241,4:4/link1/ 7/regular1/ i1215,4:4/link1/ 7/regular1/ i1199,4:4/link1/ 7/regular1/ M1154:4/(letd1152,1145:M1136:6/(xcaseM1134:6/fnarg_M1132:6/'(linkM1130:6/'noargM1128:6/fnarg_M1126:6/(xcased1124,1119:M1116:9/'(regularM1098:5/'(strd1092,1073:M1066:8/'processM934:12/1)))))))))))i933,2:3/eat1/ M930:14/1)))))))))))))d928,905:M900:4/selfi899,2:6/'(self1/ M742:3/(ifd740,735:d726,709:M704:6/'(selfM692:4/'eatd422,207:M40:8/pipe!"))M38:4/withM36:4/charM34:4/nextM32:3/eatM30:6/"don'td28,27:M18:8/09:15:50M12:2/08M10:5/"Thu,M6:12/"127.0.0.1")X
!378=M438:4/2)))M430:1/2M38:9/syntax"))M36:4/linkM34:5/"piped32,27:M18:8/09:14:34X
!376=M1212:19/]]"))))))))))))))))d1210,1207:d1198,1089:M32:8/token"))M30:4/"bard28,27:M18:8/09:02:27X
!348=M664:11/1))))))))))M658:13/1))))))))))))d624,593:d416,385:M30:18/"page:compile.w"))d28,23:M18:8/15:16:46M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!332=M714:8/href=\""M264:4/x)))d262,219:M216:3/'(xd210,201:M18:8/14:49:51X
!328=M826:16/r)))))))))))))))d796,777:M534:12/1)))))))))))d500,469:M18:8/14:47:16X
!326=M508:10/1)))))))))d356,325:M18:8/14:45:42X
!322=M18:8/14:44:16X
!287=M906:19/source)))))))))))))M868:7/(linkupd866,865:M604:11/"</a>")))))M602:1/sM592:7/'"red")M590:7/'"blue"M588:6/existsM586:3/(ifd584,573:M568:8/'(stringM566:5/'()))M564:3/'(_M562:3/'1)d560,545:M542:5/(headM540:2/'_M538:5/'(letM536:7/(handleM534:7/'existsM532:4/(letd530,505:d502,493:M480:7/'linkupd210,191:M18:8/10:20:32X
!285=M520:10/"</a>"))))M516:19/href=\"XXX-LINK\">"d514,499:M496:7/(stringd494,475:M18:8/10:17:17X
!281=M592:3/r))M586:5/(linki585,4:1/t1/ 6/'(cons1/ M18:8/10:16:30X
!277=M788:20/source))))))))))))))M780:5/(consi779,2:6/'(list1/ M18:8/10:15:21X
!273=M780:7/'(quoteM18:8/10:13:03X
!270=M790:25/"unimplemented!")))))))))M788:7/'(abortd786,779:d192,161:M158:8/"stdlib"M156:8/'(importd154,25:M18:8/10:11:33X
!267=M620:17/source)))))))))))M618:8/(processi617,8:9/"string")1/ 6/(parse1/ 5/(cons1/ 7/'(quote1/ M18:8/10:08:00X
!263=M628:16/source))))))))))M616:19/"unimplemented"))))M614:6/(abortd612,503:d494,475:d468,327:d322,295:M18:8/00:10:57M6:16/"24.131.65.110")X
!260=d328,317:M314:7/'(abortd312,295:d42,29:M18:8/18:26:58M12:2/01M10:5/"Thu,M6:16/"128.2.203.136")X

page%3Acompile.w 450 4187/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sat, 10 Mar 2007 11:23:00 EST") ("summary" "use lets")) '";; this compiles the \"page\" wiki syntax\n\n;; right now we support links like [[hello]] to link to the page hello.\n;; we could add {{hello}} to run a page, including with arguments like {{hello|what=world}}\n\n;; the input is a string. The first thing to do is to tokenize it.\n\n(include \"stdlib\"\n(fn (source)\n ;; returns a pair: the first token we see, and the remainder of the string.\n ;; if the first token is the empty string, then there are no more tokens.\n(let gettoken\n   (fn (s)\n     (if (eq (size s) 0) (list \"\" \"\") ; empty string\n      ;; xx could use > operator!\n      (if (eq (size s) 1) (list s \"\") ;; can't be [[ or ]]\n      (if (eq (substr s 0 2) \"[[\") (list \"[[\" (substr s 2 (- (size s) 2)))\n      (if (eq (substr s 0 2) \"]]\") (list \"]]\" (substr s 2 (- (size s) 2)))\n      (if (eq (substr s 0 1) \"|\")  (list \"|\"  (substr s 1 (- (size s) 1)))\n      (if (eq (substr s 0 2) \"\\n\\n\") (list \"\\n\\n\" (substr s 2 (- (size s) 2)))\n      ;; eat until next delimiter char\n      (fun eat (n)\n         (if (eq n (- (size s) 1)) (list s \"\") ;; no more brackets\n           (let ch (sub s n)\n                (if (eq ch \"[\") (list (substr s 0 n) (substr s n (- (size s) n)))\n                  (if (eq ch \"]\") (list (substr s 0 n) (substr s n (- (size s) n)))\n                    (if (eq ch \"\\n\") (list (substr s 0 n) (substr s n (- (size s) n)))\n                      (if (eq ch \"|\") (list (substr s 0 n) (substr s n (- (size s) n)))\n                        (eat (+ n 1))))))))\n        ; since it didn't start with [[ or ]] we know that\n        ; at least one character will be part of the non-bracket token\n        (eat 1))\n\n      )))))))\n\n;; meant to mimic the stdlib linkup function, but generates\n;; code that runs at page-execute time, so that the redlinking is\n;; up to date.\n;; PERF: because a page can never go blue to red, we only have to\n;; do this test if the link is currently red.\n(let quoted-linkup\n  (fn (s text)\n    ; we are at /run/ url, so stay in that same \"directory\"\n    ; PERF: is 'history' cheaper?\n    (list\n      ; (let exists (handle (let _ (head s) 1) (_ nil))\n      (parse \"let\")\n      (quote (parse \"exists\"))\n      (list (parse \"handle\") \n            (quote (list (parse \"let\") (quote (parse \"_\")) (list (parse \"head\") s) (quote 1)))\n            (quote (list (parse \"_\") (quote nil))))\n      ; (string \"<a class=\\\"\" (if exists \"blue\" \"red\") \"\\\" href=\\\"\" s \"\\\">\" s \"</a>\")\n      (quote\n       (list (parse \"string\")\n             \"<a class=\\\"\"\n             (list (parse \"if\") (parse \"exists\") (quote \"blue\") (quote \"red\"))\n             (string \"\\\" href=\\\"/run/\" s \"\\\">\" text \"</a>\")))\n      )\n    )\n\n  ;; return a list of string-generating XESPs\n  ;; out of link\n(fun regular (s)\n    (lets (t r _) (gettoken s)\n      (if (eq t \"\") nil\n      (if (eq t \"[[\") (link r)\n      (if (eq t \"\\n\\n\") (cons \"<br/><br/>\" (regular r))\n      (if (eq t \"]]\") (abort \"bad syntax: saw ]]\")\n        (cons t (regular r))\n       ))))\n     ) ; end regular\n\n link (s)\n    (lets (t r0 _) (gettoken s)\n    (lets (t2 r _) (gettoken r0)\n      (if (eq t2 \"\") (abort \"unterminated link\")\n      (if (eq t \"]]\") (abort \"empty link?\")\n      (if (eq t2 \"]]\") (cons (quoted-linkup t t) (regular r))\n        (if (eq t2 \"|\")\n          (lets (t3 r3 _) (gettoken r)\n          (lets (t4 r4 _) (gettoken r3)\n            ;; linkdest | linktext ]]\n            ;;    t     t2  t3     t4\n            (if (eq t4 \"\") (abort \"unterminated pipe link\")\n            (if (eq t4 \"]]\") (cons (quoted-linkup t t3) (regular r4))\n            (abort \"expected | token ]]\")\n            ))\n           ))\n          (abort \"expected token then ]] or |\"))\n       )))\n     )) ; end link\n    \n ;; the program ultimately computes a string;\n ;; it is a big XESP of the form (string ... ... ..)\n  (cons (parse \"string\")\n   ;; and start in regular mode\n   (regular source))\n\n)))))\n")
!448=M1224:5/)))))M1206:8/))))))\ni1137,18:7/tr4))\n1/ 4/(cdr1/ 4/(car1/ 2/r41/ 4/(let10/          6/tr4)\n1/ 4/(car1/ 2/t41/ 4/(let10/          M1132:3/tr4M1130:4/(leti1130,2:10/          7/tr3))\nM1128:4/(cdrM1126:4/(cari1126,4:1/ 2/r31/ 4/(leti1125,8:6/tr3)\n1/ 4/(car1/ 2/t31/ 4/(let10/          M1120:3/tr3M1118:4/(letd1117,1114:M1056:7/tr2))\ni1055,22:4/(cdr1/ 4/(car1/ 1/r1/ 4/(let4/    6/tr2)\n1/ 4/(car1/ 2/t21/ 4/(let4/    7/tr)))\n1/ 4/(cdr1/ 4/(car1/ M1052:3/tr2M1050:4/(leti1050,2:4/    5/tr)\nM1048:4/(carM1046:1/ti1046,2:1/ 4/(letM1040:2/trM1038:4/(letd1037,1034:M18:8/11:18:00X
!425=M1022:3/)))i955,18:6/tr))\n1/ 4/(cdr1/ 4/(car1/ 1/r1/ 4/(let4/    5/tr)\n1/ 4/(car1/ 1/t1/ 4/(let4/    M950:2/trM948:4/(letd947,944:M26:6/now"))i25,10:9/recursion1/ 6/mutual1/ 9/implement1/ 2/to1/ 3/fun1/ M18:8/17:10:47M12:2/09M10:5/"Fri,X
!381=M1368:30/\"unimplemented!\")\n\n)))))")M1366:6/(abortM1365:2/  M1364:11/source))\n;M1362:8/(processd1361,1354:i1306,14:1/ 2/\n5/     4/fn\n1/ 1/;1/ 1/)3/   6/lets\n1/ 1/;1/ 2/))M1304:6/str)\nM1302:4/linkM1300:7/regularM1298:8/(regulari1298,12:4/    14/regular/link\n1/ 3/let1/ 2/of1/ 4/body1/ 2/;;4/    8/))))))\ni1265,4:4/link1/ 7/regular1/ i1149,4:4/link1/ 7/regular1/ M1056:4/s)\nM1052:8/(regularM1050:3/(fnM1049:4/    M1048:6/link\nM1046:4/(leti1046,2:3/   6/))))\ni1041,4:4/link1/ 7/regular1/ i1015,4:4/link1/ 7/regular1/ i999,4:4/link1/ 7/regular1/ M952:4/s)\nM950:4/linkM948:8/(regulari947,8:3/(fn4/    9/regular\n1/ 4/(let3/   6/link\n1/ M940:7/(str)\ni939,6:3/(fn2/  9/process\n1/ 11/XESPs\n(let1/ M632:3/eatM631:1/ M630:13/token\n\t(eatM608:9/that\n\t;d607,606:M584:15/1)))))))))\n\t;d583,582:M576:4/selfM575:1/ i575,4:5/(self11/           4/\t\t2/  M543:25/                         M511:7/       i511,2:4/\t\t2/  M479:5/     M478:10/n)))\n\t\tM447:3/   M446:8/n)\n\t\tM437:6/      M436:12/brackets\n\tM409:4/    M408:6/n)\n\tM406:5/(selfM404:10/eat\n\t(fni404,2:1/ 4/(letM36:8/pipe!"))M34:4/withM32:4/charM30:4/nextM28:3/eatM26:6/"don'td24,23:M18:8/09:15:50M12:2/08M10:5/"Thu,M6:12/"127.0.0.1")X
!377=M356:6/2)))\nM348:1/2M34:9/syntax"))M32:4/linkM30:5/"piped28,23:M18:8/09:14:34X
!375=M1326:7/]]\")\nd1324,1321:d1313,1180:M28:8/token"))M26:4/"bard24,23:M18:8/09:02:27X
!347=M630:12/))))))\n\n;;M580:14/1))))))))\n\t;M571:9/         M570:10/n)))\n\t\td569,568:d544,513:d335,334:d332,303:M26:6/EST"))M24:8/15:16:46d22,17:M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!331=M836:11/href=\\\"\"M18:8/14:49:51X
!327=M992:5/)))\nd960,941:M508:13/1)))))))\n\t;M499:7/       d474,441:M18:8/14:47:16X
!325=M524:11/)))))\n\n;;M354:9/bracket\nd352,351:d328,297:M18:8/14:45:42X
!321=M582:11/date.\n(letd580,555:d552,533:M18:8/14:44:16X
!303=M18:8/14:21:47X
!286=M960:7/(linkupd958,957:M733:3/   M731:4/    d730,687:M661:5/     d660,603:d583,580:M544:5/(s)\nd542,541:M538:8/linkup\nM536:13/)))))\n\n(letd535,490:M18:8/10:20:32X
!284=d578,577:M572:24/href=\\\"XXX-LINK\\\">\"d570,555:d551,532:d530,497:M18:8/10:17:17X
!280=M600:5/r))\ni593,4:1/t1/ 5/(cons1/ M18:8/10:16:30X
!276=M848:31/\"unimplemented!\")\n\n))))))")M841:2/  i835,2:7/(list\n1/ M18:8/10:15:21X
!272=M836:8/(quote\nM18:8/10:13:03X
!269=M846:10/source))\nM842:14/\"string\")\n;M836:9/(quote\n;M834:6/..)\n;M114:14/it.\n\n(importM18:8/10:11:33X
!266=M850:20/source))\n\n))))))")d848,845:M842:13/\"string\")\nM836:8/(quote\nM834:5/..)\nM18:8/10:08:00X
!265=M502:22/href=\\\"XXX-LINK\\\">M18:8/10:07:49X
!264=M846:19/source))\n\n)))))")d791,790:M788:19/\"unimplemented\"))d786,749:d747,688:d686,635:M622:8/]]\"))\nd584,575:M508:9/)))))\n\nd507,490:M18:8/09:07:17M6:16/"151.201.246.4")X
!262=M606:5/(s)\nd604,525:d523,512:d510,507:M504:13/)))))\n\n(letd503,490:M18:8/00:10:57M6:16/"24.131.65.110")X
!261=M556:18/source))\n\n))))")M18:8/00:10:42X
!259=M556:24/\"unimplemented\")\n))")d554,499:d497,496:M494:9/)))))\n\nd493,490:M118:14/\"stdlib\"\n\nd116,115:M18:8/18:26:58M12:2/01M10:5/"Thu,M6:16/"128.2.203.136")X
!258=M492:23/\"unimplemented\")\n)")M18:8/18:26:30X

polybook.css 374 5892/(let '__metadata '(("ip" "127.0.0.1") ("time" "Wed, 07 Mar 2007 16:56:41 EST") ("summary" "smaller font in sidebar")) '"       .tabs { border-bottom : 1px solid #000000 ; padding-left : 8px ; }\n       .tab { font : 12px Verdana,Arial,Helvetica ; padding : 2px 4px 1px 4px ; margin-left : 2px ; margin-right : 6px ; border-top : 1px solid #333333 ; border-left : 1px solid #111111 ; border-right : 1px solid #000000 ; background: #FFFFFF ;}\n\n       A:link { color: #4444DD }\n       A:visited { color: #9999FF }\n       A:active { color: #DDDD44 }\n\n       A.red:link { color : #DD4444 }\n       A.red:visited { color : #DD4444 }\n       A.red:active { color : #FF2222 }\n\n       BODY { font : 12px Verdana,Arial,Helvetica ; }\n       P { font : 12px Verdana,Arial,Helvetica ; }\n\n       div.sidebar { border : 1px solid #BBBBBB ; margin-top : 48px ; margin-left : 2px ;\n                     padding : 4px ; font-size : 10px }\n\n       textarea.contents { width : 90% ; margin-right : auto ; }\n       input.summary { width : 70% ; }\n\n       div.message { width : 80% ; padding : 1em 2em 1em 2em ; margin : 1em ; \n                     border : 2px solid #BBBB99 ; background : #FFFFDD ;\n                     font : 16px Verdana,Arial,Helvetica ; \n       }\n\n       .warnimage {\n          background-repeat:no-repeat;\n          padding-left : 48px;\n          padding-top : 40px;\n          display:block;\n          background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAoCAYAAAC4h3lxAAAAB3RJTUUH1gcXBBkFmz4T7wAAAAZiS0dEAP8A/wD/oL2nkwAACRNJREFUWMPNmHtwXGUZxn/ntrvZJLvZ3Wwum7RJk01zWZY0CUkT0rQhUHrByGXKiDAKtKXIiKIIWgcUHKgg4h9QRGcUZpxxHIeCdcAWKYOoDJWpBRmqyFBKCyVpS5vm0jTdyznf5x+bnN3NpgiUlJyZd853zvkuz/O+z/t+3xyYxevPUP4clMzmGupsTfw8bNZgUIXDW+FhQJuNdbRZAn818JPwJRfgra5QJt49uLgZBnbAa3OewHbwaPCMv762oPKyfvJrajixbz95I6OtB+HJ92F0TkvIgHs1p6Ns/vKlFFz8RQqW91O9shdD1yuugztTXeZoBJ6HFuBX85e2q6WXXY5eFUbRDXQEycGDJD84HA3AS7tg/5yLwN2puR51lxRrwZ5uHK3dIATE4zgbFhFa2o2ryOM4H34MFM45AktgvaIonQsu6sbTtwqkhHjcNk9zO3XLFuOCxZtgA6DMGQlth6ACW4ujDe7Qpf04z21Pg4/FIB5H1R2o8QlODAxgDI+2HIOtB+D4nIiAAfdrea7AvAt7cC9bmQY+CX7KChdGCS9pxzCM4Bq4G3B87hHYAd0CHl7Q16WUXno5WqA0B/iUKaaJbllYJ0cZHzxyTins2g17P7cIvAi6gJ8XhEqV4JLzMeqiafBCQFsbdHSAZdkk8opDzIs0ku/zqm2wqQiKPrcIXA23SFW9tvGKlfhXX4GiGWmPh8NQXg75+amE3r/fJudQdRy6xaF33y+rh1N/hZcAeVYJPAMVwJPlrRFnxaqVOGoa0+Dz8iAa5dDhwwA4KyrgrbdgZCSV0BLUZIzx8ROI4bGWJDz9Dhw9qxLS4Gd6QX7hvGXduFu70+ATCcyGBi5avpxQKITP52P9hg3I3t6sfPB6gyxsasDhdBRdCPcArrNGYBssF/Cl2mUdeNoWgyXS4CoqeP3AAV544QUALMviscce4+X33oNIJJ3QSZOAw0V9Ux2FcPmN8IWzQmA7OCU84q2qoLijA6OyNg1eUSASIR6P54ybmJiAFStA0+wy69bzqAoGKfJ5lUa4twyCs07Agtulpi0MX9RDQWtndqmMRMAwKCrKLSyFhYVQUACrV2eVWb9QWXTOQpyKUr8WvvNJ8/ITEXgaFki4o/K8KN5IFNWZnwbv9UJ1NQBer3dmAgBLl0JlpT3OsCTFCYuqqhBBuLkfmmeNgITNDq/HNX9JF3lNrekdN5GA9na730wEPB5PqqEosG4dJJM2CV8SIqFy3E5HfjtsAtyfOYFn4DIJlyzs68RzTjMkkrYUrJqaVAQyvK2q6swEAGpr4eKL0wkdjxMYGiFaV00+rFwPaz7uYe9jEXgO8k14KBCupjjajB4I2YsLTSMZiSCEyBrj9/tnltDkJa6/HpmXl3KCaZKPRrVuUOzzUgM/aoSyz4zASfiBahjz63o7KWhszkrcU9EoUtOQMnsjDQQCdtvtdqNp2bkp3G6SN90EppkmfTJOW20VuqpUr4KNgH7GBP4AjRJuXbC4GW3wHcY2f5/4ay9BLEbc5yMRCiGEyIlAJoHp3gcQQpBcsQKzpQUhJQMTw7w6dIDE+Cj1FWX4YcMl0HFGBGRKh4+6Az6jNFyFuv8NkkcHGN3yCMd+cx/DC8M2+OkkgsHg6eUz1V9Khm/9FrvHPmDv+FFiwmL4wwHCJX7ynQ5XFO4D8j81gafgGgt6Gy/oRH9nN9I0kTJ1Nju14gqEL2CDsSwLy7I+VgQsy0oTrq7Bdc31CAlCgmlaDB85THtVCBcsvQ6+8lEJfVoCW6FIwk/LGsPkKSbyyMH0IhULSK5Zm+P9KSIANTU19lz19fVZ4KcITN29N9yMVhqynTM2MoRbU6ks8hCCH0Zg3ic+ja6BBzWno2/R6l6MPX9DJhOpBYDx7z4IlQtQVRVVVVEUJcsAmpqa2LlzJ2VlZWzevJlAIGCDN03TbluWhaWoKKVlnNixHYFEALHYKerKy9k7NFIYlNLzT3gWENNxKqeRTqsJu5r6OrUyIwbvvmF7P96zipO3P4Cu6xiGgcPhwDAM+1nXdTRNyyImpURKmQU6mUzm2KFv3sDJl/9ur+UPlPBhQrLryNHkG7DyWfjL/5XQ3aCa8IvCkmItOK8c5cB/7NCKvAIm1t6WlYjTJWGaJqZpMjQ0xMaNG7nqqqvYtm1blten2tPl57vtDqTDaRM4NnSMWm8BXqfDqIP7Z/odkyOhm+BGqSg3tvVfiHPfbsTJMXvCiWu/jdXSlapQUs4ooalr/fr1PP7447z55pts2bKF/v5+/H5/FulMwpZloRZ6QAgmXt2FBISUJJImNT4f+8ZOVMyH4/+Gf5w2Ak9AUMCmymg9jsQJ5LFDKc9LSNY0kOz/ck41mQmMaZrs3Lkzq9+ePXtm1P/08lv01XXo86psp42Mj2NIQU1hASXwvUUQPi0BCx7Q3Xn+8HlRtLd3IyazRgKxq7+OVLWcej4FYrpErrzyyqw9obOzMzd5M0jYSelw4F/3NVu2UsLg0BDtfi8OVS1elPod48yR0O9giYSHzu3rUgpGDiKODdpeEBKs+WGsppbUaTJzs5s8QmQmLEBPTw/RaJSuri7uuusuSktLc+Qzfe8AkJbF2HPPMv76v2wHJi2BqqgEXS4GT8UiHti1H962q9CLoA/Ca0UVZdG2vg7UV7YhhMwiICRYThdCdyCmklqmdCokSJTUMxnfIGeOzLGWEKl7Zv9EAvNULGcMKDSUlLB96DgDieSeJ6B3DI7rAANwi6Kq0XMv6ER76xWsTPCkTcZiSBnLAJ8m8FGAZzb5kQSnm5CSgyMj9Ho9/P7oULQPvvFHuEd7AjQT/lS9qMlV4nEgB/aCqiEzTCgaUtGQigp2O/UsM59VDRQ121An+00+q0pKhpPfQEVO3lNjlLSRbiuKQswUBJxOLGDUNBtfh9/qw6C6wCksC6vQjzxvFVJIpBRIIZBCogqJIgWKJWDyXcotkxXE7i9TYya/SSEQGX2lEJNjUq5O9RVgSYQ9b3pdsuaSCCnQhMRM5ZkTKFIAfg1rFfilBENOVh0x7X4m7z6LOaa9iw/AnTvgKSXjN6HPC51xcJm5fyJmbJ/Jt0+7hgnWf2HfcRgBDv8PYCeF2bVhinwAAAAASUVORK5CYII=);\n       }\n\n       .userimage {\n          background-repeat:no-repeat;\n          padding-left : 18px;\n          display:block;\n          background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAtFBMVEVbSTJaSTRcSDFOTk5tlx92iFSTZCuRZjCWZz27ejSGc1yHdF6VcEGUc0eae1SNfm2md03ZfirdfyyDtiWHuSuKvDOInWGSgWySv0C6nXWXw0eaxU2fx1anzGWpzWnClVrilUPno1bnpVbttWzwv3ufl4yjo6O614a92ojPtZDYuInH35vK4qPN46jR5q7V6LTjxJfxw4Pyyo732qv54Lrd2dTb68Hf7cf76s/h4eHq6ur///8TI7fFAAAAgElEQVQYV2OwRgMMYNJUnEvcFEnAlIuXh53JFCHAzadpIM/GgBDglzQxNuRkRAioahmpKAoyIwSs1JQUhDgskWyxEhAQsETYYqWmpmyhwsxsCRWwUtPXYVURkxIFiwAF1Mz1tNXFZCREhJmhAma6whqy0nIsMAFmBIDbggQICwAA6+4uxXL6Wh0AAAAASUVORK5CYII%3D);\n       }\n\n       table {\n\t       border-collapse: collapse;\n\t       border: 2px solid #3f7c5f;\n\t       font: normal 80%/140% arial, verdana, helvetica, sans-serif;\n\t       color: #000;\n\t       background: #fff;\n       }\n\n       td, th {\n\t       border: 1px solid #e0e0e0;\n\t       padding: 0.5em;\n       }\n\n       tbody th, tbody td {\n\t       vertical-align: top;\n\t       text-align: left;\n       }\n\n       tbody tr:hover {\n\t       background: #ffffd9;\n       }\n")
!373=M288:4/100%M284:5/widthM30:4/""))d28,23:M18:8/16:55:22X
!372=d282,275:M24:8/style"))i23,6:7/sidebar1/ 6/little1/ 2/"a1/ M18:8/16:55:07X
!358=d280,267:d264,239:M30:8/think"))M28:1/IM26:9/unstyled,M24:7/"betterM18:8/15:27:40M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!357=i275,14:5/right1/ 1/:1/ 5/float1/ 1/{1/ 10/input.save7/       3/}\n1/ 1/;1/ M30:8/this?"))M28:4/"tryd26,23:M18:8/15:27:23X
!356=M284:4/autoM280:11/margin-leftM270:3/60%M248:3/80%M26:10/styling"))M24:8/"furtherM18:8/15:26:53X
!355=M284:3/50%d280,267:M256:4/100%d252,245:M26:7/form"))M24:6/"styleM18:8/15:26:08X
!290=d262,235:M26:6/EST"))M24:8/10:21:46d22,17:X
!253=d198,163:M18:8/17:47:53M12:2/01M10:5/"Thu,X
!249=d398,307:M20:17/"128.2.203.136"))d18,5:X
!248=M244:4/14pxM239:1/ M238:1/;M236:7/#DDDDFFM228:7/#9999BBd219,218:X
!245=d268,263:X
!244=d267,262:d260,247:X
!241=M234:7/#BBBBFFM226:7/#777799M222:3/1pxX
!140=M266:4/}\n"d242,177:M8:1/"d7,0:X
!139=M186:13/width:16px;\nd185,182:M180:14/height:16px;\nX
!138=d184,183:X
!135=M176:13/div.userimageX
!132=i183,2:17/display:inline;\n10/          X
!129=d184,183:M176:14/span.userimageX
!126=M176:13/div.userimageX
!116=d185,178:d176,173:X
!115=M68:3/7pxd60,53:d22,15:X
!114=M42:3/0pxX
!113=M76:7/#000000M64:7/#000000M52:3/4pxM42:4/20pxX
!112=M42:3/2pxX
!5=M96:5/}\n\nd94,91:M44:3/2pxM42:3/4pxM28:4/11pxX

polybook_logo.svg 157 12950/"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.0//EN\"    \"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\" [\n\t<!ENTITY ns_flows \"http://ns.adobe.com/Flows/1.0/\">\n\t<!ENTITY ns_svg \"http://www.w3.org/2000/svg\">\n\t<!ENTITY ns_xlink \"http://www.w3.org/1999/xlink\">\n]>\n<svg  xmlns=\"&ns_svg;\" xmlns:xlink=\"&ns_xlink;\" xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\n\t width=\"200\" height=\"100\" viewBox=\"-0.967 -0.291 283 142\" xml:space=\"preserve\">\n\t<defs>\n\t</defs>\n\t<g>\n\t\t<path d=\"M5.222,58.813h-1.5v-6.565H1.656v-1.2h5.631v1.2H5.222V58.813z\"/>\n\n\t\t<path d=\"M7.094,67.832H5.695v-3.375H3.363v3.375H1.963v-7.766h1.399v3.192h2.333v-3.192h1.399V67.832z\"/>\n\t\t<path d=\"M8.999,125.651H0v-11.744h8.92v1.748H2.116v3.182h5.736v1.704H2.116v3.286h6.883V125.651z\"/>\n\t\t<path d=\"M2.175,94.493H0V82.749h8.791v1.815H2.175v3.211h5.497v1.762H2.175V94.493z\"/>\n\t\t<path d=\"M8.411,110.071H6.175l-1.824-4.829H2.116v4.829H0V98.33h4.352c1.417,0,2.456,0.317,3.12,0.96\n\t\t\tc0.669,0.64,0.999,1.465,0.999,2.48c0,1.51-0.703,2.546-2.116,3.113L8.411,110.071z M2.116,103.549h1.891\n\t\t\tc0.761,0,1.332-0.157,1.704-0.479c0.373-0.321,0.559-0.766,0.559-1.326c0-0.515-0.183-0.932-0.551-1.25\n\t\t\tc-0.366-0.317-0.879-0.478-1.538-0.478H2.116V103.549z\"/>\n\t\t<path d=\"M8.995,141.23H0v-11.744h8.918v1.744H2.116v3.185h5.735v1.701H2.116v3.289h6.879V141.23z\"/>\n\t\t<path d=\"M7.011,76.85H1.963v-7.765h4.996v1.155H3.364v2.105h2.89v1.125h-2.89v2.174h3.647V76.85z\"/>\n\t\t<path d=\"M61.48,0L49.079,46.377h-8.765l-9.242-34.111L22.68,46.377h-8.596L1.411,0h8.868l8.969,33.807L27.606,0h8.459\n\t\t\tl9.242,33.807L54.108,0H61.48z\"/>\n\t\t<path d=\"M75.643,46.377h-8.358V0h8.358V46.377z\"/>\n\t\t<path d=\"M122.301,46.377h-9.343l-9.785-23.613l-8.969,11.892v11.721h-8.358V0h8.358v24.361c1.063-1.654,1.833-2.797,2.31-3.432\n\t\t\tL111.905,0h8.46l-11.01,15.255L122.301,46.377z\"/>\n\n\t\t<path d=\"M136.931,46.377h-8.358V0h8.358V46.377z\"/>\n\t\t<path fill=\"#970F00\" d=\"M155.491,46.377h-8.358V0h18.992c5.412,0,9.427,1.365,12.043,4.095c2.616,2.73,3.923,5.951,3.923,9.666\n\t\t\tc0,4.237-1.415,7.667-4.245,10.294c-2.832,2.629-6.422,3.941-10.771,3.941h-11.584V46.377z M155.491,20.828h9.886\n\t\t\tc2.58,0,4.553-0.634,5.91-1.903c1.36-1.268,2.039-2.956,2.039-5.063c0-1.901-0.628-3.533-1.886-4.892\n\t\t\tc-1.26-1.359-3.529-2.039-6.812-2.039h-9.138V20.828z\"/>\n\t\t<path fill=\"#3953A4\" d=\"M217.379,46.377H188.84V0h8.799v38.8h19.74V46.377z\"/>\n\t\t<path d=\"M231.904,46.377h-8.358V0h8.358V46.377z\"/>\n\t\t<path d=\"M278.495,46.377h-8.938l-3.702-11.042H248.02l-3.638,11.042h-7.135L252.64,0h10.291L278.495,46.377z M263.61,28.643\n\t\t\tl-6.759-20.692l-6.764,20.692H263.61z\"/>\n\t\t<path d=\"M19.024,140.99h-3.396v-14.846h-4.669v-2.715h12.736v2.715h-4.671V140.99z\"/>\n\t\t<path d=\"M38.655,140.99H35.49v-7.626h-6.701v7.626h-3.165V123.43h3.165v7.217h6.701v-7.217h3.165V140.99z\"/>\n\t\t<path d=\"M56.292,140.99h-3.383l-1.402-4.182h-6.753l-1.378,4.182h-2.702l5.828-17.561h3.897L56.292,140.99z M50.659,134.277\n\t\t\tl-2.561-7.837l-2.563,7.837H50.659z\"/>\n\t\t<path d=\"M63.11,140.99h-3.395v-14.846h-4.671v-2.715h12.736v2.715H63.11V140.99z\"/>\n\n\t\t<path d=\"M90.075,140.99H86.69l-1.4-4.182h-6.755l-1.375,4.182h-2.702l5.828-17.561h3.897L90.075,140.99z M84.437,134.277\n\t\t\tl-2.557-7.837l-2.56,7.837H84.437z\"/>\n\t\t<path d=\"M105.447,140.99h-3.075l-6.664-11.218c-0.103-0.171-0.271-0.45-0.503-0.839c-0.101-0.167-0.259-0.438-0.475-0.808v12.864\n\t\t\th-2.546V123.43h3.499l6.15,10.343c0.051,0.088,0.424,0.718,1.119,1.893V123.43h2.495V140.99z\"/>\n\t\t<path d=\"M116.368,140.99h-3.357v-7.41l-5.982-10.15h3.834l4.169,7.244l3.988-7.244h3.034l-5.686,10.15V140.99z\"/>\n\t\t<path d=\"M129.22,141.262c-2.335,0-4.148-0.876-5.446-2.627c-1.302-1.747-1.951-3.909-1.951-6.481c0-2.556,0.691-4.694,2.073-6.413\n\t\t\tc1.378-1.72,3.202-2.58,5.467-2.58c2.281,0,4.083,0.86,5.41,2.58c1.324,1.719,1.986,3.869,1.986,6.451\n\t\t\tc0,2.709-0.688,4.899-2.063,6.565C133.318,140.426,131.494,141.262,129.22,141.262z M129.246,138.713\n\t\t\tc1.14,0,2.107-0.471,2.895-1.414c0.789-0.944,1.185-2.655,1.185-5.132c0-2.017-0.328-3.599-0.978-4.743\n\t\t\tc-0.652-1.146-1.665-1.716-3.036-1.716c-2.711,0-4.067,2.185-4.067,6.548c0,2.116,0.347,3.723,1.039,4.816\n\t\t\tC126.973,138.168,127.96,138.713,129.246,138.713z\"/>\n\t\t<path d=\"M152.969,140.99h-3.076l-6.663-11.218c-0.103-0.171-0.271-0.45-0.503-0.839c-0.102-0.167-0.261-0.438-0.475-0.808v12.864\n\t\t\th-2.546V123.43h3.498l6.147,10.343c0.053,0.088,0.424,0.718,1.12,1.893V123.43h2.497V140.99z\"/>\n\t\t<path d=\"M168.237,140.99h-11.41V123.43h11.295v2.613h-8.132v4.759h6.538v2.547h-6.538v4.913h8.247V140.99z\"/>\n\t\t<path d=\"M187.367,134.893l2.935,0.322c-0.188,1.758-0.871,3.206-2.039,4.343c-1.171,1.133-2.709,1.704-4.615,1.704\n\t\t\tc-1.603,0-2.903-0.402-3.904-1.209c-0.995-0.808-1.765-1.901-2.307-3.282c-0.541-1.379-0.812-2.901-0.812-4.567\n\t\t\tc0-2.674,0.635-4.851,1.903-6.527c1.271-1.677,3.014-2.516,5.236-2.516c1.742,0,3.188,0.536,4.346,1.608\n\t\t\tc1.162,1.072,1.89,2.605,2.191,4.605l-2.935,0.308c-0.541-2.649-1.734-3.974-3.574-3.974c-1.186,0-2.104,0.551-2.763,1.652\n\t\t\tc-0.655,1.102-0.985,2.7-0.985,4.793c0,2.126,0.353,3.732,1.057,4.817c0.707,1.085,1.633,1.627,2.79,1.627\n\t\t\tc0.928,0,1.718-0.363,2.368-1.093C186.913,136.772,187.282,135.904,187.367,134.893z\"/>\n\t\t<path d=\"M206.459,140.99h-3.384l-1.403-4.182h-6.757l-1.374,4.182h-2.702l5.83-17.561h3.898L206.459,140.99z M200.822,134.277\n\t\t\tl-2.561-7.837l-2.557,7.837H200.822z\"/>\n\t\t<path d=\"M221.832,140.99h-3.078l-6.663-11.218c-0.104-0.171-0.269-0.45-0.5-0.839c-0.104-0.167-0.262-0.438-0.477-0.808v12.864\n\t\t\th-2.547V123.43h3.497l6.151,10.343c0.051,0.088,0.424,0.718,1.119,1.893V123.43h2.497V140.99z\"/>\n\n\t\t<path d=\"M243.686,140.99h-11.409V123.43h11.297v2.613h-8.133v4.759h6.535v2.547h-6.535v4.913h8.245V140.99z\"/>\n\t\t<path d=\"M246.323,140.99V123.43h6.47c2.393,0,4.317,0.848,5.766,2.542c1.445,1.693,2.175,3.785,2.175,6.271\n\t\t\tc0,2.489-0.75,4.566-2.237,6.24c-1.492,1.673-3.628,2.508-6.407,2.508H246.323z M249.578,138.403h2.637\n\t\t\tc1.414,0,2.618-0.531,3.604-1.595c0.987-1.062,1.477-2.644,1.477-4.746c0-1.714-0.432-3.168-1.29-4.354\n\t\t\tc-0.864-1.188-2.001-1.783-3.416-1.783h-3.012V138.403z\"/>\n\t\t<path d=\"M266.826,140.99h-3.16V123.43h3.16V140.99z\"/>\n\t\t<path d=\"M276.826,140.99h-3.397v-14.846h-4.667v-2.715h12.733v2.715h-4.669V140.99z\"/>\n\t\t<path fill=\"#970F00\" d=\"M16.866,77.399h-4.71V51.284h10.7c3.044,0,5.307,0.768,6.778,2.304c1.479,1.538,2.215,3.352,2.215,5.444\n\t\t\tc0,2.384-0.8,4.317-2.395,5.798c-1.593,1.479-3.617,2.219-6.065,2.219h-6.523V77.399z M16.866,63.011h5.567\n\t\t\tc1.452,0,2.563-0.359,3.329-1.069c0.768-0.717,1.147-1.667,1.147-2.854c0-1.073-0.354-1.99-1.059-2.756\n\t\t\tc-0.709-0.764-1.99-1.146-3.836-1.146h-5.148V63.011z\"/>\n\t\t<path fill=\"#970F00\" d=\"M55.993,77.399H51.02l-4.056-10.735h-6.621v10.735h-4.705V51.284h11.326c3.151,0,5.462,0.711,6.944,2.133\n\t\t\tc1.481,1.422,2.221,3.26,2.221,5.519c0,3.355-1.571,5.666-4.708,6.927L55.993,77.399z M40.343,62.896h5.853\n\t\t\tc1.695,0,2.961-0.356,3.79-1.071c0.828-0.714,1.243-1.699,1.243-2.947c0-1.146-0.407-2.073-1.223-2.783\n\t\t\tc-0.817-0.705-1.958-1.062-3.425-1.062h-6.238V62.896z\"/>\n\t\t<path fill=\"#970F00\" d=\"M70.096,77.802c-3.472,0-6.17-1.3-8.102-3.902c-1.937-2.604-2.901-5.819-2.901-9.646\n\t\t\tc0-3.8,1.025-6.98,3.082-9.537c2.053-2.557,4.766-3.836,8.133-3.836c3.39,0,6.072,1.28,8.043,3.836\n\t\t\tc1.972,2.556,2.957,5.758,2.957,9.594c0,4.035-1.023,7.289-3.07,9.769C76.19,76.562,73.476,77.802,70.096,77.802z M70.132,74.013\n\t\t\tc1.696,0,3.134-0.701,4.308-2.103c1.171-1.405,1.759-3.95,1.759-7.634c0-2.999-0.487-5.35-1.455-7.052\n\t\t\tc-0.97-1.702-2.475-2.554-4.516-2.554c-4.029,0-6.046,3.245-6.046,9.737c0,3.151,0.513,5.54,1.539,7.167\n\t\t\tC66.753,73.201,68.221,74.013,70.132,74.013z\"/>\n\t\t<path fill=\"#970F00\" d=\"M105.513,64.045v13.354h-2.087l-1.434-3.518c-1.518,2.614-3.874,3.921-7.06,3.921\n\t\t\tc-3.559,0-6.217-1.352-7.972-4.057c-1.751-2.705-2.63-5.836-2.63-9.393c0-3.764,0.98-6.95,2.936-9.56\n\t\t\tc1.961-2.608,4.699-3.912,8.222-3.912c2.626,0,4.787,0.761,6.485,2.285c1.695,1.526,2.768,3.421,3.214,5.694l-4.094,0.727\n\t\t\tc-0.766-3.186-2.595-4.785-5.49-4.785c-1.851,0-3.359,0.756-4.524,2.259c-1.169,1.506-1.752,3.822-1.752,6.945\n\t\t\tc0,6.598,2.066,9.895,6.197,9.895c1.61,0,2.938-0.557,3.991-1.665c1.051-1.111,1.579-2.58,1.579-4.401h-5.396v-3.79H105.513z\"/>\n\t\t<path fill=\"#970F00\" d=\"M131.208,77.399h-4.975l-4.054-10.735h-6.621v10.735h-4.71V51.284h11.331c3.149,0,5.463,0.711,6.944,2.133\n\t\t\tc1.482,1.422,2.222,3.26,2.222,5.519c0,3.355-1.572,5.666-4.71,6.927L131.208,77.399z M115.558,62.896h5.854\n\t\t\tc1.695,0,2.959-0.356,3.789-1.071c0.831-0.714,1.243-1.699,1.243-2.947c0-1.146-0.407-2.073-1.224-2.783\n\t\t\tc-0.817-0.705-1.957-1.062-3.426-1.062h-6.236V62.896z\"/>\n\n\t\t<path fill=\"#970F00\" d=\"M156.523,77.399h-5.033l-2.086-6.217h-10.045l-2.046,6.217h-4.019l8.667-26.115h5.799L156.523,77.399z\n\t\t\t M148.145,67.41l-3.813-11.651l-3.805,11.651H148.145z\"/>\n\t\t<path fill=\"#970F00\" d=\"M185.281,77.399h-4.803V54.537l-7.235,22.862h-2.465l-7.273-22.862v22.862h-3.845V51.284h7.365\n\t\t\tl5.472,16.816l5.379-16.816h7.405V77.399z\"/>\n\t\t<path fill=\"#970F00\" d=\"M216.66,77.399h-4.801V54.537l-7.234,22.862h-2.467l-7.273-22.862v22.862h-3.844V51.284h7.365\n\t\t\tl5.473,16.816l5.379-16.816h7.402V77.399z\"/>\n\t\t<path fill=\"#970F00\" d=\"M227.131,77.399h-4.708V51.284h4.708V77.399z\"/>\n\t\t<path fill=\"#970F00\" d=\"M252.593,77.399h-4.572l-9.909-16.683c-0.155-0.255-0.405-0.67-0.749-1.243\n\t\t\tc-0.149-0.257-0.386-0.659-0.705-1.205v19.131h-3.791V51.284h5.202l9.149,15.38c0.077,0.126,0.631,1.067,1.667,2.814V51.284h3.708\n\t\t\tV77.399z\"/>\n\t\t<path fill=\"#970F00\" d=\"M278.159,64.045v13.354h-2.09l-1.437-3.518c-1.515,2.614-3.869,3.921-7.056,3.921\n\t\t\tc-3.559,0-6.222-1.352-7.967-4.057c-1.762-2.705-2.636-5.836-2.636-9.393c0-3.764,0.979-6.95,2.94-9.56\n\t\t\tc1.954-2.608,4.694-3.912,8.214-3.912c2.629,0,4.789,0.761,6.485,2.285c1.697,1.526,2.772,3.421,3.219,5.694l-4.095,0.727\n\t\t\tc-0.767-3.186-2.595-4.785-5.493-4.785c-1.849,0-3.356,0.756-4.53,2.259c-1.156,1.506-1.746,3.822-1.746,6.945\n\t\t\tc0,6.598,2.068,9.895,6.196,9.895c1.613,0,2.937-0.557,4-1.665c1.043-1.111,1.573-2.58,1.573-4.401h-5.396v-3.79H278.159z\"/>\n\t\t<path fill=\"#3953A4\" d=\"M35.733,118.591H12.156V80.273h7.272v32.056h16.305V118.591z\"/>\n\t\t<path fill=\"#3953A4\" d=\"M70.884,118.591h-7.38l-3.06-9.123H45.712l-3.014,9.123h-5.89l12.717-38.318h8.505L70.884,118.591z\n\t\t\t M58.592,103.936L53.009,86.84l-5.59,17.096H58.592z\"/>\n\t\t<path fill=\"#3953A4\" d=\"M104.435,118.591H97.73L83.18,94.112c-0.223-0.375-0.581-0.983-1.089-1.824\n\t\t\tc-0.229-0.378-0.575-0.965-1.044-1.766v28.068H75.49V80.273h7.637L96.55,102.84c0.116,0.187,0.919,1.565,2.446,4.129V80.273h5.439\n\t\t\tV118.591z\"/>\n\n\t\t<path fill=\"#3953A4\" d=\"M141.942,98.997v19.594h-3.06l-2.106-5.162c-2.223,3.835-5.681,5.754-10.356,5.754\n\t\t\tc-5.224,0-9.125-1.983-11.694-5.952c-2.577-3.971-3.86-8.563-3.86-13.784c0-5.522,1.435-10.198,4.31-14.026\n\t\t\tc2.864-3.826,6.895-5.74,12.06-5.74c3.854,0,7.025,1.116,9.516,3.354c2.485,2.237,4.064,5.021,4.709,8.354l-6.006,1.066\n\t\t\tc-1.122-4.676-3.81-7.021-8.05-7.021c-2.719,0-4.924,1.109-6.645,3.314c-1.709,2.211-2.569,5.609-2.569,10.193\n\t\t\tc0,9.679,3.038,14.515,9.099,14.515c2.353,0,4.305-0.815,5.857-2.443c1.538-1.626,2.308-3.781,2.308-6.457h-7.912v-5.558H141.942z\n\t\t\t\"/>\n\t\t<path fill=\"#3953A4\" d=\"M176.085,80.273v24.619c0,3.333-0.379,5.896-1.131,7.688c-0.741,1.8-2.185,3.35-4.341,4.648\n\t\t\tc-2.133,1.3-4.755,1.954-7.84,1.954c-3.124,0-5.688-0.562-7.716-1.684c-2.003-1.127-3.444-2.661-4.33-4.621\n\t\t\tc-0.873-1.956-1.317-4.452-1.317-7.48V80.273h7.049v24.619c0,3.368,0.699,5.582,2.126,6.639c1.403,1.061,3.047,1.589,4.918,1.589\n\t\t\tc2.152,0,3.88-0.567,5.167-1.702c1.291-1.128,1.936-3.303,1.936-6.525V80.273H176.085z\"/>\n\t\t<path fill=\"#3953A4\" d=\"M213.058,118.591h-7.39l-3.051-9.123h-14.75l-2.996,9.123h-5.903l12.724-38.318h8.505L213.058,118.591z\n\t\t\t M200.764,103.936l-5.588-17.096l-5.592,17.096H200.764z\"/>\n\t\t<path fill=\"#3953A4\" d=\"M245.428,98.997v19.594h-3.067l-2.1-5.162c-2.232,3.835-5.687,5.754-10.362,5.754\n\t\t\tc-5.22,0-9.128-1.983-11.683-5.952c-2.588-3.971-3.868-8.563-3.868-13.784c0-5.522,1.429-10.198,4.315-14.026\n\t\t\tc2.864-3.826,6.884-5.74,12.05-5.74c3.854,0,7.037,1.116,9.515,3.354c2.498,2.237,4.062,5.021,4.723,8.354l-6.009,1.066\n\t\t\tc-1.129-4.676-3.809-7.021-8.059-7.021c-2.716,0-4.918,1.109-6.646,3.314c-1.702,2.211-2.557,5.609-2.557,10.193\n\t\t\tc0,9.679,3.022,14.515,9.084,14.515c2.366,0,4.305-0.815,5.862-2.443c1.532-1.626,2.315-3.781,2.315-6.457h-7.918v-5.558H245.428z\n\t\t\t\"/>\n\t\t<path fill=\"#3953A4\" d=\"M278.159,118.591h-24.902V80.273h24.648v5.698h-17.739v10.385h14.255v5.562h-14.255v10.722h17.993V118.591\n\t\t\tz\"/>\n\t</g>\n</svg>\n"
!141=M40:14/height=\"142\"M38:13/width=\"283\"X

test 465 6682/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sun, 11 Mar 2007 16:20:31 EST") ("source" "test.w") ("summary" "")) '(let 'car (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "car nil") '(h _ h))))) '(let 'cdr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "cdr nil") '(_ t t))))) '(let 'map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l ''() '(h t (cons (f h) (self self f t))))))))))) '(let 'map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (map map f l)))))) '(let 'foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(b fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l 'b '(h t (f h (self self f b t))))))))))))) '(let 'foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(b fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (foldr foldr f b l)))))))) '(let '@ (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(l1 fnarg_ (xcase fnarg_ 'noarg '(l2 fnarg_ (xcase l1 'l2 '(h t (cons h (self self t l2))))))))))) '(let '@ (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l1 fnarg_ (xcase fnarg_ 'noarg '(l2 fnarg_ (@ @ l1 l2)))))) '(let 'linkup (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (xcase fnarg_ 'noarg '(text fnarg_ (let 'exists (handle '(let '_ (head s) '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/" s "\">" text "</a>"))))))) '(let 'prog "(+ 1 2)" '(let 'nth (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(n fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (if (eq n 0) '(car l) '(nth nth (- n 1) (cdr l)))))))))) '(let 'translaterec (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(translaterec fnarg_ (xcase fnarg_ 'noarg '(exp fnarg_ (let 'translate (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(exp fnarg_ (translaterec translaterec exp)))) '(xcase exp 'exp '(h t (xcase h 'no 'no 'no 'no 'no '(theprim (if (eq theprim "defs") '(map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(d_arg fnarg_ (list (car d_arg) (translate (car (cdr d_arg))))))) t) '(if (eq theprim "cond") '(translate (foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(c fnarg_ (xcase fnarg_ 'noarg '(rest fnarg_ (xcase c '(abort "empty condition in cond?") '(thecond thiscase (list (parse "if") thecond (car thiscase) rest)))))))) (parse "nil") t)) '(if (eq theprim "include") '(let 'meta_lib (head (string "w:" (car t))) '(let 'lib (xcase (car (cdr (cdr (cdr meta_lib)))) 'no '(_ _ no) '(q q)) '(let 'bod (translate (car (cdr t))) '(let 'bindlib (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(bl_self fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l 'bod '(thedef rest (list (parse "let") (quote (car thedef)) (car (cdr thedef)) (quote (bl_self bl_self rest)))))))))) '(bindlib bindlib lib))))) '(if (eq theprim "lambda") '(cons h (cons (quote (translate (car t))) (cons (quote (translate (car (cdr t)))) '()))) '(if (eq theprim "if") '(list h (translate (car t)) (quote (translate (car (cdr t)))) (quote (translate (car (cdr (cdr t)))))) '(if (eq theprim "handle") '(list h (quote (translate (car t))) (quote (translate (car (cdr t))))) '(if (eq theprim "let") '(list h (quote (car t)) (translate (car (cdr t))) (quote (translate (car (cdr (cdr t)))))) '(if (eq theprim "fun") '(let 'decsbody (let 'getdb (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "fun: expected f (args) body or allbody") '(onemaybe rest (xcase rest '(list '() onemaybe) '(two rest (xcase rest '(abort "fun: expected f (args) body") '(three rest (let 'one (xcase onemaybe '(abort "fun: expected sym") '(_ _ (abort "fun: expected sym")) '(_ (abort "fun: expected sym")) 'no 'no '(sym sym)) '(let 'grest (translate rest) '(let 'fs (car grest) '(let 'allbody (car (cdr grest)) '(list (cons (list one two three) fs) allbody)))))))))))))))) '(getdb getdb t)) '(let 'decs (car decsbody) '(let 'body (car (cdr decsbody)) '(let 'wrapdec (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(decl fnarg_ (xcase fnarg_ 'noarg '(rest fnarg_ (let 'f (car decl) '(let 'frec (string f "rec") '(let 'args (car (cdr decl)) '(let 'bod (car (cdr (cdr decl))) '(list (parse "let") (parse f) (list (parse "fn") args (cons (parse frec) (@ (map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(decl fnarg_ (parse (string (car decl) "rec"))))) decs) args))) rest)))))))))) '(let 'wrapdecs (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(bod fnarg_ (foldr wrapdec bod decs)))) '(let 'binddec (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(decl fnarg_ (xcase fnarg_ 'noarg '(rest fnarg_ (let 'f (car decl) '(let 'frec (string f "rec") '(let 'args (car (cdr decl)) '(let 'bod (car (cdr (cdr decl))) '(list (parse "let") (parse frec) (list (parse "fn") (@ (map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(decl fnarg_ (parse (string (car decl) "rec"))))) decs) args) (wrapdecs bod)) rest)))))))))) '(translate (foldr binddec (wrapdecs body) decs)))))))) '(if (eq theprim "lets") '(let 'argname "letsval" '(let 'genbindsrec (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(genbindsrec fnarg_ (xcase fnarg_ 'noarg '(args fnarg_ (let 'genbinds (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(args fnarg_ (genbindsrec genbindsrec args)))) '(xcase args '(abort "no args to lets") '(ah at (xcase at '(list (parse "let") ah (parse argname) (car (cdr (cdr t)))) '(_ _ (list (parse "xcase") (parse argname) (parse "lets-nil") (list ah (parse argname) (genbinds at))))))))))))) '(let 'genbinds (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(args fnarg_ (genbindsrec genbindsrec args)))) '(translate (list (parse "let") (parse argname) (car (cdr t)) (genbinds (car t))))))) '(if (eq theprim "fn") '(let 'argname "fnarg_" '(let 'genargs (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(ga_self fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase fnarg_ 'noarg '(bod fnarg_ (xcase l '(translate bod) '(thisarg rest (list (parse "xcase") (parse argname) (quote (parse "noarg")) (quote (list thisarg (parse argname) (ga_self ga_self rest bod))))))))))))) '(list (parse "lambda") (quote (parse argname)) (quote (genargs genargs (car t) (car (cdr t))))))) '(if (eq theprim "xcase") '(xcase t '(abort "no args to xcase?") '(ob cases (cons h (cons (translate ob) (map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(x fnarg_ (quote (translate x))))) cases))))) '(if 1 '(cons h (map translate t)) ''()))))))))))))))) '(q (abort "quote not allowed in W")) 'exp 'exp '(s (if (eq s "nil") '(quote '()) 'exp)) '(abort (string "huh? the expression is a closure or primitive or something?" exp))))))))) '(let 'translate (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(exp fnarg_ (translaterec translaterec exp)))) '(translate (parse prog))))))))))))))))
!463=M18:8/14:34:36X
!461=M494:2/2)M490:4/"+")i489,4:6/(parse1/ 5/(list1/ M18:8/14:32:44X
!459=M2004:22/prog))))))))))))))))))M500:4/(letM498:6/fnarg_M496:6/'(progM494:6/'noargM492:6/fnarg_M490:7/'(xcaseM488:7/'fnarg_M486:8/'(lambdaM18:8/14:30:03X
!457=M2004:5/0))))d2002,2001:M1974:9/'f)))))))M1972:2/'eM1970:2/'dM1968:2/'cM1966:2/b)d1964,1639:M1634:2/'ad1632,619:M562:7/bug?"))M560:3/funM558:5/"testd556,27:M18:8/14:27:36X
!447=M132:12/rest))))))))d130,97:M94:1/aM92:2/(+M90:6/'(listM88:7/letsvalM86:5/'restd84,63:M60:7/letsvalM58:3/'(bM56:9/'lets-nilM54:7/letsvalM50:7/letsvalM48:3/'(aM46:9/'lets-nilM44:7/letsvalM40:2/3)M38:1/2M36:1/1i35,4:5/(list1/ 8/'letsval1/ M32:7/rest"))d30,29:M18:8/18:26:52M12:2/09M10:5/"Fri,X
!445=M78:9/b))))))))d76,75:M72:3/'(+d70,69:M66:2/'_M42:2/2)d40,39:M30:7/lets"))M18:8/18:26:24X
!433=M72:3/2))M70:1/1d66,31:M18:8/17:57:05X
!424=M36:7/6))))))M34:1/5M32:1/4M30:5/'(twoM28:9/c))))))))i27,454:1/b1/ 1/a1/ 6/tworec1/ 6/onerec1/ 7/(tworec1/ 6/fnarg_1/ 3/'(c1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(b1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(a1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'two1/ 5/'(let1/ 9/z))))))))1/ 1/y1/ 1/x1/ 6/tworec1/ 6/onerec1/ 7/(onerec1/ 6/fnarg_1/ 3/'(z1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(y1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(x1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'one1/ 5/'(let1/ 16/c)))))))))))))))1/ 1/a1/ 1/b1/ 5/'(one1/ 2/'a1/ 2/0)1/ 1/c1/ 3/(eq1/ 4/'(if1/ 9/c))))))))1/ 1/b1/ 1/a1/ 6/tworec1/ 6/onerec1/ 7/(tworec1/ 6/fnarg_1/ 3/'(c1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(b1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(a1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'two1/ 5/'(let1/ 9/z))))))))1/ 1/y1/ 1/x1/ 6/tworec1/ 6/onerec1/ 7/(onerec1/ 6/fnarg_1/ 3/'(z1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(y1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(x1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'one1/ 4/(let1/ 6/fnarg_1/ 3/'(c1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(b1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(a1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 8/'(tworec1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 8/'(onerec1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 7/'tworec1/ 5/'(let1/ 16/1)))))))))))))))1/ 1/z1/ 2/(-1/ 1/y1/ 2/y)1/ 1/x1/ 2/(+1/ 5/'(two1/ 9/c))))))))1/ 1/b1/ 1/a1/ 6/tworec1/ 6/onerec1/ 7/(tworec1/ 6/fnarg_1/ 3/'(c1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(b1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(a1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'two1/ 5/'(let1/ 9/z))))))))1/ 1/y1/ 1/x1/ 6/tworec1/ 6/onerec1/ 7/(onerec1/ 6/fnarg_1/ 3/'(z1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(y1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(x1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'one1/ 4/(let1/ 6/fnarg_1/ 3/'(z1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(y1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(x1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 8/'(tworec1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 8/'(onerec1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 7/'onerec1/ 5/'(let1/ 12/recursion"))1/ 6/mutual1/ 8/"testing1/ M18:8/17:01:12X
!422=M490:5/5))))M488:7/'(sfactM486:5/x))))M484:8/sfactrecM482:9/(sfactrecd480,471:M468:3/'(xd462,443:M436:6/'sfactM432:11/1))))))))))d430,429:M426:2/(-M424:6/(sfactM422:1/xM420:3/'(+M418:2/'1d416,373:M370:1/xM364:5/x))))M362:8/sfactrecM360:9/(sfactrecd358,353:d350,281:M268:6/'sfactd262,107:d100,83:M78:10/'(sfactrecd72,43:M36:9/'sfactrecM30:6/actualM28:4/"tryM18:8/16:59:39X
!420=M134:7/'333)))d132,131:M128:6/onerecM126:7/(onerecM110:4/'oneM106:10/'999))))))d104,85:M82:6/onerecM80:7/(onerecM64:4/'oneM48:8/'(onerecM36:7/'onerecM32:13/"recompile"))d30,27:M18:8/16:58:34X
!416=M108:6/333)))M106:3/x))M100:3/(x)M98:3/(fnM96:3/oneM94:4/(letM92:5/999))M90:3/x))d88,79:M74:3/(x)M72:3/(fnM70:3/oned68,59:M56:2/x)M54:7/(onerecM52:3/(fnM50:6/onerecM48:5/'(letM46:6/fun"))M44:2/ofM42:4/testM40:8/"simplerd38,27:M18:8/16:52:01X
!396=M76:8/''()))))M74:8/'"right"M72:4/"a")M70:3/"a"M68:3/(eqM66:4/'(ifM64:6/wrong"M62:7/'"stillM60:3/'()M58:4/'(ifM56:8/'"wrong"M54:3/'()M52:4/'(ifM50:7/test"))M48:3/badM46:5/"heh,d44,27:M18:8/09:43:30M12:2/08M10:5/"Thu,M6:12/"127.0.0.1")X
!394=M54:4/"b")M32:7/cond"))M30:5/"testd28,27:M18:8/09:42:31X
!364=M56:3/2))M54:1/1M52:3/'(+M50:11/compiler"))M48:13/bootstrappingM46:3/newd44,29:M18:8/16:26:34M12:2/07M10:5/"Wed,X
!320=M40:8/'0))))))M38:4/x)))M36:6/fnarg_M34:3/'(xM32:6/'noargM30:6/fnarg_M28:7/'(xcaseM26:7/'fnarg_M24:7/(lambdai23,172:7/'linkup1/ 5/'(let1/ 7/l))))))1/ 1/f1/ 3/map1/ 4/(map1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(f1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'map1/ 5/'(let1/ 12/t)))))))))))1/ 1/f1/ 4/self1/ 5/(self1/ 2/h)1/ 2/(f1/ 5/(cons1/ 1/t1/ 3/'(h1/ 4/''()1/ 1/l1/ 6/(xcase1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(f1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 6/'(self1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'map1/ 5/'(let1/ 6/t)))))1/ 1/t1/ 3/'(_1/ 5/nil")1/ 4/"cdr1/ 7/'(abort1/ 1/l1/ 6/(xcase1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'cdr1/ 5/'(let1/ 6/h)))))1/ 1/_1/ 3/'(h1/ 5/nil")1/ 4/"car1/ 7/'(abort1/ 1/l1/ 6/(xcase1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'car1/ 5/'(let1/ 10/"test.w"))1/ M18:8/14:43:58M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!306=M212:3/2))M210:1/1M208:3/'(+d206,25:M18:8/14:24:28X
!289=M30:5/"."))M28:33/href=\"main-go.w\">main-go.w</a>"M26:14/class=\"blue\"M24:3/"<ai23,48:1/"1/ 4/like1/ 6/exist,1/ 4/that1/ 5/pages1/ 8/includes1/ 15/articles.\nThat1/ 1/"1/ 23/href=\"link\">link</a>"1/ 13/class=\"red\"1/ 3/"<a1/ 1/"1/ 2/to1/ 4/able1/ 2/be1/ 6/should1/ 1/I1/ 6/pages.1/ 2/of1/ 4/test1/ 1/a1/ 7/"Here's1/ 8/'(string1/ 13/"test.page"))1/ M18:8/10:20:42X
!283=M76:32/href=\"XXX-LINK\">main-go.w</a>"M74:3/"<aM72:4/"[["M54:27/href=\"XXX-LINK\">link</a>"M52:3/"<aM50:4/"[["M18:8/10:16:37X
!279=M78:6/".")))M26:9/'((stringM18:8/10:15:25X
!275=M78:5/"."))M26:9/''(stringM18:8/10:13:10X
!200=M78:6/2)))))M76:1/1M74:3/'(+M72:7/l))))))M70:1/fM68:3/mapM66:4/(mapM64:6/fnarg_M62:3/'(lM60:6/'noargM58:6/fnarg_M56:6/(xcaseM54:6/fnarg_M52:3/'(fM50:6/'noargM48:6/fnarg_M46:7/'(xcaseM44:7/'fnarg_M42:7/(lambdaM40:4/'mapM38:5/'(letM36:12/t)))))))))))M34:1/fM32:4/selfM30:5/(selfM28:2/h)M26:2/(fM24:5/(consM22:1/tM20:3/'(hM18:4/''()M16:1/lM14:6/(xcaseM12:6/fnarg_M10:3/'(lM8:6/'noargM6:6/fnarg_M4:6/(xcaseM2:6/fnarg_i1,92:3/'(f1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 6/'(self1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'map1/ 5/'(let1/ 6/t)))))1/ 1/t1/ 3/'(_1/ 5/nil")1/ 4/"cdr1/ 7/'(abort1/ 1/l1/ 6/(xcase1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'cdr1/ 5/'(let1/ 6/h)))))1/ 1/_1/ 3/'(h1/ 5/nil")1/ 4/"car1/ 7/'(abort1/ 1/l1/ 6/(xcase1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'car1/ X
!192=M170:5/20)))M168:5/(listM166:7/'(lets_M164:5/x))))M162:1/xM160:2/(+d158,157:M154:3/'(xd148,139:M132:6/'lets_d130,1:X
!190=M28:4/7)))i27,2:2/201/ M22:7/y))))))i15,10:3/'(y1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ X
!180=M40:3/1))d38,31:M28:3/'(+M26:2/20M24:2/'xd22,1:X
!102=M10:10/t)))))))))i9,8:4/(car1/ 1/h1/ 6/'(plus1/ 7/y))))))1/ M6:2/(+M4:6/fnarg_M2:3/'(yi1,22:6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(x1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 5/'plus1/ i0,180:1/ 1/t1/ 3/'(h1/ 7/'no-nil1/ 2/3)1/ 2/701/ 5/(list1/ 7/'(xcase1/ 7/l))))))1/ 1/f1/ 3/map1/ 4/(map1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(f1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'map1/ 5/'(let1/ 12/t)))))))))))1/ 1/f1/ 4/self1/ 5/(self1/ 2/h)1/ 2/(f1/ 5/(cons1/ 1/t1/ 3/'(h1/ 4/''()1/ 1/l1/ 6/(xcase1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(f1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 6/'(self1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'map1/ 5/'(let1/ 6/t)))))1/ 1/t1/ 3/'(_1/ 5/nil")1/ 4/"cdr1/ 7/'(abort1/ 1/l1/ 6/(xcase1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'cdr1/ 5/'(let1/ 6/h)))))1/ 1/_1/ 3/'(h1/ 5/nil")1/ 4/"car1/ 7/'(abort1/ 1/l1/ 6/(xcase1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'car1/ 4/(letX
!98=M220:6/300)))M218:3/200M216:3/100d214,169:M166:6/'(tcard164,33:M24:5/"tcarM2:5/'tcarX
!94=M28:2/(hM22:6/(abortX
!92=M42:10/t)))))))))M40:4/(carM38:1/hi37,46:6/'(plus1/ 7/y))))))1/ 1/x1/ 2/(+1/ 6/fnarg_1/ 3/'(y1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(x1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 5/'plus1/ 4/(let1/ 1/t1/ 3/'(h1/ 7/'no-nil1/ 2/3)1/ 2/701/ M34:7/'(xcasei33,132:7/l))))))1/ 1/f1/ 3/map1/ 4/(map1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(f1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'map1/ 5/'(let1/ 12/t)))))))))))1/ 1/f1/ 4/self1/ 5/(self1/ 2/h)1/ 2/(f1/ 5/(cons1/ 1/t1/ 2/(h1/ 3/nil1/ 1/l1/ 6/(xcase1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 3/'(f1/ 6/'noarg1/ 6/fnarg_1/ 6/(xcase1/ 6/fnarg_1/ 6/'(self1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'map1/ 5/'(let1/ 6/t)))))1/ 1/t1/ 2/(_1/ 5/nil")1/ 4/"cdr1/ 6/(abort1/ 1/l1/ 6/(xcase1/ 6/fnarg_1/ 3/'(l1/ 6/'noarg1/ 6/fnarg_1/ 7/'(xcase1/ 7/'fnarg_1/ 7/(lambda1/ 4/'cdr1/ 5/'(let1/ M24:4/"carM2:4/'carX
!73=M220:5/3))))d218,217:M178:1/_M172:3/70)d170,169:d166,149:d147,0:X
!71=M50:5/t))))M10:1/tM4:2/3)i3,2:2/701/ X
!62=M52:3/2))M50:2/40d13,0:X
!60=M38:9/z))))))))M36:1/yM34:1/xM32:2/(+M30:6/fnarg_M28:3/'(zi27,2:6/'noarg1/ i25,4:6/(xcase1/ 6/fnarg_1/ d3,0:X
!55=M40:6/lambdad39,0:X
!52=M0:12/"Failure!"))i0,10:1/ 9/'(reverse1/ 7/world!"1/ 8/'"Hello,1/ 1/x1/ 3/(ifX
!47=X
!45=M10:1/0d9,0:X

test.b 54 8/"lambda"

test.page 288 203/(let '__metadata '(("ip" "128.2.203.136") ("time" "Fri, 02 Mar 2007 10:20:42 EST")) '"Here's a test of pages. I should be able to [[link]] articles.\nThat includes pages that exist, like [[main-go.w]].")
!282=M18:8/10:16:37X
!278=M18:8/10:15:25X
!274=M18:8/10:13:10X
!271=M18:8/10:11:39X
!268=M18:8/10:09:17X

test.w 464 11532/(let '__metadata '(("ip" "66.167.250.123") ("time" "Sun, 11 Mar 2007 16:20:31 EST") ("summary" "")) '"(include \"stdlib\"\n(let prog \"(+ 1 2)\"\n\n;; XXX to stdlib\n(let nth\n  (fn (self n l)\n      (if (eq n 0) (car l)\n        (nth nth (- n 1) (cdr l))))\n\n(fun translate (exp)\n       ; what kind of expression is it?\n       (xcase exp\n         exp ; empty list\n         (h t  ; nonempty list\n               ; need to case analyze which prim this is\n               ; in essence \n\n             (xcase h\n                    ; it has to be a symbol, or something's wrong\n                    ; (note, this excludes in place lambda application..)\n                    no no no no no\n                    (theprim \n\t\t     (cond\n                      ((eq theprim \"defs\")\n                        ; t: list of pairs\n                        (map (fn (d_arg)\n                                 (list (car d_arg) (translate (car (cdr d_arg))))) t))\n\n\t\t      ((eq theprim \"cond\")\n \t \t        ; t: list of conditions\n\t\t\t; we do a macro expansion (to chained ifs) \n\t\t\t; and recurse on that result\n\t\t\t(translate\n\t\t\t     (foldr (fn (c rest) \n\t\t\t\t\t(xcase c\n\t\t\t\t\t       (abort \"empty condition in cond?\")\n\t\t\t\t\t       (thecond thiscase\n\t\t\t\t\t\t (list (parse \"if\")\n\t\t\t\t\t\t       thecond\n\t\t\t\t\t\t       (car thiscase)\n\t\t\t\t\t\t       rest))\n\t\t\t\t\t       ) ; xcase\n\t\t\t\t\t)\n\t\t\t              ;; if all fail, then we return nil\n\t\t\t              (parse \"nil\")\n\t\t\t\t      t)))\n\n                      ((eq theprim \"include\")\n                        ; t: \"page\" body\n                        (let meta_lib (head (string \"w:\" (car t)))\n                        ; assume it has metadata, and skip it\n                        (let lib (xcase (car (cdr (cdr (cdr meta_lib))))\n                                   no (_ _ no) (q q))\n                        (let bod (translate (car (cdr t)))\n                        (let bindlib (fn (bl_self l) \n                                      (xcase l\n                                        bod ;; no more bindings...\n                                        (thedef rest\n                                           (list (parse \"let\")\n                                                 (quote (car thedef))\n                                                 (car (cdr thedef))\n                                                 (quote (bl_self bl_self rest))\n                                            )\n                                       )))\n                           (bindlib bindlib lib)\n                         )))))\n\n                     ((eq theprim \"lambda\")\n                         ; t: arg body\n                         (cons h\n                               (cons (quote (translate (car t)))\n                                     (cons (quote (translate (car (cdr t))))\n                                           nil))))\n\n                     ((eq theprim \"if\")\n                         ; t: cond tbod fbod\n                         (list h (translate (car t))\n                                 (quote (translate (car (cdr t))))\n                                 (quote (translate (car (cdr (cdr t)))))))\n\n                     ((eq theprim \"handle\")\n                         ; t: try catch\n                         (list h (quote (translate (car t)))\n                                 (quote (translate (car (cdr t))))))\n\n                     ((eq theprim \"let\")\n                         ; t: sym value body\n                         (list h (quote (car t))\n                                 (translate (car (cdr t)))\n                                 (quote (translate (car (cdr (cdr t)))))))\n\n\t\t     ((eq theprim \"fun\")\n\t\t      ; f1 (x1 x2 .. xn) body1\n\t\t      ; f2 (y1 y2 .. yk) body2\n\t\t      ; etc.\n                      ; allbody\n\n\t\t      ; becomes\n\t\t      ; let f1rec (fn (f1rec f2rec .. fmrec x1 .. xn) \n\t\t      ;             (let f1 (fn (x1 ... xn) (f1rec f1rec f2rec .. fmrec x1 ... xn))\n\t\t      ;             (let f2 (fn (y1 ... yk) (f2rec f1rec f2rec .. fmrec y1 ... yk))\n\t\t      ;               body1\n\t\t      ; let f2rec ...\n                      ; let f1 (fn (x1 ... xn) (f1rec f1rec f2rec .. fmrec x1 ... xn))\n\t\t      ; let f2 (fn (y1 ... yk) (f2rec f1rec f2rec .. fmrec y1 ... yk))\n\t\t      ; allbody\n\t\t      \n\t\t      ;; start by getting the list of fundecs (triples of f,args,body)\n\t\t      ;; and the allbody\n\n\t\t      (let decsbody\n\t\t\t(let getdb (fn (self l)\n\t\t\t\t       (xcase l\n\t\t\t\t\t  (abort \"fun: expected f (args) body or allbody\")\n\t\t\t\t\t  (onemaybe rest\n\t\t\t\t\t    (xcase rest\n\t\t\t\t\t       ; if empty, then this is the allbody\n\t\t\t\t\t       (list nil onemaybe)\n\t\t\t\t\t       (two rest\n\t\t\t\t\t\t (xcase rest\n\t\t\t\t\t\t    (abort \"fun: expected f (args) body\")\n\t\t\t\t\t\t    (three rest\n\t\t\t\t\t\t       ;; insist that onemaybe is a symbol\n\t\t\t\t\t\t       (let one\n\t\t\t\t\t\t\t (xcase onemaybe\n\t\t\t\t\t\t\t\t(abort \"fun: expected sym\")\n\t\t\t\t\t\t\t\t(_ _ (abort \"fun: expected sym\"))\n\t\t\t\t\t\t\t\t(_ (abort \"fun: expected sym\"))\n\t\t\t\t\t\t\t\tno no\n\t\t\t\t\t\t\t\t(sym sym))\n\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t(let grest (translate rest)\n\t\t\t\t\t\t\t(let fs (car grest)\n\t\t\t\t\t\t\t(let allbody (car (cdr grest))\n\t\t\t\t\t\t\t(list (cons (list one two three) fs)\n\t\t\t\t\t\t\t      allbody))))))))))\n\t\t\t\t\t  ) ; xcase on list\n\t\t\t\t       )\n\t\t\t     (getdb getdb t))\n\t\t      (let decs (car decsbody)\n\t\t      (let body (car (cdr decsbody))\n\n\n                      ; let f1 (fn (x1 ... xn) (f1rec f1rec f2rec .. fmrec x1 ... xn))\n\t\t      ;; for one fn, as below\n\t\t      (let wrapdec (fn (decl rest)\n\t\t\t\t       (let f (car decl)\n\t\t\t\t       (let frec (string f \"rec\")\n\t\t\t\t       (let args (car (cdr decl))\n\t\t\t\t       (let bod (car (cdr (cdr decl)))\n\t\t\t\t       (list\n\t\t\t\t\t(parse \"let\")\n\t\t\t\t\t(parse f)\n\t\t\t\t\t(list\n\t\t\t\t\t (parse \"fn\")\n\t\t\t\t\t args\n\t\t\t\t\t ; apply frec to selves, args\n\t\t\t\t\t (cons\n\t\t\t\t\t  (parse frec)\n\t\t\t\t\t  (@\n\t\t\t\t\t   (map (fn (decl)\n\t\t\t\t\t\t    (parse (string (car decl) \"rec\"))) decs)\n\t\t\t\t\t   args))\n\t\t\t\t\t )\n\t\t\t\t\trest))))))\n\n\t\t      ;; given some body,\n\t\t      ;; wrap the body with the lets for f1..fn\n\t\t      ;; that do not need the \"self\" arguments,\n\t\t      ;; assuming decs in scope of f1rec..fnrec\n\t\t      (let wrapdecs (fn (bod) (foldr wrapdec bod decs))\n\n\t\t      ;; the outer bindings, for one f\n\n\t\t      ; let f1rec (fn (f1rec f2rec .. fmrec x1 .. xn) \n\t\t      ;             (let f1 (fn (x1 ... xn) (f1rec f1rec f2rec .. fmrec x1 ... xn))\n\t\t      ;             (let f2 (fn (y1 ... yk) (f2rec f1rec f2rec .. fmrec y1 ... yk))\n\t\t      ;               body1\n\n\t\t      (let binddec (fn (decl rest)\n\t\t\t\t       (let f (car decl)\n\t\t\t\t       (let frec (string f \"rec\")\n\t\t\t\t       (let args (car (cdr decl))\n\t\t\t\t       (let bod (car (cdr (cdr decl)))\n\t\t\t\t       (list\n\t\t\t\t\t(parse \"let\")\n\t\t\t\t\t(parse frec)\n\t\t\t\t\t(list\n\t\t\t\t\t (parse \"fn\")\n\t\t\t\t\t (@\n\t\t\t\t\t  ; self args\n\t\t\t\t\t  (map (fn (decl)\n\t\t\t\t\t\t   (parse (string (car decl) \"rec\"))) decs)\n\t\t\t\t\t  ; real args\n\t\t\t\t\t  args)\n\t\t\t\t\t (wrapdecs bod))\n\t\t\t\t\trest))))))\n\n\t\t      ;; and finally build the thing, then translate the output\n\t\t      (translate (foldr binddec (wrapdecs body) decs))\n\t\t\t   \n\t\t\t   ))))))\n\n\t\t      ) ; fun\n\n                     ;; (lets (h1 h2 h3 tail) exp body)\n\t\t     ((eq theprim \"lets\")\n\t\t      ; XXX gensym\n\t\t      (let argname \"letsval\"\n\t\t\t;; assuming the current tail is called \"letsval\"\n\t\t\t(fun genbinds (args)\n\t\t\t     (xcase args\n\t\t\t      ; if none, then something's wrong\n\t\t\t      (abort \"no args to lets\")\n\t\t\t      (ah at\n\t\t\t\t  ;; if this is the last arg, then\n\t\t\t\t  ;; it should be bound to letsval\n\t\t\t\t  ;; and we are done\n\t\t\t\t  (xcase at\n\t\t\t\t\t (list (parse \"let\")\n\t\t\t\t\t       ;; XX check it's a sym\n\t\t\t\t\t       ah\n\t\t\t\t\t       (parse argname)\n\t\t\t\t\t       (car (cdr (cdr t))))\n\t\t\t\t\t (_ _\n\t\t\t\t\t  ;; otherwise we bind this arg\n\t\t\t\t\t  ;; and continue...\n\t\t\t\t\t    (list (parse \"xcase\")\n\t\t\t\t\t\t  (parse argname)\n\t\t\t\t\t\t  (parse \"lets-nil\")\n\t\t\t\t\t\t  (list ah\n\t\t\t\t\t\t\t(parse argname)\n\t\t\t\t\t\t\t(genbinds at)))))))\n\t\t\t  (translate\n\t\t\t   (list (parse \"let\")\n\t\t\t\t (parse argname)\n\t\t\t\t (car (cdr t))\n\t\t\t\t (genbinds (car t))))\n\t\t\t  )))\n\t\t      \n                     ;; (fn (arg1 arg2 ... argn) body)\n                     ((eq theprim \"fn\")\n                         ; t args body\n                         ; XXX need gensym\n                         (let argname \"fnarg_\"\n                           (let genargs\n                             (fn (ga_self l bod) \n                               (xcase l\n                                ; no more args...\n                                (translate bod)\n                                ; one arg ...\n                                (thisarg rest\n                                  (list (parse \"xcase\")\n                                     ; argument tail always rebound as the same thing (argname)\n                                     (parse argname)\n                                     ; no more actual args? oops!\n                                     (quote (parse \"noarg\")) ;; XXX abort?\n                                     ; otherwise, bind this arg and recurse\n                                     (quote (list thisarg (parse argname) (ga_self ga_self rest bod))))\n                                  )\n                                 ) ; xcase on remaining arguments\n                                )\n\n                            ; XXX could use 'symbol' constructor\n                           (list (parse \"lambda\")\n                                 (quote (parse argname))\n                                 ;; bind args and then exec body...\n                                 (quote (genargs genargs (car t) (car (cdr t))))))))\n\n                      ((eq theprim \"xcase\")\n                         ; t: ob nb lb qb sb ib yb\n                         (xcase t\n                              (abort \"no args to xcase?\")\n                              (ob cases\n                                (cons h (cons (translate ob)\n                                  ;; quotes all arguments; allows any number of them\n                                  (map (fn (x) (quote (translate x))) cases))))))\n\n\t\t      (1 \n                       ;; otherwise, assume it is eager...\n                       (cons h\n                             (map translate t)))\n\t\t       )\n                   ))\n             ) ; nonempty list\n\n          (q (abort \"quote not allowed in W\"))\n\n          exp ; string\n          exp ; int\n          (s \n            ; some symbols we'll macro-expand\n            (if (eq s \"nil\")\n                (quote nil)\n\n              exp))\n          (abort (string \"huh? the expression is a closure or primitive or something?\" exp))\n           )\n\n  ;; then translate it.\n  (translate (parse prog))\n\n))))\n")
!462=M18:8/14:34:36X
!460=M36:8/2)\n\n;;M32:6/\"+\")i31,4:6/(parse1/ 5/(list1/ M26:12/'"\n(includeM18:8/14:32:44X
!458=i2233,62:7/now..\n1/ 3/way1/ 1/;14/              18/\"higher-order\"\n1/ 1/a1/ 2/in1/ 4/used1/ 2/be1/ 6/cannot1/ 5/those1/ 7/because1/ 1/;14/              8/xcase)\n1/ 7/lambda,1/ 3/if,1/ 5/(let,1/ 1/;14/              14/macro-expand\n1/ 2/we1/ 4/that1/ 5/prims1/ 2/on1/ 4/fail1/ 5/could1/ 1/;14/              10/alone...\n1/ 5/leave1/ 5/we'll1/ 4/rest1/ 3/the1/ 1/;14/              M40:12/(prog)\n\n;;M38:15/\"stdlib\"\n(fnM36:18/(DONE)\n\n(includei36,2:6/      9/constructM34:4/letsM32:9/(DONE)\n;i32,2:7/       9/constructM30:3/funM28:9/(DONE)\n;i28,2:6/      9/constructM26:4/condi25,124:9/(DONE)\n;1/ 12/auto-quoting1/ 6/handle1/ 9/(DONE)\n;3/   9/construct1/ 7/include1/ 9/(DONE)\n;8/        9/construct1/ 2/fn1/ 9/(DONE)\n;2/  12/auto-quoting1/ 5/xcase1/ 9/(DONE)\n;7/       3/nil1/ 9/implement1/ 9/(DONE)\n;1/ 12/auto-quoting1/ 6/lambda1/ 9/(DONE)\n;5/     12/auto-quoting1/ 2/if1/ 9/(DONE)\n;4/    12/auto-quoting1/ 3/let1/ 7/yet)\n;1/ 6/needed1/ 4/(not1/ 5/progn1/ 13/implement:\n;1/ 2/to1/ 8/features1/ 13/syntax).\n\n;1/ 8/abstract1/ 4/same1/ 3/the1/ 3/use1/ 4/both1/ 4/they1/ 4/(and1/ 5/need.1/ 5/we\n;1/ 8/features1/ 3/the1/ 2/of1/ 4/most1/ 8/supports1/ 8/language1/ 1/B1/ 6/the\n;1/ 11/desugaring:1/ 4/just1/ 6/mostly1/ 2/is1/ 12/\"compiler\"1/ 4/this1/ 13/compiler\n\n;1/ 1/W1/ 13/bootstrapping1/ 6/-*-\n;1/ 4/lisp1/ 3/-*-27/                           3/'";1/ M18:8/14:30:03X
!456=M2468:9/6))\n\n")M2466:1/5M2464:1/4d2463,2462:M2460:4/(twoM2459:3/   M2458:9/c))\n;\n;d2456,2441:M2438:1/bM2436:4/(oned2434,2417:M2414:2/0)M2412:1/cd2410,2355:d2351,2350:M2348:2/c)M2346:1/bM2344:2/(aM2342:3/twod2341,1772:M1770:6/1))\n;M1768:1/zM1766:2/(-M1764:1/yM1762:2/y)M1760:1/xM1758:2/(+M1756:4/(twoM1754:2/z)M1752:1/yM1750:2/(xd1748,1489:M1486:4/(funM1484:7/2)\n\n;M1482:1/1M1480:2/(+M1478:10/0)\n)\n\n;d1477,1476:d1474,1193:d1191,1084:M1082:4/f)\nM1080:1/eM1078:1/dM1076:1/cM1074:2/b)d1072,555:M550:1/ad549,548:M546:3/expd544,539:d537,488:d486,217:M212:18/sandbox.\n\n\n(funM210:7/testingd208,57:M54:1/WM52:3/thed50,45:M42:4/ThisM40:4/'";;M38:7/bug?"))M36:3/funM34:5/"testd32,23:M18:8/14:27:36X
!446=M72:11/rest))\n\n;M70:2/b)d69,68:M66:1/aM64:2/(+M62:5/(listM61:2/  M60:4/3)\nM58:1/2M56:1/1M54:5/(listM52:5/rest)M50:1/bd49,48:M46:2/(aM44:17/sandbox.\n\n(letsM28:7/rest"))d26,25:M18:8/18:26:52M12:2/09M10:5/"Fri,X
!444=M66:8/b))\n\n;d64,63:d59,58:M56:4/2)\nd54,53:M48:2/_)M26:7/lets"))M18:8/18:26:24X
!441=M18:8/18:25:16X
!438=M18:8/18:23:33X
!435=M18:8/17:59:21X
!434=M18:8/17:57:33X
!432=M62:9/b))\n\n(+d60,59:M54:5/2)\n;M42:18/sandbox.\n\n;(letsM18:8/17:57:05X
!431=M64:10/b))\n\n\n;d62,59:M54:4/2)\nM42:17/sandbox.\n\n(letsM18:8/17:56:43X
!423=M120:18/\"Failure!\"))\n")i119,28:8/(reverse3/   11/world!\"\n;1/ 8/\"Hello,3/   4/x\n;1/ 3/(if1/ 8/z))\n\n;1/ 1/y1/ 1/x1/ 2/(+1/ 2/z)1/ 1/y1/ 2/(x1/ 3/(fn1/ 8/6))\n\n;1/ M112:7/c))\n\nM86:5/1))\nM62:8/\n\n(funM60:8/300))\n;M58:3/200M56:3/100M55:1/ M54:5/(listM52:5/(tcari52,2:3/   7/h)))\n;M50:1/_M48:2/(hM46:6/nil\")M44:6/\"tcarM42:6/(aborti41,14:1/l1/ 6/(xcase1/ 3/(l)1/ 3/(fn1/ 4/tcar1/ 4/(let1/ 13/sandbox.\n\n;1/ M26:12/recursion"))M24:6/mutuali23,2:8/"testing1/ M18:8/17:01:12X
!421=M130:9/c))\n;\n;M104:6/1))\n;i81,30:14/5)\n)\n\n;(fun1/ 6/(sfact2/  7/1))))\n1/ 1/x1/ 2/(-1/ 6/(sfact1/ 1/x1/ 2/(+1/ 1/11/ 2/0)1/ 1/x1/ 3/(eq1/ 3/(if1/ 3/(x)1/ 5/sfact1/ M26:6/actualM24:4/"tryM18:8/16:59:39X
!419=M110:13/333)\n\n;(fund109,108:M106:5/999\nd104,85:M82:3/oneM28:13/"recompile"))d26,23:M18:8/16:58:34X
!415=M40:13/symbols!\n\n;M38:9/undefinedM36:2/toM34:3/dueM32:3/runM30:5/can'tM28:4/thisi27,8:2/--1/ 4/test1/ 1/a1/ 4/just1/ M24:6/fun"))i23,6:2/of1/ 4/test1/ 8/"simpler1/ M18:8/16:52:01X
!412=M148:7/c))\n\nM122:5/1))\nd98,91:M28:3/outM26:5/"testd24,23:M18:8/17:45:50M12:2/08M10:5/"Thu,M6:12/"127.0.0.1")X
!411=M112:4/1)\nM18:8/17:13:44X
!395=M146:6/)\n\n;M144:10/\"right\")M142:6/\"a\")M140:5/\"a\"d139,138:M136:4/((eqM135:3/   M134:10/wrong\")\nM132:7/\"stillM130:4/(nilM129:3/   M128:12/\"wrong\")\nM126:4/(nilM125:3/   M124:14/)\n\n\n(cond\nd122,87:M28:7/test"))M26:3/badM24:5/"heh,M18:8/09:43:30X
!393=M104:6/\"b\")M28:7/cond"))M26:5/"testd24,23:M18:8/09:42:31X
!363=M106:7/2)\n\n;M104:1/1M102:9/)\n\n\n(+d100,85:M26:11/compiler"))i25,4:13/bootstrapping1/ 3/new1/ M18:8/16:26:34M12:2/07M10:5/"Wed,X
!319=M94:6/)\n\n;M92:5/0\n\nM90:14/\"stdlib\"\n\ni89,2:15/)\n\n\n(include1/ M30:6/EST"))M28:8/14:43:58d26,17:M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!316=M18:8/14:41:52X
!313=M18:8/14:40:16X
!310=M18:8/14:26:09X
!307=M18:8/14:24:38X
!305=M84:6/)\n\n;i83,8:1/21/ 1/11/ 1/+1/ 1/(1/ M80:16/)\n\n\n;(includeM18:8/14:24:28X
!304=M92:5/)\n\nM80:15/)\n\n\n(includeM18:8/14:22:16X
!199=M122:17/\"Failure!\"))\n"M82:6/;)\n\ni82,2:2/  4/x)\ni81,34:1/x1/ 2/(+3/   1/;1/ 5/20)\n1/ 5/(list1/ 3/(x)1/ 5/(lets1/ 10/7))\n\n\n;1/ 2/901/ 5/(list1/ 3/y))1/ 1/x1/ 2/(+1/ 2/y)1/ 2/(x1/ 4/((fn1/ 15/\"stdlib\"\n\n;1/ M22:3/";;d21,0:X
!196=X
!191=M107:2/  M106:6/)\n\n;d105,96:M89:4/    d88,87:M78:9/7))\n\n\nM58:8/(includei57,2:8/)\n\n\n;1/ X
!189=M94:4/y)\nM88:4/7)\ni87,2:2/201/ M84:2/y)i83,2:2/(x1/ X
!186=M98:5/y)\n;M92:5/7)\n;M80:10/7))\n\n\n;M64:18/\"stdlib\"\n\n((fnd62,61:X
!185=M98:4/)\n;M96:4/y)\nM90:4/7)\nM78:12/\"stdlib\"\nd76,61:X
!182=X
!181=M72:3/(20d70,69:X
!179=M78:4/1)\nM72:4/20\nM70:1/xM68:4/(letd66,63:X
!176=X
!175=M77:1/ M76:3/)\nM60:15/)\n\n\n(included58,57:X
!174=M72:4/y)\nM66:4/3)\nM64:3/270M62:5/(listi61,6:2/y)1/ 2/(x1/ 5/(lets1/ X
!101=M82:14/t)))))\n)\n\n;M80:4/(carM79:1/ M78:1/hi77,4:5/(plus10/          5/y))\n1/ i74,14:1/ 2/y)1/ 2/(x1/ 3/(fn1/ 4/plus1/ 4/(let1/ 1/t1/ 2/(hi73,2:8/no-nil\n4/    M70:2/70M66:6/(xcased64,61:X
!97=M98:15/t)))))\n;)\n\n;M90:6/y))\n;M70:9/no-nil\n;M68:5/3)\n;M60:13/\"stdlib\"\n;M58:23/300))\n)\n\n\n;(included56,55:M47:2/  M46:6/h)))\nM24:16/symbols!\n\n(letd22,21:X
!93=X
!91=M94:14/t)))))\n)\n\n;M86:5/y))\nM66:8/no-nil\nM64:4/3)\nM56:12/\"stdlib\"\nM54:20/symbols!\n\n(included52,21:X
!82=X
!72=M62:10/3))))\n\n;d60,59:M55:9/         M38:1/_M35:3/   M33:3/   M32:5/70)\nd30,29:M26:18/symbols!\n\n(xcased24,21:X
!70=M54:10/t))))\n\n;M32:1/tM26:4/3)\ni25,2:2/701/ X
!69=M51:10/          M32:3/'(hM30:9/'no-nil\nX
!66=X
!65=M56:9/t)))\n\n;X
!61=M56:8/2))\n\n;M54:2/40M51:2/  M36:16/symbols!\n\n(letd34,21:X
!59=M44:15/symbols!\n\n(fnd42,21:X
!56=X
!53=X
!51=M44:10/world!\"\nM40:3/x\nM36:12/symbols!\n\nd34,21:X
!46=X
!44=M30:11/world!\"\n;M26:4/x\n;M22:15/first\n\n0\n\n;i21,10:4/test1/ 7/simpler1/ 1/a1/ 7/perhaps1/ 14/symbols!\n\n;;1/ X
!41=X
!38=X
!37=X
!34=X
!31=X
!28=X
!25=X
!24=M41:2/  M40:10/world!\"\nM37:2/  M36:3/x\nM34:15/symbols!\n\n(ifd32,21:M0:5/"\n;;X

testpage 252 202/(let '__metadata '(("ip" "128.2.203.136") ("time" "Thu, 01 Mar 2007 17:37:11 EST")) '"Hello, this is my page. I can just stick whatever I want here. Let's refresh the metadata. Let's add the time too.")
!225=M64:11/metadata.")d62,61:d58,51:M20:17/"128.2.203.136"))d18,5:X
!214=M40:7/here.")d38,31:M4:6/(("ip"X
!211=M2:13/'"__metadata"M0:6/("let"X

w%3Acompile 443 6596/(let '__metadata '(("ip" "66.167.250.123") ("time" "Fri, 09 Mar 2007 18:26:11 EST") ("source" "w:compile.w") ("summary" "call function, don't return it")) '(let 'car (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "car nil") '(h _ h))))) '(let 'cdr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "cdr nil") '(_ t t))))) '(let 'map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l ''() '(h t (cons (f h) (self self f t))))))))))) '(let 'map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (map map f l)))))) '(let 'foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(b fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l 'b '(h t (f h (self self f b t))))))))))))) '(let 'foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(b fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (foldr foldr f b l)))))))) '(let '@ (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(l1 fnarg_ (xcase fnarg_ 'noarg '(l2 fnarg_ (xcase l1 'l2 '(h t (cons h (self self t l2))))))))))) '(let '@ (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l1 fnarg_ (xcase fnarg_ 'noarg '(l2 fnarg_ (@ @ l1 l2)))))) '(let 'linkup (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (xcase fnarg_ 'noarg '(text fnarg_ (let 'exists (handle '(let '_ (head s) '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/" s "\">" text "</a>"))))))) '(lambda 'fnarg_ '(xcase fnarg_ 'noarg '(prog fnarg_ (let 'nth (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(n fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (if (eq n 0) '(car l) '(nth nth (- n 1) (cdr l)))))))))) '(let 'translate (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(exp fnarg_ (xcase exp 'exp '(h t (xcase h 'no 'no 'no 'no 'no '(theprim (if (eq theprim "defs") '(map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(d_arg fnarg_ (list (car d_arg) (self self (car (cdr d_arg))))))) t) '(if (eq theprim "cond") '(self self (foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(c fnarg_ (xcase fnarg_ 'noarg '(rest fnarg_ (xcase c '(abort "empty condition in cond?") '(thecond thiscase (list (parse "if") thecond (car thiscase) rest)))))))) (parse "nil") t)) '(if (eq theprim "include") '(let 'meta_lib (head (string "w:" (car t))) '(let 'lib (xcase (car (cdr (cdr (cdr meta_lib)))) 'no '(_ _ no) '(q q)) '(let 'bod (self self (car (cdr t))) '(let 'bindlib (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(bl_self fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l 'bod '(thedef rest (list (parse "let") (quote (car thedef)) (car (cdr thedef)) (quote (bl_self bl_self rest)))))))))) '(bindlib bindlib lib))))) '(if (eq theprim "lambda") '(cons h (cons (quote (self self (car t))) (cons (quote (self self (car (cdr t)))) '()))) '(if (eq theprim "if") '(list h (self self (car t)) (quote (self self (car (cdr t)))) (quote (self self (car (cdr (cdr t)))))) '(if (eq theprim "handle") '(list h (quote (self self (car t))) (quote (self self (car (cdr t))))) '(if (eq theprim "let") '(list h (quote (car t)) (self self (car (cdr t))) (quote (self self (car (cdr (cdr t)))))) '(if (eq theprim "fun") '(let 'decsbody (let 'getdb (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "fun: expected f (args) body or allbody") '(onemaybe rest (xcase rest '(list '() onemaybe) '(two rest (xcase rest '(abort "fun: expected f (args) body") '(three rest (let 'one (xcase onemaybe '(abort "fun: expected sym") '(_ _ (abort "fun: expected sym")) '(_ (abort "fun: expected sym")) 'no 'no '(sym sym)) '(let 'grest (self self rest) '(let 'fs (car grest) '(let 'allbody (car (cdr grest)) '(list (cons (list one two three) fs) allbody)))))))))))))))) '(getdb getdb t)) '(let 'decs (car decsbody) '(let 'body (car (cdr decsbody)) '(let 'wrapdec (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(decl fnarg_ (xcase fnarg_ 'noarg '(rest fnarg_ (let 'f (car decl) '(let 'frec (string f "rec") '(let 'args (car (cdr decl)) '(let 'bod (car (cdr (cdr decl))) '(list (parse "let") (parse f) (list (parse "fn") args (cons (parse frec) (@ (map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(decl fnarg_ (parse (string (car decl) "rec"))))) decs) args))) rest)))))))))) '(let 'wrapdecs (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(bod fnarg_ (foldr wrapdec bod decs)))) '(let 'binddec (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(decl fnarg_ (xcase fnarg_ 'noarg '(rest fnarg_ (let 'f (car decl) '(let 'frec (string f "rec") '(let 'args (car (cdr decl)) '(let 'bod (car (cdr (cdr decl))) '(list (parse "let") (parse frec) (list (parse "fn") (@ (map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(decl fnarg_ (parse (string (car decl) "rec"))))) decs) args) (wrapdecs bod)) rest)))))))))) '(self self (foldr binddec (wrapdecs body) decs)))))))) '(if (eq theprim "lets") '(let 'argname "letsval" '(let 'genbindsrec (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(genbindsrec fnarg_ (xcase fnarg_ 'noarg '(args fnarg_ (let 'genbinds (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(args fnarg_ (genbindsrec genbindsrec args)))) '(xcase args '(abort "no args to lets") '(ah at (xcase at '(list (parse "let") ah (parse argname) (car (cdr (cdr t)))) '(_ _ (list (parse "xcase") (parse argname) (parse "lets-nil") (list ah (parse argname) (genbinds at))))))))))))) '(let 'genbinds (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(args fnarg_ (genbindsrec genbindsrec args)))) '(self self (list (parse "let") (parse argname) (car (cdr t)) (genbinds (car t))))))) '(if (eq theprim "fn") '(let 'argname "fnarg_" '(let 'genargs (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(ga_self fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase fnarg_ 'noarg '(bod fnarg_ (xcase l '(self self bod) '(thisarg rest (list (parse "xcase") (parse argname) (quote (parse "noarg")) (quote (list thisarg (parse argname) (ga_self ga_self rest bod))))))))))))) '(list (parse "lambda") (quote (parse argname)) (quote (genargs genargs (car t) (car (cdr t))))))) '(if (eq theprim "xcase") '(xcase t '(abort "no args to xcase?") '(ob cases (cons h (cons (self self ob) (map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(x fnarg_ (quote (self self x))))) cases))))) '(if 1 '(cons h (map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(x fnarg_ (self self x)))) t)) ''()))))))))))))))) '(q (abort "quote not allowed in W")) 'exp 'exp '(s (if (eq s "nil") '(quote '()) 'exp)) '(abort (string "huh? the expression is a closure or primitive or something?" exp)))))))) '(translate translate (parse prog)))))))))))))))))
!440=M1726:7/t))))))M1722:8/genbindsM36:7/that"))M34:3/forM32:5/placeM30:6/"wrongd28,27:M18:8/18:25:02X
!437=M2010:12/'exp))))))))d2008,1983:M34:12/reporting"))M32:5/errorM30:7/"betterd28,27:M18:8/18:23:22X
!430=M32:7/lets"))M30:2/atM28:5/"stabM18:8/17:55:28X
!418=M1948:18/''()))))))))))))))d1722,1535:M32:7/etc."))M30:3/fn,M28:4/usesi27,18:2/it1/ 5/since1/ 5/pass,1/ 3/fun1/ 2/of1/ 6/output1/ 3/the1/ 9/translate1/ 5/"need1/ M18:8/16:58:06X
!414=M1552:11/decs)))))))M1544:7/'(foldrd1542,1539:M50:6/arg"))M48:4/selfM46:6/"needsd44,27:M18:8/16:51:07X
!410=d1226,1225:M32:10/bugs..."))M30:4/haveM28:2/toi27,6:6/likely1/ 4/fun;1/ 10/"implement1/ M18:8/17:05:32M12:2/08M10:5/"Thu,M6:12/"127.0.0.1")X
!402=M1802:19/prog)))))))))))))))M1760:17/''())))))))))))))d1534,1041:d420,325:M38:9/point?"))M36:6/"fixedd34,27:M18:8/09:48:09X
!400=M18:8/09:47:46X
!398=M30:11/compiler"))M28:2/ini27,6:4/cond1/ 3/use1/ 4/"now1/ M18:8/09:47:03X
!392=M1168:15/t))))))))))))))d1166,1165:d1138,1135:M36:8/"oops"))d34,27:M18:8/09:41:52X
!390=M630:7/thebodyd628,627:M618:7/thebodyM28:7/cond"))i27,2:8/"support1/ M18:8/09:40:30X
!368=M1196:17/prog)))))))))))))M1154:14/t)))))))))))))d638,565:d316,197:M30:8/point"))M28:5/fixedi27,6:5/reach1/ 2/to1/ 8/"attempt1/ M18:8/16:29:37M12:2/07M10:5/"Wed,X
!366=M18:8/16:28:39X
!362=M36:14/w:compile.b"))M34:4/fromM32:5/"portd30,27:M18:8/16:26:05X
!318=M1004:14/prog))))))))))d1002,1001:M996:10/'exp))))))M994:4/nil)M960:7/args)))i959,2:4/(car1/ M956:6/'(selfM954:5/'argsd952,943:i941,2:3/map1/ M932:8/args))))i931,2:4/(car1/ M926:7/'(quoteM924:5/'argsd922,913:i911,2:3/map1/ M842:13/bod))))))))))M796:7/'(xcaseM794:10/ga_args)))M792:4/(cdrM790:4/(cdrM788:4/(carM786:4/'bodM784:5/'(letM782:9/ga_args))M780:4/(cdrM778:4/(carM776:2/'lM774:5/'(letM772:8/ga_args)M770:4/(carM768:8/'ga_selfM766:5/'(letM764:8/'ga_argsM620:6/nil)))M574:12/rest))))))))M540:7/'(xcaseM538:9/bl_args))M536:4/(cdrM534:4/(carM532:2/'lM530:5/'(letM528:8/bl_args)M526:4/(carM524:8/'bl_selfM522:5/'(letM520:8/'bl_argsd518,517:M444:11/d_arg))))))M430:6/'(listM428:7/d_args)M426:4/(carM424:6/'d_argM422:5/'(letM420:7/'d_argsd418,417:i415,2:3/map1/ M380:7/'(xcaseM378:6/args))M376:4/(cdrM374:4/(carM372:4/'expM370:5/'(letM368:5/args)M366:4/(carM364:5/'selfM362:5/'(letM360:5/'argsd358,357:M350:8/l)))))))M326:4/'(ifM324:7/args)))M322:4/(cdrM320:4/(cdrM318:4/(carM316:2/'lM314:5/'(letM312:6/args))M310:4/(cdrM308:4/(carM306:2/'nM304:5/'(letM302:5/args)M300:4/(carM298:5/'selfM296:5/'(letM294:5/'argsM288:5/'(letM286:9/'nil)))))M284:4/l)))M282:4/(cdrM280:1/fM278:4/selfM276:5/(selfM274:3/l))M272:4/(carM270:2/(fM268:6/'(consM266:1/lM264:4/'(ifM262:7/args)))M260:4/(cdrM258:4/(cdrM256:4/(carM254:2/'lM252:5/'(letM250:6/args))M248:4/(cdrM246:4/(carM244:2/'fd242,235:M232:5/args)M230:4/(carM228:5/'selfd226,201:M198:5/'argsd196,169:M162:6/args))M160:4/(carM158:6/(parseM156:5/'progM154:5/'(letM152:5/'argsM150:8/'(lambdad148,101:M96:3/'(uM94:13/'werr_cdr_nilM92:3/argd90,87:M84:1/uM82:5/'(argM80:4/'nobM78:4/argsM74:5/'argsM64:1/uM60:13/'werr_car_nilM58:3/argd56,53:M50:1/uM48:5/'(argM46:4/'noaM44:4/argsM40:5/'argsM32:3/'()M30:4/'nilM28:5/'(letM26:15/"w:compile.b"))d24,23:M18:8/14:43:46M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!315=M362:9/meta_lib)M360:1/3M358:2/uhM356:3/(uhd354,353:M18:8/14:41:42X
!312=M356:3/nthM354:4/(nthM18:8/14:39:59X
!198=M864:13/prog)))))))))M454:7/lib))))d372,347:M336:4/'libd26,1:X
!194=M812:12/prog))))))))M772:15/t))))))))))))))X
!188=M812:13/prog)))))))))i565,52:6/t)))))1/ 4/(cdr1/ 4/(car1/ 8/"lets_")1/ 6/(parse1/ 5/(list1/ 5/t))))1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/t)1/ 4/(car1/ 5/"fn")1/ 6/(parse1/ 5/(list1/ 8/"lets_")1/ 6/(parse1/ 6/"let")1/ 6/(parse1/ 5/(list1/ 4/self1/ 6/'(self1/ 7/"lets")1/ 7/theprim1/ 3/(eq1/ 4/'(if1/ X
!184=M616:5/t))))d610,605:d586,579:X
!178=M582:5/(evalX
!173=M604:3/(ifM574:5/(selfX
!105=M810:14/t)))))))))))))d604,567:X
!96=M772:13/t))))))))))))d522,489:X
!88=M592:4/'bodd590,587:X
!85=M274:4/(letX
!81=M734:12/t)))))))))))d300,259:X
!68=M692:11/t))))))))))d362,259:X
!64=M566:4/t)))M536:6/'(consd534,517:X
!58=i549,12:5/t))))1/ 1/61/ 4/(nth1/ 4/self1/ 5/(self1/ 6/(quote1/ M546:1/5M544:4/(nthM538:6/(quoteM536:4/t)))M534:1/4M532:4/(nthM530:4/selfM528:5/(selfi527,8:6/(quote1/ 4/t)))1/ 1/31/ 4/(nth1/ M522:6/(quotei521,30:4/t)))1/ 1/21/ 4/(nth1/ 4/self1/ 5/(self1/ 6/(quote1/ 4/t)))1/ 1/11/ 4/(nth1/ 4/self1/ 5/(self1/ 6/(quote1/ 3/ob)1/ 4/self1/ 5/(self1/ M518:6/'(listX
!50=M468:8/thisarg)i467,2:6/(parse1/ X
!43=M622:10/t)))))))))d510,385:X
!40=M536:11/100))))))))d534,531:M150:4/(letM78:7/"uhhh")M76:6/(abortM74:2/'_d72,71:X
!36=M76:3/999d74,73:X
!33=M58:14/'error_cdr_nilM28:14/'error_car_nilX
!30=M528:12/prog))))))))M74:6/args))M72:4/(cari71,4:6/(parse1/ 5/'prog1/ X
!27=M532:13/prog)))))))))i531,4:9/translate1/ 11/'(translate1/ X
!23=d78,65:M0:5/'(leti0,14:1/ 6/args))1/ 4/(car1/ 6/(parse1/ 5/'prog1/ 5/'(let1/ 5/'args1/ 7/(lambdaX

w%3Acompile.b 369 168/(let '__metadata '(("ip" "127.0.0.1") ("time" "Wed, 07 Mar 2007 16:38:03 EST") ("summary" "this has been ported to w")) '"; this code has been replaced by w:compile.w")
!317=M50:19/100\n\n)))))\n)))")M48:2/;;i48,2:2/  7/prog)\nM46:9/translateM44:11/'(translatei44,2:2/  5/it.\ni43,932:9/translate1/ 4/then1/ 2/;;2/  8/))))\n\n15/               7/exp))\n18/                  7/now..\n1/ 3/way1/ 1/;18/                  14/higher-order\n1/ 1/a1/ 2/in1/ 4/used1/ 2/be1/ 6/cannot1/ 5/those1/ 7/because1/ 1/;18/                  8/xcase)\n1/ 7/lambda,1/ 3/if,1/ 5/(let,1/ 1/;18/                  14/macro-expand\n1/ 2/we1/ 4/that1/ 5/prims1/ 2/on1/ 4/fail1/ 5/could1/ 1/;18/                  10/alone...\n1/ 5/leave1/ 5/we'll1/ 4/rest1/ 3/the1/ 1/;18/                  5/'\n\n1/ 4/nil)1/ 6/(quote20/                    3/'\n1/ 8/\"nil\")1/ 1/s1/ 3/(eq1/ 3/(if16/                14/macro-expand\n1/ 5/we'll1/ 7/symbols1/ 4/some1/ 1/;16/                2/\n1/ 3/'(s14/              5/int\n1/ 1/;1/ 4/'exp14/              8/string\n1/ 1/;1/ 4/'exp14/              9/W\"))\n\n1/ 2/in1/ 7/allowed1/ 3/not1/ 7/\"quote1/ 6/(abort1/ 3/'(q14/              8/list\n\n1/ 8/nonempty1/ 1/;1/ 1/)17/                 6/prim\n1/ 2/of1/ 8/analysis1/ 4/case1/ 1/;1/ 10/))))))))))25/                         5/t))\n1/ 7/args)))1/ 4/(car1/ 4/self1/ 6/'(self1/ 5/'args1/ 7/(lambda1/ 3/map1/ 4/(map33/                                 3/h\n1/ 5/(cons27/                           10/eager...\n1/ 2/is1/ 2/it1/ 6/assume1/ 10/otherwise,1/ 2/;;27/                           5/'\n\n1/ 10/cases)))))1/ 8/args))))1/ 4/(car1/ 4/self1/ 5/(self1/ 7/'(quote1/ 5/'args1/ 7/(lambda1/ 3/map1/ 4/(map38/                                      6/them\n1/ 2/of1/ 6/number1/ 3/any1/ 6/allows1/ 10/arguments;1/ 3/all1/ 6/quotes1/ 2/;;38/                                      5/ob)\n1/ 4/self1/ 5/(self1/ 5/(cons1/ 1/h1/ 5/(cons36/                                    7/cases\n1/ 4/'(ob34/                                  11/xcase?\")\n1/ 2/to1/ 4/args1/ 4/\"no1/ 7/'(abort34/                                  3/t\n1/ 6/(xcase29/                             4/yb\n1/ 2/ib1/ 2/sb1/ 2/qb1/ 2/lb1/ 2/nb1/ 2/ob1/ 2/t:1/ 1/;29/                             3/'\n1/ 10/\"xcase\")1/ 7/theprim1/ 3/(eq1/ 3/(if25/                         5/'\n\n1/ 8/t)))))))1/ 4/(cdr1/ 4/(car1/ 2/t)1/ 4/(car1/ 7/genargs1/ 8/(genargs1/ 6/(quote37/                                     9/body...\n1/ 4/exec1/ 4/then1/ 3/and1/ 4/args1/ 4/bind1/ 2/;;37/                                     11/argname))\n1/ 6/(parse1/ 6/(quote37/                                     13/\"lambda\")\n1/ 6/(parse1/ 5/(list31/                               13/constructor\n1/ 8/'symbol'1/ 3/use1/ 5/could1/ 3/XXX1/ 1/;32/                                5/'\n\n1/ 1/)34/                                  6/lets\n1/ 1/;1/ 3/)))36/                                    11/arguments\n1/ 9/remaining1/ 2/on1/ 5/xcase1/ 1/;1/ 1/)37/                                     3/)\n38/                                      9/bod))))\n1/ 4/rest1/ 7/ga_self1/ 8/(ga_self1/ 8/argname)1/ 6/(parse1/ 7/thisarg1/ 5/(list1/ 6/(quote41/                                         9/recurse\n1/ 3/and1/ 3/arg1/ 4/this1/ 4/bind1/ 10/otherwise,1/ 1/;41/                                         8/abort?\n1/ 3/XXX1/ 2/;;1/ 11/\"noarg\"))1/ 6/(parse1/ 6/(quote41/                                         7/oops!\n1/ 5/args?1/ 6/actual1/ 4/more1/ 2/no1/ 1/;41/                                         10/argname)\n1/ 6/(parse41/                                         11/(argname)\n1/ 5/thing1/ 4/same1/ 3/the1/ 2/as1/ 7/rebound1/ 6/always1/ 4/tail1/ 8/argument1/ 1/;41/                                         12/\"xcase\")\n1/ 6/(parse1/ 5/(list38/                                      6/rest\n1/ 9/'(thisarg36/                                    5/...\n1/ 3/arg1/ 3/one1/ 1/;36/                                    6/bod)\n1/ 4/self1/ 6/'(self36/                                    9/args...\n1/ 4/more1/ 2/no1/ 1/;36/                                    3/l\n1/ 6/(xcase35/                                   3/'\n1/ 10/ga_args)))1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 4/'bod1/ 4/(let35/                                   3/'\n1/ 9/ga_args))1/ 4/(cdr1/ 4/(car1/ 2/'l1/ 4/(let35/                                   3/'\n1/ 8/ga_args)1/ 4/(car1/ 8/'ga_self1/ 4/(let35/                                   3/'\n1/ 8/'ga_args1/ 7/(lambda33/                                 10/'genargs\n1/ 4/(let31/                               3/'\n1/ 10/\"fnarg_\"1/ 8/'argname1/ 4/(let29/                             8/gensym\n1/ 4/need1/ 3/XXX1/ 1/;29/                             6/body\n1/ 4/args1/ 1/t1/ 1/;29/                             3/'\n1/ 7/\"fn\")1/ 7/theprim1/ 3/(eq1/ 3/(if25/                         7/body)\n1/ 5/argn)1/ 3/...1/ 4/arg21/ 5/(arg11/ 3/(fn1/ 2/;;25/                         5/'\n\n1/ 7/t))))))1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 4/self1/ 5/(self1/ 6/(quote37/                                     6/t)))\n1/ 4/(cdr1/ 4/(car1/ 4/self1/ 5/(self37/                                     5/t))\n1/ 4/(car1/ 6/(quote1/ 1/h1/ 5/(list29/                             6/body\n1/ 5/value1/ 3/sym1/ 2/t:1/ 1/;29/                             3/'\n1/ 8/\"let\")1/ 7/theprim1/ 3/(eq1/ 3/(if25/                         5/'\n\n1/ 6/t)))))1/ 4/(cdr1/ 4/(car1/ 4/self1/ 5/(self1/ 6/(quote37/                                     6/t)))\n1/ 4/(car1/ 4/self1/ 5/(self1/ 6/(quote1/ 1/h1/ 5/(list29/                             7/catch\n1/ 3/try1/ 2/t:1/ 1/;29/                             3/'\n1/ 11/\"handle\")1/ 7/theprim1/ 3/(eq1/ 3/(if25/                         5/'\n\n1/ 7/t))))))1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 4/self1/ 5/(self1/ 6/(quote37/                                     7/t))))\n1/ 4/(cdr1/ 4/(car1/ 4/self1/ 5/(self1/ 6/(quote37/                                     5/t))\n1/ 4/(car1/ 4/self1/ 5/(self1/ 1/h1/ 5/(list29/                             6/fbod\n1/ 4/tbod1/ 4/cond1/ 2/t:1/ 1/;29/                             3/'\n1/ 7/\"if\")1/ 7/theprim1/ 3/(eq1/ 3/(if25/                         3/'\n1/ 6/nil)))47/                                               7/t))))\n1/ 4/(cdr1/ 4/(car1/ 4/self1/ 5/(self1/ 6/(quote1/ 5/(cons41/                                         6/t)))\n1/ 4/(car1/ 4/self1/ 5/(self1/ 6/(quote1/ 5/(cons35/                                   3/h\n1/ 5/(cons29/                             6/body\n1/ 3/arg1/ 2/t:1/ 1/;29/                             3/'\n1/ 11/\"lambda\")1/ 7/theprim1/ 3/(eq1/ 3/(if25/                         5/'\n\n1/ 4/))))29/                             6/lib)\n1/ 7/bindlib1/ 8/(bindlib31/                               3/'\n1/ 5/)))))43/                                           3/)\n48/                                                8/rest))\n1/ 7/bl_self1/ 8/(bl_self1/ 6/(quote53/                                                     10/thedef))\n1/ 4/(cdr1/ 4/(car53/                                                     10/thedef))\n1/ 4/(car1/ 6/(quote53/                                                     10/\"let\")\n1/ 6/(parse1/ 5/(list47/                                               6/rest\n1/ 8/'(thedef44/                                            13/bindings...\n1/ 4/more1/ 2/no1/ 2/;;1/ 4/'bod44/                                            3/l\n1/ 6/(xcase42/                                          3/'\n1/ 9/bl_args))1/ 4/(cdr1/ 4/(car1/ 2/'l1/ 4/(let42/                                          3/'\n1/ 8/bl_args)1/ 4/(car1/ 8/'bl_self1/ 4/(let42/                                          3/'\n1/ 8/'bl_args1/ 7/(lambda1/ 8/'bindlib1/ 4/(let28/                            2/\n1/ 1/'1/ 4/t)))1/ 4/(cdr1/ 4/(car1/ 4/self1/ 5/(self1/ 4/'bod1/ 4/(let28/                            3/'\n1/ 3/q))1/ 3/'(q1/ 3/no)1/ 1/_1/ 3/'(_1/ 3/'no39/                                       14/meta_lib))))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 6/(xcase1/ 4/'lib1/ 4/(let28/                            4/it\n1/ 4/skip1/ 3/and1/ 9/metadata,1/ M40:2/iti39,126:6/assume1/ 1/;28/                            3/'\n1/ 4/t)))1/ 4/(car1/ 6/\"w:\"1/ 7/(string1/ 5/(head1/ 9/'meta_lib1/ 4/(let28/                            6/body\n1/ 8/\"page\"1/ 2/t:1/ 1/;28/                            3/'\n1/ 12/\"include\")1/ 7/theprim1/ 3/(eq1/ 3/(if25/                         3/'\n1/ 2/t)1/ 1/)40/                                        3/)\n40/                                        11/d_arg))))\n1/ 4/(cdr1/ 4/(car1/ 4/self1/ 5/(self1/ 6/d_arg)1/ 4/(car1/ 5/(list41/                                         3/'\n1/ 7/d_args)1/ 4/(car1/ 6/'d_arg1/ 4/(let39/                                       3/'\n1/ 7/'d_args1/ 7/(lambda1/ 3/map1/ 4/(map28/                            7/pairs\n1/ 2/of1/ 4/list1/ 2/t:1/ 1/;28/                            3/'\n1/ 9/\"defs\")1/ 7/theprim1/ 3/(eq1/ 3/(if25/                         2/\n1/ 9/'(theprim24/                        5/'no\n1/ 3/'no1/ 3/'no1/ 3/'no1/ 3/'no24/                        16/application..)\n1/ 6/lambda1/ 5/place1/ 2/in1/ 8/excludes1/ M36:6/(note,M34:1/;i34,2:24/                        7/wrong\nM32:11/something'sM30:2/orM28:7/symbol,i27,6:1/a1/ 2/be1/ 2/to1/ M24:2/itM22:1/;i22,2:24/                        3/h\nM20:6/(xcasei20,4:17/                 2/\n17/                 2/\nM18:7/essencei17,592:2/in1/ 1/;20/                    4/is\n1/ 4/this1/ 4/prim1/ 5/which1/ 7/analyze1/ 4/case1/ 2/to1/ 4/need1/ 1/;20/                    6/list\n1/ 8/nonempty1/ 1/;2/  1/t1/ 3/'(h13/             6/list\n1/ 5/empty1/ 1/;1/ 4/'exp13/             5/exp\n1/ 6/(xcase11/           5/it?\n1/ 2/is1/ 10/expression1/ 2/of1/ 4/kind1/ 4/what1/ 1/;11/           3/'\n1/ 6/args))1/ 4/(cdr1/ 4/(car1/ 4/'exp1/ 4/(let6/      3/'\n1/ 5/args)1/ 4/(car1/ 5/'self1/ 4/(let4/    3/'\n1/ 5/'args1/ 7/(lambda2/  12/'translate\n1/ 9/'\n\n(let1/ 7/args)))1/ 3/nth1/ 5/(cons1/ 4/(nth1/ 5/'args1/ 7/(lambda1/ 4/'nth1/ 11/'\n\n;;(let1/ 8/l)))))))1/ 4/(cdr1/ 2/1)1/ 1/n1/ 2/(-1/ 3/nth1/ 5/'(nth12/            4/l)\n1/ 5/'(car14/              4/0)\n1/ 1/n1/ 3/(eq1/ 3/(if10/          3/'\n1/ 7/args)))1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'l1/ 4/(let8/        3/'\n1/ 6/args))1/ 4/(cdr1/ 4/(car1/ 2/'n1/ 4/(let6/      3/'\n1/ 5/args)1/ 4/(car1/ 5/'self1/ 5/'(let3/   7/'args\n1/ 7/(lambda2/  6/'nth\n1/ 9/'\n\n(let1/ 7/args)))1/ 3/map1/ 5/(cons1/ 4/(map1/ 5/'args1/ 7/(lambda1/ 4/'map1/ 4/(let1/ 7/'\n\n;;1/ 9/'nil)))))25/                         6/l)))\n1/ 4/(cdr1/ 1/f1/ 4/self1/ 5/(self1/ 3/l))1/ 4/(car1/ 2/(f1/ 6/'(cons27/                           3/l\n1/ 4/'(if22/                      9/args)))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/'l1/ 5/'(let16/                8/args))\n1/ 4/(cdr1/ 4/(car1/ 2/'f1/ 5/'(let10/          7/args)\n1/ 4/(car1/ 5/'self1/ 5/'(let4/    7/'args\n1/ 7/(lambda2/  2/\n1/ 4/'map1/ 9/'\n\n(let1/ 3/9991/ 2/'_1/ 4/(let1/ 4/'\n;1/ 6/args))1/ 4/(car1/ 6/(parse1/ 5/'prog1/ 7/'\n(let1/ 5/'args1/ 12/'\n\n(lambda1/ 6/t)))))1/ 1/t1/ 3/'(u1/ 13/'werr_cdr_nil1/ 3/arg1/ 6/(xcase35/                                   2/\n1/ 1/u1/ 5/'(arg1/ 4/'nob1/ 4/args1/ 7/'(xcase12/            7/'args\n1/ 7/(lambda1/ 4/'cdr1/ 7/'\n(let1/ 6/h)))))1/ 1/u1/ 3/'(h1/ 13/'werr_car_nil1/ 3/arg1/ 6/(xcase35/                                   3/u\n1/ 5/'(arg1/ 4/'noa1/ 4/args1/ 7/'(xcase12/            7/'args\n1/ 7/(lambda1/ 4/'car1/ 7/'\n(let1/ 3/'()1/ 4/'nil1/ 17/language.\n\n(let1/ 10/ML-like\n;1/ 12/call-by-name1/ 1/a1/ 5/being1/ 2/as1/ 1/W1/ 2/of1/ 5/think1/ 2/to1/ 6/better1/ 6/it.\n;1/ 12/translate\n;1/ 2/to1/ 8/supposed1/ 5/we're1/ 3/how1/ 4/know1/ 5/don't1/ 2/we1/ 2/so1/ 10/evaluated,1/ 5/be\n;1/ 4/ever1/ 4/will1/ 4/that1/ 5/under1/ 6/what's1/ 2/if1/ 4/idea1/ 3/any1/ 4/have1/ 5/don't1/ 7/much\n;1/ 6/pretty1/ 2/we1/ 7/program1/ 6/source1/ 3/the1/ 2/in1/ 5/quote1/ 3/see1/ 2/we1/ 2/if1/ 9/quote?\n;1/ 9/eliminate1/ 10/completely1/ 6/should1/ 2/we1/ 5/guess1/ 1/I1/ 8/actually1/ 14/construct\n\n;1/ 4/lets1/ 9/(DONE)\n;1/ 12/auto-quoting1/ 6/handle1/ 9/(DONE)\n;3/   9/construct1/ 7/include1/ 9/(DONE)\n;8/        9/construct1/ 2/fn1/ 9/(DONE)\n;2/  12/auto-quoting1/ 5/xcase1/ 9/(DONE)\n;7/       3/nil1/ 9/implement1/ 9/(DONE)\n;1/ 12/auto-quoting1/ 6/lambda1/ 9/(DONE)\n;5/     12/auto-quoting1/ 2/if1/ 9/(DONE)\n;4/    12/auto-quoting1/ 3/let1/ 7/yet)\n;1/ 6/needed1/ 4/(not1/ 5/progn1/ 13/implement:\n;1/ 2/to1/ 8/features1/ 13/syntax).\n\n;1/ 8/abstract1/ 4/same1/ 3/the1/ 3/use1/ 4/both1/ 4/they1/ 4/(and1/ 5/need.1/ 5/we\n;1/ 8/features1/ 3/the1/ 2/of1/ 4/most1/ 8/supports1/ 8/language1/ 1/B1/ 6/the\n;1/ 11/desugaring:1/ 4/just1/ 6/mostly1/ 2/is1/ 12/\"compiler\"1/ 4/this1/ 6/B\n\n;1/ 2/in1/ 7/written1/ 2/B,1/ 2/to1/ 1/W1/ 4/from1/ 8/compiler1/ 6/-*-\n;1/ 4/lisp1/ 3/-*-27/                           3/'";1/ 6/EST"))1/ 8/14:43:461/ M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!314=M798:11/meta_lib)\nM796:1/3M794:2/uhM792:3/(uhd790,789:M18:8/14:41:42X
!311=M792:3/nthM790:4/(nthM18:8/14:39:59X
!197=M1716:18/100\n\n)))))\n)))"M918:3/)))M828:3/'\nd826,825:d808,765:M754:4/'libM22:2/";d21,0:X
!193=M1490:11/)))))))))))X
!187=i1065,116:6/t)))))1/ 4/(cdr1/ 4/(car1/ 10/\"lets_\")1/ 6/(parse1/ 5/(list31/                               6/body\n1/ 2/;;31/                               7/t))))\n1/ 4/(cdr1/ 4/(cdr1/ 4/(car1/ 2/t)1/ 4/(car1/ 7/\"fn\")1/ 6/(parse1/ 5/(list31/                               10/function\n1/ 2/;;31/                               12/\"lets_\")\n1/ 6/(parse1/ 8/\"let\")1/ 6/(parse31/                               7/(list\n30/                              6/self\n1/ 5/(self29/                             8/gensym\n1/ 3/use1/ 6/should1/ 3/XXX1/ 1/;29/                             9/thing))\n1/ 6/(lets_1/ 5/body)1/ 6/(args)1/ 3/(fn1/ 9/\"lets_\"1/ 4/(let1/ 2/on1/ 7/recurse1/ 3/and1/ 2/to1/ 7/convert1/ 1/;29/                             3/'\n1/ 9/\"lets\")1/ 7/theprim1/ 3/(eq1/ 3/(if25/                         7/body)\n1/ 5/thing1/ 3/vn)1/ 2/..1/ 2/v21/ 3/(v11/ 5/(lets1/ 2/;;25/                         5/'\n\n1/ X
!183=M1180:5/t))))d1175,1170:M1168:5/arg\nd1142,1135:M1128:8/thing)\nd1126,1115:M1110:4/((fnd1108,1105:d632,617:X
!177=M1110:5/(evalX
!172=M1136:7/t))))\nd1134,1133:M1076:11/\"lets\")\nd1074,1073:X
!104=M1556:10/))))))))))d1132,1051:M136:11/(DONE)\n\n;d134,131:X
!103=M976:5/t))\nX
!95=M1470:9/)))))))))M990:2/\nM989:35/                                   d988,955:d952,943:d131,126:X
!87=M1108:6/'bod\nd1107,1104:X
!84=M650:9/'d_args\nd648,647:X
!80=M1414:8/))))))))d682,621:X
!79=M750:4/))))X
!78=M1362:9/)))))))\nd1361,1352:X
!67=d762,621:d125,120:X
!63=M1166:4/t)))d1117,1100:X
!57=i1149,6:1/)37/                                     4/yb\n1/ 1/;1/ M1146:1/6M1144:4/(nthM1138:6/(quotei1138,2:37/                                     4/ib\nM1136:1/;M1134:4/t)))M1132:1/5M1130:4/(nthM1129:1/ M1128:4/selfM1126:5/(selfM1124:6/(quotei1124,2:37/                                     4/sb\nM1122:1/;M1120:4/t)))M1118:1/4i1117,64:4/(nth1/ 4/self1/ 5/(self1/ 6/(quote37/                                     4/qb\n1/ 1/;1/ 4/t)))1/ 1/31/ 4/(nth1/ 4/self1/ 5/(self1/ 6/(quote37/                                     4/lb\n1/ 1/;1/ 4/t)))1/ 1/21/ 4/(nth1/ 4/self1/ 5/(self1/ 6/(quote37/                                     4/nb\n1/ 1/;1/ 4/t)))1/ 1/11/ 4/(nth1/ 4/self1/ 5/(self1/ 6/(quote37/                                     9/present\n1/ 2/be1/ 2/to1/ 5/cases1/ M1114:7/requirei1113,4:9/shouldn't1/ 3/XXX1/ M1111:35/                                   d1104,1103:M1100:5/(listd119,114:X
!49=M972:8/thisarg)i971,2:6/(parse1/ X
!48=M1406:20/100\n\n)))))\n)))\n"M1387:7/       M1386:9/exp))\n\tM1385:2/  M1384:11/now..\n\t\tM1379:2/  M1378:18/higher-order\n\t\tM1361:2/  M1360:12/xcase)\n\t\tM1351:2/  M1350:18/macro-expand\n\t\tM1335:2/  M1334:14/alone...\n\t\tM1323:2/  M1322:9/'\n\n\t\tM1317:4/    M1316:7/'\n\t\tM1308:21/macro-expand\n\t\t(ifd1307,1306:M1298:7/\n\t\t;d1297,1296:M1293:6/      M1292:7/int\n\tM1287:6/      M1286:10/string\n\tM1281:6/      M1280:11/W\"))\n\n\tM1267:6/      M1266:10/list\n\n\tM1259:1/ M1258:12/))))))\n\t\tM1257:1/ M1256:11/t))\n\t\t\tM1239:1/ M1238:11/h\n\t\t\t\tM1235:3/   M1234:16/eager...\n\t\t\tM1223:3/   M1222:11/'\n\n\t\t\tM1219:5/     M1218:12/yb\n\t\t\t\tM1203:5/     M1202:12/ib\n\t\t\t\tM1187:5/     M1186:12/sb\n\t\t\t\tM1171:5/     M1170:12/qb\n\t\t\t\tM1155:5/     M1154:12/lb\n\t\t\t\tM1139:5/     M1138:12/nb\n\t\t\t\tM1123:5/     M1122:17/present\n\t\t\t\tM1105:3/   M1104:13/ob)\n\t\t\t\tM1095:5/     M1094:10/yb\n\t\t\tM1077:5/     M1076:9/'\n\t\t\td1067,1066:M1064:12/\n\n\n\t\t\tM1062:5/HERE!M1060:7/EDITINGM1058:7/STOPPEDM1057:39/                                       M1056:9/args...\nd1054,1039:M1035:34/                                  M1034:10/argname)\nd1031,1030:M763:5/     M762:14/t)))\n\t\t\t\tM753:5/     M752:13/t))\n\t\t\t\tM743:5/     M742:12/body\n\t\t\tM733:5/     M732:9/'\n\t\t\tM723:1/ M722:8/\n\t\t\tM721:3/   M720:11/'\n\t\t\t\tM705:5/     M704:15/t))))\n\t\t\t\tM693:5/     M692:13/t))\n\t\t\t\tM681:5/     M680:12/fbod\n\t\t\tM671:5/     M670:9/'\n\t\t\tM661:1/ M660:9/'\n\t\t\tM657:7/       M656:17/t))))\n\t\t\t\t\tM643:1/ M642:16/t)))\n\t\t\t\t\tM631:3/   M630:11/h\n\t\t\t\tM627:5/     M626:12/body\n\t\t\tM619:5/     M618:9/'\n\t\t\tM609:1/ M608:8/\n\t\t\tM606:20/'no\n\t\t\t'(theprimd605,604:M596:16/wrong\n\t\t\t'nod595,594:M576:10/h\n\t\t\t;d575,574:M571:1/ M570:6/\n\t\tM569:1/ M568:6/\n\t\tM561:12/            M560:6/is\n\tM543:12/            M542:8/list\n\tM533:5/     M532:8/list\n\tM525:5/     M524:7/exp\n\tM521:3/   M520:7/it?\n\tM507:3/   M506:5/'\n\tM445:4/    M444:6/l)\n\tM441:6/      M440:6/0)\n\tM433:2/  M432:5/'\n\tM420:9/'\n\t(letd419,418:X
!42=M1038:11/'\n\n\t\t\td1036,769:M22:6/W\n\n;X
!39=M1105:3/   d1104,1103:i1098,2:1/ 1/;M398:4/(letM397:4/    M306:9/\"uhhh\")M304:6/(abortM302:2/'_M300:7/'\n(letM290:4/(leti289,2:4/'\n;1/ X
!35=M308:3/999d306,305:X
!32=M278:14/'error_cdr_nilM246:14/'error_car_nilX
!29=M1106:21/prog\n\n)))))\n)))\n"d306,301:M292:7/'\n(letd290,289:X
!26=M1098:22/prog)\n\n)))))\n)))\n"d1097,1096:d1091,1090:X
!22=d298,285:M218:9/'\n\n(leti217,14:6/args))1/ 4/(car1/ 6/(parse1/ 5/'prog1/ 7/'\n(let1/ 5/'args1/ 20/language.\n\n(lambda1/ X

w%3Acompile.w 442 12438/(let '__metadata '(("ip" "66.167.250.123") ("time" "Fri, 09 Mar 2007 18:26:11 EST") ("summary" "call function, don't return it")) '";                           -*- lisp -*-\n; bootstrapping W compiler\n\n; this \"compiler\" is mostly just desugaring: the\n; B language supports most of the features we\n; need. (and they both use the same abstract syntax).\n\n; features to implement:\n; progn (not needed yet)\n; let auto-quoting    (DONE)\n; if auto-quoting     (DONE)\n; lambda auto-quoting (DONE)\n; implement nil       (DONE)\n; xcase auto-quoting  (DONE)\n; fn construct        (DONE)\n; include construct   (DONE)\n; handle auto-quoting (DONE)\n; cond construct      (DONE)\n; fun construct       (DONE)\n; lets construct\n\n(include \"stdlib\"\n(fn (prog)\n\n;; XXX to stdlib\n(let nth\n  (fn (self n l)\n      (if (eq n 0) (car l)\n        (nth nth (- n 1) (cdr l))))\n\n(let translate\n  (fn (self exp)\n       ; what kind of expression is it?\n       (xcase exp\n         exp ; empty list\n         (h t  ; nonempty list\n               ; need to case analyze which prim this is\n               ; in essence \n\n             (xcase h\n                    ; it has to be a symbol, or something's wrong\n                    ; (note, this excludes in place lambda application..)\n                    no no no no no\n                    (theprim \n\t\t     (cond\n                      ((eq theprim \"defs\")\n                        ; t: list of pairs\n                        (map (fn (d_arg)\n                                 (list (car d_arg) (self self (car (cdr d_arg))))) t))\n\n\t\t      ((eq theprim \"cond\")\n \t \t        ; t: list of conditions\n\t\t\t; we do a macro expansion (to chained ifs) \n\t\t\t; and recurse on that result\n\t\t\t(self self\n\t\t\t     (foldr (fn (c rest) \n\t\t\t\t\t(xcase c\n\t\t\t\t\t       (abort \"empty condition in cond?\")\n\t\t\t\t\t       (thecond thiscase\n\t\t\t\t\t\t (list (parse \"if\")\n\t\t\t\t\t\t       thecond\n\t\t\t\t\t\t       (car thiscase)\n\t\t\t\t\t\t       rest))\n\t\t\t\t\t       ) ; xcase\n\t\t\t\t\t)\n\t\t\t              ;; if all fail, then we return nil\n\t\t\t              (parse \"nil\")\n\t\t\t\t      t)))\n\n                      ((eq theprim \"include\")\n                        ; t: \"page\" body\n                        (let meta_lib (head (string \"w:\" (car t)))\n                        ; assume it has metadata, and skip it\n                        (let lib (xcase (car (cdr (cdr (cdr meta_lib))))\n                                   no (_ _ no) (q q))\n                        (let bod (self self (car (cdr t)))\n                        (let bindlib (fn (bl_self l) \n                                      (xcase l\n                                        bod ;; no more bindings...\n                                        (thedef rest\n                                           (list (parse \"let\")\n                                                 (quote (car thedef))\n                                                 (car (cdr thedef))\n                                                 (quote (bl_self bl_self rest))\n                                            )\n                                       )))\n                           (bindlib bindlib lib)\n                         )))))\n\n                     ((eq theprim \"lambda\")\n                         ; t: arg body\n                         (cons h\n                               (cons (quote (self self (car t)))\n                                     (cons (quote (self self (car (cdr t))))\n                                           nil))))\n\n                     ((eq theprim \"if\")\n                         ; t: cond tbod fbod\n                         (list h (self self (car t))\n                                 (quote (self self (car (cdr t))))\n                                 (quote (self self (car (cdr (cdr t)))))))\n\n                     ((eq theprim \"handle\")\n                         ; t: try catch\n                         (list h (quote (self self (car t)))\n                                 (quote (self self (car (cdr t))))))\n\n                     ((eq theprim \"let\")\n                         ; t: sym value body\n                         (list h (quote (car t))\n                                 (self self (car (cdr t)))\n                                 (quote (self self (car (cdr (cdr t)))))))\n\n\t\t     ((eq theprim \"fun\")\n\t\t      ; f1 (x1 x2 .. xn) body1\n\t\t      ; f2 (y1 y2 .. yk) body2\n\t\t      ; etc.\n                      ; allbody\n\n\t\t      ; becomes\n\t\t      ; let f1rec (fn (f1rec f2rec .. fmrec x1 .. xn) \n\t\t      ;             (let f1 (fn (x1 ... xn) (f1rec f1rec f2rec .. fmrec x1 ... xn))\n\t\t      ;             (let f2 (fn (y1 ... yk) (f2rec f1rec f2rec .. fmrec y1 ... yk))\n\t\t      ;               body1\n\t\t      ; let f2rec ...\n                      ; let f1 (fn (x1 ... xn) (f1rec f1rec f2rec .. fmrec x1 ... xn))\n\t\t      ; let f2 (fn (y1 ... yk) (f2rec f1rec f2rec .. fmrec y1 ... yk))\n\t\t      ; allbody\n\t\t      \n\t\t      ;; start by getting the list of fundecs (triples of f,args,body)\n\t\t      ;; and the allbody\n\n\t\t      (let decsbody\n\t\t\t(let getdb (fn (self l)\n\t\t\t\t       (xcase l\n\t\t\t\t\t  (abort \"fun: expected f (args) body or allbody\")\n\t\t\t\t\t  (onemaybe rest\n\t\t\t\t\t    (xcase rest\n\t\t\t\t\t       ; if empty, then this is the allbody\n\t\t\t\t\t       (list nil onemaybe)\n\t\t\t\t\t       (two rest\n\t\t\t\t\t\t (xcase rest\n\t\t\t\t\t\t    (abort \"fun: expected f (args) body\")\n\t\t\t\t\t\t    (three rest\n\t\t\t\t\t\t       ;; insist that onemaybe is a symbol\n\t\t\t\t\t\t       (let one\n\t\t\t\t\t\t\t (xcase onemaybe\n\t\t\t\t\t\t\t\t(abort \"fun: expected sym\")\n\t\t\t\t\t\t\t\t(_ _ (abort \"fun: expected sym\"))\n\t\t\t\t\t\t\t\t(_ (abort \"fun: expected sym\"))\n\t\t\t\t\t\t\t\tno no\n\t\t\t\t\t\t\t\t(sym sym))\n\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t(let grest (self self rest)\n\t\t\t\t\t\t\t(let fs (car grest)\n\t\t\t\t\t\t\t(let allbody (car (cdr grest))\n\t\t\t\t\t\t\t(list (cons (list one two three) fs)\n\t\t\t\t\t\t\t      allbody))))))))))\n\t\t\t\t\t  ) ; xcase on list\n\t\t\t\t       )\n\t\t\t     (getdb getdb t))\n\t\t      (let decs (car decsbody)\n\t\t      (let body (car (cdr decsbody))\n\n\n                      ; let f1 (fn (x1 ... xn) (f1rec f1rec f2rec .. fmrec x1 ... xn))\n\t\t      ;; for one fn, as below\n\t\t      (let wrapdec (fn (decl rest)\n\t\t\t\t       (let f (car decl)\n\t\t\t\t       (let frec (string f \"rec\")\n\t\t\t\t       (let args (car (cdr decl))\n\t\t\t\t       (let bod (car (cdr (cdr decl)))\n\t\t\t\t       (list\n\t\t\t\t\t(parse \"let\")\n\t\t\t\t\t(parse f)\n\t\t\t\t\t(list\n\t\t\t\t\t (parse \"fn\")\n\t\t\t\t\t args\n\t\t\t\t\t ; apply frec to selves, args\n\t\t\t\t\t (cons\n\t\t\t\t\t  (parse frec)\n\t\t\t\t\t  (@\n\t\t\t\t\t   (map (fn (decl)\n\t\t\t\t\t\t    (parse (string (car decl) \"rec\"))) decs)\n\t\t\t\t\t   args))\n\t\t\t\t\t )\n\t\t\t\t\trest))))))\n\n\t\t      ;; given some body,\n\t\t      ;; wrap the body with the lets for f1..fn\n\t\t      ;; that do not need the \"self\" arguments,\n\t\t      ;; assuming decs in scope of f1rec..fnrec\n\t\t      (let wrapdecs (fn (bod) (foldr wrapdec bod decs))\n\n\t\t      ;; the outer bindings, for one f\n\n\t\t      ; let f1rec (fn (f1rec f2rec .. fmrec x1 .. xn) \n\t\t      ;             (let f1 (fn (x1 ... xn) (f1rec f1rec f2rec .. fmrec x1 ... xn))\n\t\t      ;             (let f2 (fn (y1 ... yk) (f2rec f1rec f2rec .. fmrec y1 ... yk))\n\t\t      ;               body1\n\n\t\t      (let binddec (fn (decl rest)\n\t\t\t\t       (let f (car decl)\n\t\t\t\t       (let frec (string f \"rec\")\n\t\t\t\t       (let args (car (cdr decl))\n\t\t\t\t       (let bod (car (cdr (cdr decl)))\n\t\t\t\t       (list\n\t\t\t\t\t(parse \"let\")\n\t\t\t\t\t(parse frec)\n\t\t\t\t\t(list\n\t\t\t\t\t (parse \"fn\")\n\t\t\t\t\t (@\n\t\t\t\t\t  ; self args\n\t\t\t\t\t  (map (fn (decl)\n\t\t\t\t\t\t   (parse (string (car decl) \"rec\"))) decs)\n\t\t\t\t\t  ; real args\n\t\t\t\t\t  args)\n\t\t\t\t\t (wrapdecs bod))\n\t\t\t\t\trest))))))\n\n\t\t      ;; and finally build the thing, then translate the output\n\t\t      (self self (foldr binddec (wrapdecs body) decs))\n\t\t\t   \n\t\t\t   ))))))\n\n\t\t      ) ; fun\n\n                     ;; (lets (h1 h2 h3 tail) exp body)\n\t\t     ((eq theprim \"lets\")\n\t\t      ; XXX gensym\n\t\t      (let argname \"letsval\"\n\t\t\t;; assuming the current tail is called \"letsval\"\n\t\t\t(fun genbinds (args)\n\t\t\t     (xcase args\n\t\t\t      ; if none, then something's wrong\n\t\t\t      (abort \"no args to lets\")\n\t\t\t      (ah at\n\t\t\t\t  ;; if this is the last arg, then\n\t\t\t\t  ;; it should be bound to letsval\n\t\t\t\t  ;; and we are done\n\t\t\t\t  (xcase at\n\t\t\t\t\t (list (parse \"let\")\n\t\t\t\t\t       ;; XX check it's a sym\n\t\t\t\t\t       ah\n\t\t\t\t\t       (parse argname)\n\t\t\t\t\t       (car (cdr (cdr t))))\n\t\t\t\t\t (_ _\n\t\t\t\t\t  ;; otherwise we bind this arg\n\t\t\t\t\t  ;; and continue...\n\t\t\t\t\t    (list (parse \"xcase\")\n\t\t\t\t\t\t  (parse argname)\n\t\t\t\t\t\t  (parse \"lets-nil\")\n\t\t\t\t\t\t  (list ah\n\t\t\t\t\t\t\t(parse argname)\n\t\t\t\t\t\t\t(genbinds at)))))))\n\t\t\t  (self self\n\t\t\t   (list (parse \"let\")\n\t\t\t\t (parse argname)\n\t\t\t\t (car (cdr t))\n\t\t\t\t (genbinds (car t))))\n\t\t\t  )))\n\t\t      \n                     ;; (fn (arg1 arg2 ... argn) body)\n                     ((eq theprim \"fn\")\n                         ; t args body\n                         ; XXX need gensym\n                         (let argname \"fnarg_\"\n                           (let genargs\n                             (fn (ga_self l bod) \n                               (xcase l\n                                ; no more args...\n                                (self self bod)\n                                ; one arg ...\n                                (thisarg rest\n                                  (list (parse \"xcase\")\n                                     ; argument tail always rebound as the same thing (argname)\n                                     (parse argname)\n                                     ; no more actual args? oops!\n                                     (quote (parse \"noarg\")) ;; XXX abort?\n                                     ; otherwise, bind this arg and recurse\n                                     (quote (list thisarg (parse argname) (ga_self ga_self rest bod))))\n                                  )\n                                 ) ; xcase on remaining arguments\n                                )\n\n                            ; XXX could use 'symbol' constructor\n                           (list (parse \"lambda\")\n                                 (quote (parse argname))\n                                 ;; bind args and then exec body...\n                                 (quote (genargs genargs (car t) (car (cdr t))))))))\n\n                      ((eq theprim \"xcase\")\n                         ; t: ob nb lb qb sb ib yb\n                         (xcase t\n                              (abort \"no args to xcase?\")\n                              (ob cases\n                                (cons h (cons (self self ob)\n                                  ;; quotes all arguments; allows any number of them\n                                  (map (fn (x) (quote (self self x))) cases))))))\n\n\t\t      (1 \n                       ;; otherwise, assume it is eager...\n                       (cons h\n                             (map (fn (x) (self self x)) t)))\n\t\t       )\n                   ))\n             ) ; nonempty list\n\n          (q (abort \"quote not allowed in W\"))\n\n          exp ; string\n          exp ; int\n          (s \n            ; some symbols we'll macro-expand\n            (if (eq s \"nil\")\n                (quote nil)\n\n              ; the rest we'll leave alone...\n              ; could fail on prims that we macro-expand\n              ; (let, if, lambda, xcase)\n              ; because those cannot be used in a \"higher-order\"\n              ; way now..\n              exp))\n          (abort (string \"huh? the expression is a closure or primitive or something?\" exp))\n           )\n       )\n\n  ;; then translate it.\n  (translate translate (parse prog))\n\n))))\n")
!439=M1984:12/t)))\n\t\t\tM1980:8/genbindsM32:7/that"))M30:3/forM28:5/placeM26:6/"wrongd24,23:M18:8/18:25:02X
!436=d2506,2505:i2479,2:3/)\n11/           M30:12/reporting"))M28:5/errorM26:7/"betterd24,23:M18:8/18:23:22X
!429=M2506:6/))\n\nd2505,2478:M28:7/lets"))M26:2/atM24:5/"stabM18:8/17:55:28X
!417=d1984,1753:M164:12/construct\n;d163,162:d160,155:M28:7/etc."))M26:3/fn,M24:4/usesi23,18:2/it1/ 5/since1/ 5/pass,1/ 3/fun1/ 2/of1/ 6/output1/ 3/the1/ 9/translate1/ 5/"need1/ M18:8/16:58:06X
!413=M1752:13/decs)\n\t\t\td1743,1740:M1738:11/thing\n\t\td1734,1727:M46:6/arg"))M44:4/selfM42:6/"needsd40,23:M18:8/16:51:07X
!409=d1262,1261:M28:10/bugs..."))M26:4/haveM24:2/toi23,6:6/likely1/ 4/fun;1/ 10/"implement1/ M18:8/17:05:32M12:2/08M10:5/"Thu,M6:12/"127.0.0.1")X
!408=M1212:25/'no\n\t\t\t\t\t\t\t\t(symM1210:28/sym\"))\n\t\t\t\t\t\t\t\t'noM18:8/17:05:04X
!401=M1736:12/t)))))))\n\nd1734,1655:d1648,1223:d1218,829:M162:9/(DONE)\n;i162,2:6/      9/constructM34:9/point?"))M32:6/"fixedd30,23:M18:8/09:48:09X
!399=M18:8/09:47:46X
!397=M26:11/compiler"))M24:2/ini23,6:4/cond1/ 3/use1/ 4/"now1/ M18:8/09:47:03X
!391=M1206:6/prim\nM1205:1/ M1204:2/ofi1203,10:8/analysis1/ 4/case1/ 1/;1/ 9/)))))))))21/                     5/t))\n1/ M1174:14/cases)))))\n\nd1172,1169:M1084:3/(eqM1083:1/ M1082:3/(ifi1082,2:21/                     12/t)))))))\n\nM856:3/(eqi856,2:1/ 3/(ifM840:11/t))))))\n\nM792:3/(eqi792,2:1/ 3/(ifM790:10/t)))))\n\nM752:3/(eqi752,2:1/ 3/(ifM750:11/t))))))\n\nM698:3/(eqi698,2:1/ 3/(ifM696:10/nil)))\n\nM652:3/(eqi652,2:1/ 3/(ifM650:8/))))\n\nM498:3/(eqM497:1/ M496:3/(ifi496,2:21/                     7/t))\n\nM380:3/(eqM379:1/ M378:3/(ifi378,2:5/     10/t)\n\n\t\tM340:3/(eqM339:1/ M338:3/(ifM337:21/                     M336:2/\nM162:12/construct\n;d161,160:M32:8/"oops"))d30,23:M18:8/09:41:52X
!389=M458:21/thebody\n\t\t\t\t\t\td457,456:M446:21/thebody\n\t\t\t\t\t\tM24:7/cond"))i23,2:8/"support1/ M18:8/09:40:30X
!367=M1208:8/))))))))M488:6/t)\n\nd487,486:d484,369:d154,151:M26:8/point"))M24:5/fixedi23,6:5/reach1/ 2/to1/ 8/"attempt1/ M18:8/16:29:37M12:2/07M10:5/"Wed,X
!365=M18:8/16:28:39X
!361=M32:14/w:compile.b"))M30:4/fromM28:5/"portd26,23:M18:8/16:26:05X

w%3Astdlib 407 1483/(let '__metadata '(("ip" "127.0.0.1") ("time" "Thu, 08 Mar 2007 16:55:15 EST") ("source" "w:stdlib.w") ("summary" "todo")) '((car (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "car nil") '(h _ h)))))) (cdr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l fnarg_ (xcase l '(abort "cdr nil") '(_ t t)))))) (map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l ''() '(h t (cons (f h) (self self f t)))))))))))) (map (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (map map f l))))))) (foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(b fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (xcase l 'b '(h t (f h (self self f b t)))))))))))))) (foldr (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(f fnarg_ (xcase fnarg_ 'noarg '(b fnarg_ (xcase fnarg_ 'noarg '(l fnarg_ (foldr foldr f b l))))))))) (@ (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(self fnarg_ (xcase fnarg_ 'noarg '(l1 fnarg_ (xcase fnarg_ 'noarg '(l2 fnarg_ (xcase l1 'l2 '(h t (cons h (self self t l2)))))))))))) (@ (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(l1 fnarg_ (xcase fnarg_ 'noarg '(l2 fnarg_ (@ @ l1 l2))))))) (linkup (lambda 'fnarg_ '(xcase fnarg_ 'noarg '(s fnarg_ (xcase fnarg_ 'noarg '(text fnarg_ (let 'exists (handle '(let '_ (head s) '1) '(_ '())) '(string "<a class=\"" (if exists '"blue" '"red") "\" href=\"/run/" s "\">" text "</a>"))))))))))
!405=M28:9/concat"))i27,2:4/"add1/ M18:8/16:48:25X
!388=d396,305:M30:10/"+foldr"))d28,27:M18:8/09:35:53X
!336=d302,187:M28:14/"w:stdlib.w"))d26,23:M18:8/14:51:57M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!309=M254:7/x))))))d252,209:M206:3/'(xd200,191:M18:8/14:26:06X
!302=M200:16/"</a>"))))))))))i199,44:4/text1/ 5/"\">"1/ 1/s1/ 8/href=\""1/ 3/"\"1/ 7/'"red")1/ 7/'"blue"1/ 6/exists1/ 3/(if1/ 9/class=\""1/ 3/"<a1/ 8/'(string1/ 5/'()))1/ 3/'(_1/ 3/'1)1/ 2/s)1/ 5/(head1/ 2/'_1/ 5/'(let1/ 7/(handle1/ 7/'exists1/ 4/(let1/ M196:6/'(texti191,10:6/(xcase1/ 6/fnarg_1/ 3/'(s1/ 6/'noarg1/ 6/fnarg_1/ M18:8/14:12:09X
!100=M254:9/l))))))))d252,181:M26:5/((card25,0:X
!90=M106:2/(hM104:3/nilM58:2/(_M52:6/(abortM26:2/(hM20:6/(abortX
!77=M0:4/(cari0,2:1/ 5/(listX

w%3Astdlib.w 406 1027/(let '__metadata '(("ip" "127.0.0.1") ("time" "Thu, 08 Mar 2007 16:55:15 EST") ("summary" "todo")) '";; standard library for W.\n;; It is a list of symbols and the expressions that they define.\n\n(defs\n\n(car (fn (l) (xcase l (abort \"car nil\") (h _ h))))\n(cdr (fn (l) (xcase l (abort \"cdr nil\") (_ t t))))\n\n; Should provide generic Y combinator\n(map (fn (self f l) (xcase l nil (h t (cons (f h) (self self f t))))))\n(map (fn (f l) (map map f l)))\n\n(foldr (fn (self f b l) (xcase l b (h t (f h (self self f b t))))))\n(foldr (fn (f b l) (foldr foldr f b l)))\n\n; perhaps more appropriate to support n arguments\n(@ (fn (self l1 l2) (xcase l1 l2 (h t (cons h (self self t l2))))))\n(@ (fn (l1 l2) (@ @ l1 l2)))\n\n; generate an HTML link for a page name\n(linkup\n  (fn (s text)\n    ; PERF: is 'history' cheaper? Probably not...\n    (let exists (handle (let _ (head s) 1) (_ nil))\n     (string \"<a class=\\\"\" (if exists \"blue\" \"red\") \"\\\" href=\\\"/run/\" s \"\\\">\" text \"</a>\")\n    )\n   ))\n\n)")
!404=M220:10/l)))\n\n(@d218,205:M24:9/concat"))i23,2:4/"add1/ M18:8/16:48:25X
!403=M252:9/l2))\n\n;M18:8/16:48:02X
!387=M252:9/l)))\n\n;d250,207:M26:10/"+foldr"))d24,23:M18:8/09:35:53X
!335=d204,203:d200,151:M24:6/EST"))M22:8/14:51:57d20,17:M12:2/02M10:5/"Fri,M6:16/"128.2.203.136")X
!308=M234:4/)\n;M232:12/\"</a>\")\n;M224:11/href=\\\"\"M206:8/nil))\n;M186:9/not...\n;M172:16/\"directory\"\n;i171,24:4/same1/ 4/that1/ 2/in1/ 4/stay1/ 2/so1/ 4/url,1/ 5//run/1/ 2/at1/ 3/are1/ 2/we1/ 1/;4/    8/text)\n;1/ M166:6/x))\n;i165,6:3/(x)1/ 3/(fn1/ 13/name\n(linkup1/ M18:8/14:26:06X
!301=M264:3/)\nM262:11/\"</a>\")\nM236:7/nil))\nM216:8/not...\nM202:15/\"directory\"\nM178:7/text)\nM172:15/name\n(linkup\nd170,165:M18:8/14:12:09X
!99=M260:10/l)))\n\n)"d259,256:d254,149:M22:3/";;d21,0:X
!89=X
!86=X
!83=M32:20/define.\n\n(\n\n(carX
!76=M32:24/define.\n\n(list\n\n(carX
!75=M32:18/define.\n\n(\n(carX
!74=M72:9/t)))\n\n;M52:10/h)))\n(cdrX

