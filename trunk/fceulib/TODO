Stuff I should be able to get rid of:

 - ines.cpp "trainerpoo"
 - file wrappers can be massively simplified
 - file archive support
 - new ppu?
 - auto-fire
 - video.cc can probably go?
 - autosave (fceu.cc mostly)
 - FCEUDEF_DEBUGGER is never defined. excise.
 - smorkus in PPU
 - make x6502 follow normal conventions of how it defines stuff,
   include guards, etc.
 - x6502struct.h: preexec

      Still to objectify:

      config.cc
      emulator.cc
      fceu.cc
      fds.cc
      file.cc
      fm2tocc.cc
      headless-driver.cc
      ines.cc
      input.cc
      ppu.cc
      state.cc
      unif.cc
      video.cc
      vsuni.cc
      x6502.cc
      boards/*
      mappers/*

Cleanup to do:
 - loads of unnecesary gotos in sound.cc
 - for loops with shared index variable in sound.cc
 - There's a #define for WRAM in ines.h and ALSO a non-static
   WRAM in mmc3.cc which wasted hours of my time. Are the right
   places seeing the right symbol, even?
 - I left wrappers around IRQBegin and SetReadHandler that are
   expensive even when not tracing.

Surprisingly necessary:
 - crc32 since ines.cc has a table of games and their CRCs.
 - cart md5ing
 - md5 in FECUGI; note I'm using md5 for RamChecksum though
    - If this gets threaded to cartinfo, we also need it
      for example for hack checks in onebus.cc


Possible performance improvements:
 - Can the ZNTable be replaced with a computation on the value itself?
   See my comment in x6502.cc.
 
 - Is it possible to remove the indirection when reading/writing memory,
   perhaps in a special case? Currently ARead is populated with a bunch
   of function pointers (including special regions installed by various
   mappers and cart types.) Could maybe be replaced with a single function
   (inlined into x6502) per mapper configuration.


Notes:
"CDLogger" is "code data logger", and I have deemed it unnecessary

Helper snippets:

alias files='find . -type f | grep -v .svn | grep -v ".o$"'
(defun find-mentions () 
 (interactive "")
 (let ((sym (thing-at-point 'symbol)))
    (message sym)
    (let ((cmd (concat "bash -c \"grep '"
	                sym 
	   	        "' `/bin/find . -type f | grep -v roms/ | grep -v roms_crash/ | grep -v .svn | grep -v '.nes$' | grep -v '.exe$' | grep -v '.o$'`\"")))
      (message "%s" cmd)
        (let ((res (shell-command-to-string cmd)))
           (message "%s" (concat cmd "\n" res))
        )
    )    
 )
)

// (global-set-key "\C-xm" 'find-mentions)

(defun insert-cart ()
  (interactive "")
  (save-excursion  (insert "fceulib__cart."))
)

(global-set-key "\C-xx" 'insert-cart)

(defun set-cart-rectangle ()
  (interactive "")
  (string-rectangle (region-beginning) (region-end) "fceulib__cart.")
)

(global-set-key "\C-xw" 'set-cart-rectangle)

